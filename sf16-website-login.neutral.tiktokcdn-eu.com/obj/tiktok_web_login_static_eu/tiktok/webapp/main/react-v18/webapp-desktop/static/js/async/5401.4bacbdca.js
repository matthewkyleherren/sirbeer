"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["5401"],{19753:function(e,t,r){r.d(t,{$X:function(){return u},AX:function(){return _},Ci:function(){return m},Dj:function(){return c},Kq:function(){return k},NV:function(){return v},SH:function(){return p},_j:function(){return f},_o:function(){return a},j9:function(){return d},nC:function(){return s},rS:function(){return l},uI:function(){return g},v1:function(){return h}});var n,i,o,a={format:"common_registration_phone_input_error"},s={1011:"common_login_email_error",1009:"common_login_password_error"},u={1002:"common_registration_phone_input_error",1003:"common_registration_phone_input_error",1054:"common_login_reset_phone_input_error"},c={1011:"common_login_reset_email_input_error",1202:"common_registration_phone_sms_error"},d={1039:"login_risk_SMS_1",1091:"passport_uid_banned",1203:"mus_error_code",1054:"common_login_reset_phone_input_error",1051:"common_registration_password_error",1382:"createpw_error_1",8:"login_expired",2027:"login_page_lock",2028:"login_page_lock"},l={1016:"incorrect_code"},p=[1203],h=((n={})[n.NeedTwoStep=2046]="NeedTwoStep",n[n.NeedForceResetPassword=1381]="NeedForceResetPassword",n[n.TwoStepBlockResetPassword=1356]="TwoStepBlockResetPassword",n[n.TwoStepBlockLogin=1053]="TwoStepBlockLogin",n[n.NeedSignup=1011]="NeedSignup",n[n.AuthorizationError=1045]="AuthorizationError",n[n.ReactiveAccountError=4]="ReactiveAccountError",n[n.MissingTicketCookie=17006]="MissingTicketCookie",n[n.BannedUser=1091]="BannedUser",n[n.NeedM2Bind=20001]="NeedM2Bind",n[n.M2LogoutBindRequired=20003]="M2LogoutBindRequired",n[n.M2LogoutAppleIdBind1POnly=20004]="M2LogoutAppleIdBind1POnly",n[n.M2LogoutAppleIdBindWillLoose=20005]="M2LogoutAppleIdBindWillLoose",n),g=[1023,1031,1044],f=[1016],_=1430,m=[1075,1430],v=((i={})[i.InitUnknownError=-100]="InitUnknownError",i[i.InitLoadFailed=-101]="InitLoadFailed",i[i.LoginSDKFailed=-102]="LoginSDKFailed",i[i.LoginUnknownError=-103]="LoginUnknownError",i),k=((o={})[o.RegionServiceUnknownError=-200]="RegionServiceUnknownError",o[o.RegionServiceDuplicateCount=-201]="RegionServiceDuplicateCount",o[o.RegionServiceNoResponseError=-202]="RegionServiceNoResponseError",o[o.AccountSdkUnknownError=-210]="AccountSdkUnknownError",o[o.AccountSdkImportError=-211]="AccountSdkImportError",o[o.AccountSdkInitError=-212]="AccountSdkInitError",o[o.AccountSdkCloseCaptcha=-213]="AccountSdkCloseCaptcha",o[o.AccountSdkRequestError=-214]="AccountSdkRequestError",o[o.UnknownPasskeyError=-220]="UnknownPasskeyError",o)},24238:function(e,t,r){r.d(t,{Dt:function(){return p},Du:function(){return g},XP:function(){return v},g9:function(){return h},iU:function(){return _},jq:function(){return l},k0:function(){return f},lv:function(){return c},qo:function(){return d},wW:function(){return m}});var n,i,o,a,s,u=r(35383),c=((n={}).TWITTER="twitter",n.GOOGLE="google",n.FACEBOOK="facebook",n.INSTAGRAM="instagram",n.VK="vk",n.KAKAOTALK="kakaotalk",n.LINE="line",n.APPLE="apple",n.TIKTOK="tiktok",n),d="7a1c81ed488cc755a03f05f091162f38",l="1862952583919182",p="1569196861",h="6961453",g=(o={},(0,u._)(o,"facebook","1862952583919182"),(0,u._)(o,"google","1096011445005-sdea0nf5jvj14eia93icpttv27cidkvk.apps.googleusercontent.com"),(0,u._)(o,"twitter","rLsbFQ5NHI2IsWZiRc2McRCFc"),(0,u._)(o,"instagram","c8785d0dc7df48f298532fddf33d7cb5"),(0,u._)(o,"vk","6961453"),o),f=(a={},(0,u._)(a,1233,692),(0,u._)(a,1180,747),a),_=(s={},(0,u._)(s,"google",395),(0,u._)(s,"twitter",396),(0,u._)(s,"facebook",397),(0,u._)(s,"instagram",398),(0,u._)(s,"line",529),(0,u._)(s,"vk",528),(0,u._)(s,"kakaotalk",2246),s),m="socialOauth",v=((i={})[i.Login=0]="Login",i[i.Signup=1]="Signup",i[i.Verify=2]="Verify",i)},57756:function(e,t,r){r.d(t,{E:function(){return k},d:function(){return b}});var n=r(79066),i=r(95170),o=r(5377),a=r(45996),s=r(79262),u=r(72516),c=r(32907),d=r(9685),l=r(97623),p=r(2778),h=r(40074),g=r(36200),f=r(88999),_=r(4864),m=r(19753),v=r(1582),k="idv-modal-container",b=function(){function e(){(0,i._)(this,e),this._sdkUnitsCache=null,this.verificationShow$=new c.B,this.domReady$=new c.B,this.appearance="light"}var t=e.prototype;return t.withIdvVerify=function(e){var t=this;return e().catch(function(r){if((0,v._e)(r)){var n=JSON.parse(r.idv_decision_conf);return t.verify(n).then(function(t){if("success"===t.type)return e(n.passport_ticket,r);throw new v.Qd({error_code:m.Kq.AccountSdkCloseCaptcha,error_msg:"",report_msg:"idv sdk cancel"})})}throw r})},t.verify=function(e){return(0,n._)(function(){var t,r,n,i,s,c;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return t=this,[4,this._getSDK()];case 1:return n=(r=u.sent()).AccountIDVSDK,i=r.lang,s=r.region,c=r.wid,[2,new Promise(function(r){var u,l=(0,f.x)(),g=navigator.userAgent,_=new n({rootElement:"#".concat(k),appId:1459,region:s,debugger:{userId:c},appearance:t.appearance,generalParams:{locale:i,app_language:i,shark_extra:JSON.stringify((0,a._)((0,o._)({},(0,p.w)(null!=(u=(0,a._)((0,o._)({},l),{isMobile:(0,h.Ny)(g),os:(0,h.R0)(g)}))?u:{},!0,!0)),{app_name:"Tik_Tok_Login",aid:1459}))},locale:i,uiConfig:{home:{classnames:{container:"idv-transparent-container"}},email:{classnames:{container:"idv-transparent-container"}},sms:{classnames:{container:"idv-transparent-container"}},password:{classnames:{container:"idv-transparent-container"}}},events:{verification_end:function(e){t.verificationShow$.next(!1),r(e)}}});(0,d._)(t.domReady$).then(function(){return _.render(e)}),t.verificationShow$.next(!0)})]}})}).call(this)},t._getSDK=function(){return(0,n._)(function(){var e,t,n,i,o,a,s;return(0,u.__generator)(this,function(u){switch(u.label){case 0:if(this._sdkUnitsCache)return[3,2];return[4,Promise.all([r.e("65514"),r.e("7935")]).then(r.t.bind(r,35157,23)).catch(function(e){var t="load idv sdk error with ".concat(e);throw(0,v.u7)(e)&&(t="load idv sdk error with error ".concat(e.message)),new v.Qd({error_code:m.Kq.AccountSdkImportError,report_msg:t})})];case 1:e=u.sent().AccountIDVSDK,t=(0,f.x)().wid,n=(0,g.qm)(),o=(i=(0,_.c)()).vgeo,a=i.vregion,s="VGeo-US"===o?"oci":"VGeo-EU"===o?"eu":"US-EastRed"===a?"va":"sg",this._sdkUnitsCache={AccountIDVSDK:e,lang:n,region:s,wid:t},u.label=2;case 2:return[2,this._sdkUnitsCache]}})}).call(this)},e}();b=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([(0,l._q)({name:"IDVService@tiktok/login"})],b)},84366:function(e,t,r){r.d(t,{r:function(){return et},D:function(){return ee}});var n,i,o,a=r(79066),s=r(95170),u=r(41386),c=r(5377),d=r(45996),l=r(16327),p=r(6586),h=r(79262),g=r(72516),f=r(32907),_=r(89600),m=r(53708),v=r(31291),k=r(68710),b=r(25572),R=r(65070),w=r(45525),C=r(23999),S=r(20259),y=r(72916),P=r(95719),L=r(77073),M=r(35572),A=r(62564),q=r(97623),x=r(37633),E=r(89788),H=r(2778),I=r(40074),T=r(88999),U=r(4864),O=r(57327),F=r(73365),B=r(93915),D=r(41939),N={ar:"ar","bn-IN":"bn","ceb-PH":"ceb","cs-CZ":"cs-CZ","de-DE":"de","el-GR":"el-GR",en:"en",es:"es","fil-PH":"fil",fr:"fr","gu-IN":"gu-IN","hi-IN":"hi","hu-HU":"hu-HU","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","kn-IN":"kn","ko-KR":"ko","ml-IN":"ml-IN","mr-IN":"mr","ms-MY":"ms","my-MM":"my","nl-NL":"nl-NL","or-IN":"or","pa-IN":"pa-IN","pl-PL":"pl","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru","sv-SE":"sv-SE","ta-IN":"ta","te-IN":"te","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-Hans":"zh-Hant","zh-Hant-TW":"zh-Hant",az:"az",ca:"ca",da:"da-DK",et:"et","en-GB":"en-GB","es-419":"es-419","fr-CA":"fr",ga:"ga",hr:"hr",is:"is",sw:"sw",lv:"lv",lt:"lt",nb:"nb",uz:"uz",pt:"pt",sq:"sq",sk:"sk",sl:"sl",bg:"bg",kk:"kk","fi-FI":"fi-FI","he-IL":"he-IL",ur:"ur","km-KH":"km"},Z={ar:{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",passportLang:"ar"},"bn-IN":{label:"\u09AC\u09BE\u0999\u09CD\u0997\u09BE\u09B2\u09BF (\u09AD\u09BE\u09B0\u09A4)",passportLang:"bn"},"ceb-PH":{label:"Cebuano (Pilipinas)",passportLang:"ceb"},"cs-CZ":{label:"\u010Ce\u0161tina (\u010Cesk\xe1 republika)",passportLang:"cs"},"de-DE":{label:"Deutsch (Deutschland)",passportLang:"de"},"el-GR":{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC (\u0395\u03BB\u03BB\u03AC\u03B4\u03B1)",passportLang:"el"},en:{label:"English",passportLang:"en"},es:{label:"Espa\xf1ol",passportLang:"es"},"fi-FI":{label:"Suomi (Suomi)",passportLang:"fi"},"fil-PH":{label:"Filipino (Pilipinas)",passportLang:"fil"},fr:{label:"Fran\xe7ais",passportLang:"fr"},"he-IL":{label:"\u05E2\u05D1\u05E8\u05D9\u05EA (\u05D9\u05E9\u05E8\u05D0\u05DC)",passportLang:"he"},"hi-IN":{label:"\u0939\u093F\u0902\u0926\u0940",passportLang:"hi"},"hu-HU":{label:"Magyar (Magyarorsz\xe1g)",passportLang:"hu"},"id-ID":{label:"Bahasa Indonesia (Indonesia)",passportLang:"id"},"it-IT":{label:"Italiano (Italia)",passportLang:"it"},"ja-JP":{label:"\u65E5\u672C\u8A9E\uFF08\u65E5\u672C\uFF09",passportLang:"ja"},"jv-ID":{label:"Basa Jawa (Indonesia)",passportLang:"jv"},"km-KH":{label:"\u1781\u17D2\u1798\u17C2\u179A (\u1780\u1798\u17D2\u1796\u17BB\u1787\u17B6)",passportLang:"km"},"ko-KR":{label:"\uD55C\uAD6D\uC5B4 (\uB300\uD55C\uBBFC\uAD6D)",passportLang:"ko"},"ms-MY":{label:"Bahasa Melayu (Malaysia)",passportLang:"ms"},"my-MM":{label:"\u1019\u103C\u1014\u103A\u1019\u102C (\u1019\u103C\u1014\u103A\u1019\u102C)",passportLang:"my"},"nl-NL":{label:"Nederlands (Nederland)",passportLang:"nl"},"pl-PL":{label:"Polski (Polska)",passportLang:"pl"},"pt-BR":{label:"Portugu\xeas (Brasil)",passportLang:"pt"},"ro-RO":{label:"Rom\xe2n\u0103 (Romania)",passportLang:"ro"},"ru-RU":{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",passportLang:"ru"},"sv-SE":{label:"Svenska (Sverige)",passportLang:"sv"},"th-TH":{label:"\u0E44\u0E17\u0E22 (\u0E44\u0E17\u0E22)",passportLang:"th"},"tr-TR":{label:"T\xfcrk\xe7e (T\xfcrkiye)",passportLang:"tr"},"uk-UA":{label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430 (\u0423\u043A\u0440\u0430\u0457\u043D\u0430)",passportLang:"uk"},ur:{label:"\u0627\u0631\u062F\u0648",passportLang:"ur"},"vi-VN":{label:"Ti\u1EBFng Vi\u1EC7t (Vi\u1EC7t Nam)",passportLang:"vi"},"zh-Hans":{label:"\u7B80\u4F53\u4E2D\u6587",passportLang:"zh-Hans"},"zh-Hant-TW":{label:"\u7E41\u9AD4\u4E2D\u6587",passportLang:"zh-Hant"},az:{label:"Az\u0259rbaycan",passportLang:"az"},ca:{label:"Catal\xe0",passportLang:"ca"},da:{label:"Dansk",passportLang:"da"},et:{label:"Eesti",passportLang:"et"},"en-GB":{label:"English (UK)",passportLang:"en"},"es-419":{label:"Espa\xf1ol (Latinoam\xe9rica)",passportLang:"es"},"fr-CA":{label:"Fran\xe7ais (Canada)",passportLang:"fr"},ga:{label:"Gaeilge",passportLang:"ga"},hr:{label:"Hrvatski",passportLang:"hr"},is:{label:"\xcdslenska",passportLang:"is"},sw:{label:"Kiswahili",passportLang:"sw"},lv:{label:"Latvie\u0161u",passportLang:"lv"},lt:{label:"Lietuvi\u0173",passportLang:"lt"},nb:{label:"norsk (bokm\xe5l)",passportLang:"nb"},uz:{label:"O\u02BBzbek",passportLang:"uz"},pt:{label:"Portugu\xeas",passportLang:"pt"},sq:{label:"Shqip",passportLang:"sq"},sk:{label:"Sloven\u010Dina",passportLang:"sk"},sl:{label:"Sloven\u0161\u010Dina",passportLang:"sl"},bg:{label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438",passportLang:"bg"},kk:{label:"\u049A\u0430\u0437\u0430\u049B\u0448\u0430",passportLang:"kk"}},$=r(24238),j=r(19753),V=r(35383),W=((n={}).SendPhoneCode="/passport/web/send_code/",n.SendEmailCode="/passport/web/email/send_code/",n.AccountLogin="/passport/web/user/login/",n.ResetPwdLogin="/passport/web//password/reset_by_ticket/",n.ThirdLogin="/passport/web/auth/login_only/",n.ThirdVerify="/passport/web/auth/verify/",n.UsernameRegister="/passport/web/username/register",n.EmailRegister="/passport/web/email/register_verify_login",n.verifyPwdWithoutLogin="/passport/web/account/verify_pwd_without_login/",n);i={},(0,V._)(i,"RESET",4),(0,V._)(i,"SIGNUP",24),(0,V._)(i,"LOGIN",24),(0,V._)(i,"VERIFY",22),(0,V._)(i,"SECURITYVERIFY",34),(0,V._)(i,"FORCE_RESET",13),(0,V._)(i,"DELETE",22),(0,V._)(i,"LOGIN_VERIFY",13),o={},(0,V._)(o,"RESET",4),(0,V._)(o,"SIGNUP",1),(0,V._)(o,"LOGIN",13),(0,V._)(o,"VERIFY",6),(0,V._)(o,"FORCE_RESET",11),(0,V._)(o,"LOGIN_VERIFY",13);var K=r(34438),G=r(75441),z=r(1582),Q=r(57756),Y=r(70067);function J(e,t){if(("undefined"==typeof Reflect?"undefined":(0,h._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var X="bda89680-037b-49f7-91a9-70c8226b8143",ee=(0,x.U)("VerificationShowSubject@tiktok/login",function(){return new f.B}),et=function(){function e(t,r,n,i){(0,s._)(this,e),this.userRegion=t,this.slardar=r,this.loginReport=n,this.idvService=i,this.overrideRegionCode=null,this.extraParams={aid:1459,is_sso:!1,account_sdk_source:"web",region:"",language:"en",locale:"en",did:""},this.requestInfo={}}var t=e.prototype;return t.setContext=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.phoenix=n.phoenix,this.targetAid=n.targetAid,this.standaloneAid=n.standaloneAid,this.extraParams.region=e.region,this.extraParams.language=(null==(t=Z[e.language])?void 0:t.passportLang)||"en",this.extraParams.locale=e.language,this.extraParams.did=e.wid,$.iU[$.lv.APPLE]=$.k0[null!=(r=e.appId)?r:1180]},t.setOverrideRegionCode=function(e){this.overrideRegionCode=e},t.initAccountSdkInstance=function(){var e=this;return(0,_.v)(function(){return(0,a._)(function(){var e,t,n,i,o,a,s,u,l,p,h,f,_,m,v,k,b,R,w;return(0,g.__generator)(this,function(g){switch(g.label){case 0:if(e=this,t=this,this.sdkInstance)return[2,this.sdkInstance];if(E.Qf.loaded)return[3,2];return[4,E.Qf.load()];case 1:g.sent(),g.label=2;case 2:return i=(n=(0,T.x)()).language,o=n.appId,u={multi_login:1,did:s=void 0===(a=n.wid)?"":a,locale:i,app_language:i.split("-")[0]},this.overrideRegionCode&&(u=(0,d._)((0,c._)({},u),{reg_store_region:this.overrideRegionCode,user_selected_region:!0})),p=(l=(0,U.c)()).vgeo,h=l.vregion,f="VGeo-US"===p,_="VGeo-EU"===p,m=function(){if(f)return"ttp";if(_)switch(h){case"EU-TTP":return"ie";case"EU-TTP2":return"no1a";case"US-EastRed":return"useastred";default:return"gcp"}return 1180===o?"sg":"va"}(),v=(0,O.V)(),k=this.phoenix?"https://www.tiktok.in":"https://www.tiktok.com",b=(0,F.Bl)(B.c.Acrawler),[4,Promise.all([r.e("99513"),r.e("15265"),r.e("50488"),r.e("51355"),r.e("54784"),r.e("5643"),r.e("53174"),r.e("57156"),r.e("12027")]).then(r.bind(r,32783)).catch(function(e){var t="load account-api sdk error with ".concat(e);throw(0,z.u7)(e)&&(t=e.message),new z.Qd({error_code:j.Kq.AccountSdkImportError,report_msg:t})})];case 3:return w=new(g.sent()).WebInterfaceSdk({aid:1459,host:k,isOversea:!0,did:s,region:m,printLog:!1,pageLang:i,language:null!=(R=N[i])?R:"en",mode:(0,K.W)(f),starlingZoneHost:(null==v?void 0:v.starling)||"",captchaOptions:{fpCookieOption:{domain:this.phoenix?"www.tiktok.in":".tiktok.com",sameSite:"None",secure:!0}},generalParams:u,xhrConfig:{getDynamicConfig:function(t){var r,i=e.userRegion.getRegionDomain(),o=e.userRegion.getTtWid();e.requestInfo=(0,d._)((0,c._)({},t),{baseURL:i});var a=navigator.userAgent,s={baseURL:i,params:{target_aid:e.targetAid,standalone_aid:e.standaloneAid,shark_extra:JSON.stringify((0,d._)((0,c._)({},(0,H.w)(null!=(r=(0,d._)((0,c._)({},n),{isMobile:(0,I.Ny)(a),os:(0,I.R0)(a)}))?r:{},!0,!0)),{app_name:"Tik_Tok_Login",aid:1459}))},headers:{}};return o&&(s.headers={"x-tt-passport-ttwid-ticket":o}),s},cacheRedirectDomain:function(t){e.userRegion.currentRegion={domain:"https://".concat(t)}}},acrawler:"true",acrawlerUrl:b,sdi:!0,hooks:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(">>> tiktok login hooks: show",e),ee.next(!0);var r=e.method;t.loginReport.checkPointShow({verification_method:r})},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(">>> tiktok login hooks: typing",e);var r=e.method;t.loginReport.checkPointTyping({verification_method:r})},response:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(">>> tiktok login hooks: response",e);var r=e.method,n=e.status,i=e.error_code;"fail"!==n&&(ee.next(!1),t.loginReport.checkPointResponse({verification_method:r,status:n,error_code:i}))}}}),this.sdkInstance=w,[2,w]}})}).call(e)}).pipe((0,S.W)(function(e){console.error(e);var t="init account-api sdk error with ".concat(e);throw(0,z.u7)(e)&&(t=e.message),new z.Qd({error_code:j.Kq.AccountSdkInitError,report_msg:t})}),(0,m.L)(1))},t.getAccountSdk$=function(e){var t,r,n,i=this,o=null!=e?e:{},a=o.platform_app_id,s=o.email,u=o.mobile,c=o.account,d=o.username,l=o.ttWid;return!o.skipRegionCheck&&e&&(null!=(n=null!=(r=null!=(t=null!=a?a:s)?t:u)?r:c)?n:d)?this.userRegion.getUserRegions(e).pipe((0,y.n)(function(e){if(e.error_code)throw new z.Qd({error_code:e.error_code,report_msg:"get user region error, ".concat(e)});return i.initAccountSdkInstance().pipe((0,v.s)(1))})):(e&&this.slardar.handleUserRegionEscape({ttWid:l}),l&&this.userRegion.setTtWid(l),this.initAccountSdkInstance().pipe((0,v.s)(1)))},t.sendPhoneCode=function(e){var t=this,r=e.mobile;return this.getAccountSdk$({mobile:r,triggerPath:W.SendPhoneCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendPhoneCode")}),(0,k.Z)(function(n){return(0,b.H)(n.login.sendCode({mobile:r,extra_params:(0,d._)((0,c._)({},t.extraParams,e),{is6Digits:1})}))})).pipe(this.errorHandler.bind(this))},t.notLoginSendCode=function(e){var t=this;return this.getAccountSdk$({mobile:e.mobile,triggerPath:W.SendPhoneCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("notLoginSendCode")}),(0,k.Z)(function(r){return(0,b.H)(r.verify.notLoginSendCode({mobile:e.mobile,extra_params:(0,d._)((0,c._)({},t.extraParams),{is6Digits:1,web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.sendPhoneCodeWithType=function(e){var t=this,r=e.type,n=e.not_login_ticket,i=e.verify_ticket,o=e.method,a=e.mobile;return this.getAccountSdk$({mobile:a,triggerPath:W.SendPhoneCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendPhoneCodeWithType")}),(0,k.Z)(function(e){return e.extra.sendCode({type:r,method:o,mobile:a,extra_params:(0,d._)((0,c._)({not_login_ticket:n,verify_ticket:i},t.extraParams),{is6Digits:1})})})).pipe(this.errorHandler.bind(this))},t.sendPhoneCodeForResetPwd=function(e){var t=this,r=e.mobile,n=e.verify_ticket,i=e.not_login_ticket,o=e.type;return this.getAccountSdk$({mobile:r,triggerPath:W.ResetPwdLogin}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendPhoneCodeForResetPwd")}),(0,k.Z)(function(e){return(0,b.H)(e.forgetPwd.sendCode({mobile:r,extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:n,not_login_ticket:i,type:o,is6Digits:1})}))})).pipe(this.errorHandler.bind(this))},t.getOneTapToken=function(e){return this.makeRequest({method:"POST",slardarMethodName:"getOneTapToken",url:"/passport/web/sotl/app2web/get_auth_token/",data:(0,c._)({},e),params:{client_id:X,aid:"1459"}},{redirect_url:""},5e3)},t.checkOneTapState=function(e){var t=e.token,r=e.baseURL;return this.makeRequest({method:"POST",slardarMethodName:"checkOneTapState",url:"".concat(r,"/passport/web/sotl/app2web/check_auth_token/"),params:{token:t,client_id:X,aid:"1459"}},{})},t.sendPhoneCodeForForceResetPwd=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendPhoneCodeForForceResetPwd")}),(0,k.Z)(function(r){return(0,b.H)(r.extra.sendCode({type:13,code:e.code,extra_params:(0,d._)((0,c._)({},t.extraParams),{conditional_login_ticket:e.conditional_login_ticket,is6Digits:1})}))})).pipe(this.errorHandler.bind(this))},t.validatePhoneCodeForReset=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validatePhoneCodeForReset")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.validateCode((0,d._)((0,c._)({},e),{extra_params:(0,c._)({},t.extraParams)})))})).pipe(this.errorHandler.bind(this))},t.validatePhoneCodeForForceReset=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validatePhoneCodeForForceReset")}),(0,k.Z)(function(r){return(0,b.H)(r.extra.validateMobile({type:13,code:e.code,extra_params:(0,d._)((0,c._)({},t.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))})).pipe(this.errorHandler.bind(this))},t.sendEmailCodeForSignup=function(e){var t=this,r=e.email,n=void 0===r?"":r,i=e.password,o=void 0===i?"":i;return this.getAccountSdk$({email:n,triggerPath:W.SendEmailCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendEmailCodeForSignup")}),(0,k.Z)(function(e){return(0,b.H)(e.login.sendEmailCode({email:n,password:o,extra_params:(0,d._)((0,c._)({},t.extraParams),{email_logic_type:2})}))})).pipe(this.errorHandler.bind(this))},t.sendEmailCodeForLogin=function(e){var t=this,r=e.email,n=void 0===r?"":r,i=e.extra_params,o=void 0===i?{}:i;return this.getAccountSdk$({email:n,triggerPath:W.SendEmailCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendEmailCodeForLogin")}),(0,k.Z)(function(e){return(0,b.H)(e.login.sendEmailLoginCode({email:n,extra_params:(0,c._)({},t.extraParams,o)}))})).pipe(this.errorHandler.bind(this))},t.verifySendEmailCode=function(e){var t=this,r=e.verify_ticket;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("verifySendEmailCode")}),(0,k.Z)(function(e){return(0,b.H)(e.verify.sendEmailCode({extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:r,web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.sendEmailCodeForResetPwd=function(e){var t=this,r=e.email,n=void 0===r?"":r,i=e.not_login_ticket,o=e.email_logic_type;return this.getAccountSdk$({email:n,triggerPath:W.SendEmailCode}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendEmailCodeForResetPwd")}),(0,k.Z)(function(e){return(0,b.H)(e.forgetPwd.sendEmailCode({email:n,extra_params:(0,d._)((0,c._)({},t.extraParams),{not_login_ticket:i,email_logic_type:o})}))})).pipe(this.errorHandler.bind(this))},t.sendEmailCodeForForceResetPwd=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendEmailCodeForForceResetPwd")}),(0,k.Z)(function(r){return(0,b.H)(r.extra.sendEmailCode({type:11,code:e.code,extra_params:(0,d._)((0,c._)({},t.extraParams),{conditional_login_ticket:e.conditional_login_ticket})}))})).pipe(this.errorHandler.bind(this))},t.validateEmailCodeForReset=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateEmailCodeForReset")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.validateEmail((0,d._)((0,c._)({},e),{extra_params:(0,c._)({},t.extraParams)})))})).pipe(this.errorHandler.bind(this))},t.validateEmailCodeForForceReset=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateEmailCodeForForceReset")}),(0,k.Z)(function(r){return(0,b.H)(r.verify.validateEmail({code:e.code,extra_params:(0,d._)((0,c._)({},t.extraParams),{type:11,conditional_login_ticket:e.conditional_login_ticket,web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.emailCodeLogin=function(e){var t=this,r=e.not_login_ticket,n=e.verify_ticket,i=e.code,o=e.password;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("emailCodeLogin")}),(0,k.Z)(function(e){return t.idvService.withIdvVerify(function(a){return e.login.emailCodeLogin({code:i,email:"",extra_params:(0,d._)((0,c._)({},t.extraParams),{passport_ticket:a,not_login_ticket:r,verify_ticket:n,password:o,type:13})})})})).pipe(this.errorHandler.bind(this))},t.smsLogin=function(e){var t=this,r=e.mobile,n=void 0===r?"":r,i=e.code,o=e.login_only,a=e.birthday;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("smsLogin")}),(0,k.Z)(function(e){return t.idvService.withIdvVerify(function(r,s){return e.login.smsLogin({mobile:n,code:i,login_only:o,extra_params:(0,c._)({sms_code_key:null==s?void 0:s.sms_code_key,passport_ticket:r,birthday:a},t.extraParams)})})})).pipe(this.errorHandler.bind(this))},t.smsVerify=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("smsVerify")}),(0,k.Z)(function(t){return(0,b.H)(t.verify.notLoginValidateMobile(e))})).pipe(this.errorHandler.bind(this))},t.smsLoginContinue=function(e){var t=this,r=e.extra_params,n=(0,l._)(e,["extra_params"]);return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("smsLoginContinue")}),(0,k.Z)(function(e){return(0,b.H)(e.login.smsLoginContinue((0,d._)((0,c._)({},n),{extra_params:(0,c._)({},t.extraParams,r)})))})).pipe(this.errorHandler.bind(this))},t.passwordLogin=function(e){var t=this,r=e.password,n=e.username,i=void 0===n?"":n,o=e.extra_params,a=e.mobile,s=e.email,u=e.account;return this.getAccountSdk$({username:i,mobile:a,email:s,account:u,triggerPath:W.AccountLogin}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("passwordLogin")}),(0,k.Z)(function(e){return t.idvService.withIdvVerify(function(n){return e.login.pwdLogin({username:i.toLowerCase(),password:r,mobile:a,email:s,account:u,extra_params:(0,c._)({passport_ticket:n},t.extraParams,o)})})})).pipe(this.errorHandler.bind(this))},t.verifyPwdWithoutLogin=function(e){var t=this,r=e.password,n=e.username,i=void 0===n?"":n,o=e.extra_params,a=e.mobile,s=e.email,u=e.account;return this.getAccountSdk$({mobile:a,email:s,account:u,triggerPath:W.verifyPwdWithoutLogin}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("verifyPwdWithoutLogin")}),(0,k.Z)(function(e){return(0,b.H)(e.verify.verifyPwdWithoutLogin({username:i.toLowerCase(),password:r,mobile:a,email:s,extra_params:(0,d._)((0,c._)({account:u},t.extraParams,o),{web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.resetPwdLoginByEmail=function(e){var t=this,r=e.email,n=e.password,i=e.code,o=void 0===i?"":i,a=e.extra_params;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("resetPwdLoginByEmail")}),(0,k.Z)(function(e){return(0,b.H)(e.password.resetPwdLoginByEmail({password:n,code:o,email:r,extra_params:(0,d._)((0,c._)({},a,t.extraParams),{rules_version:"v2"})}))})).pipe(this.errorHandler.bind(this))},t.changePwdByMobile=function(e){var t=this,r=e.mobile,n=e.password,i=e.code;return this.getAccountSdk$({mobile:r,triggerPath:W.ResetPwdLogin}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("changePwdByMobile")}),(0,k.Z)(function(e){return(0,b.H)(e.forgetPwd.resetPwdByMobile({password:n,code:i,mobile:r,extra_params:(0,d._)((0,c._)({},t.extraParams),{rules_version:"v2"})}))})).pipe(this.errorHandler.bind(this))},t.validateMobileCodeForLogin=function(e){var t=this,r=e.code,n=e.verify_ticket,i=e.not_login_ticket;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateMobileCodeForLogin")}),(0,k.Z)(function(e){return(0,b.H)(e.password.validateMobile({code:r,extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:n,not_login_ticket:i,type:22})}))})).pipe(this.errorHandler.bind(this))},t.validateEmailCodeForLogin=function(e){var t=this,r=e.code,n=e.verify_ticket,i=e.not_login_ticket;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateEmailCodeForLogin")}),(0,k.Z)(function(e){return(0,b.H)(e.verify.notLoginValidateEmail({email:"",code:r,extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:n,not_login_ticket:i,type:6,web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.validateMobileCodeForReset=function(e){var t=this,r=e.code,n=e.verify_ticket,i=e.not_login_ticket,o=e.password;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateMobileCodeForReset")}),(0,k.Z)(function(e){return(0,b.H)(e.forgetPwd.resetPwdByMobile({code:r,mobile:"",password:o,extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:n,not_login_ticket:i})}))})).pipe(this.errorHandler.bind(this))},t.getOauthConfig=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("getOauthConfig")}),(0,k.Z)(function(t){return(0,b.H)(t.account.authConfig(e))})).pipe(this.errorHandler.bind(this))},t.thirdLogin=function(e){var t=this;return this.getAccountSdk$(e.login_only&&!e.profile_key?{uid:e.uid,openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:W.ThirdLogin}:void 0).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("thirdLogin")}),(0,k.Z)(function(r){return t.idvService.withIdvVerify(function(n){return r.login.authLogin((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({uid:e.uid,passport_ticket:n},t.extraParams),{platform_scene:e.platform_scene,birthday:e.birthday,platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri})}))})})).pipe(this.errorHandler.bind(this))},t.thirdVerify=function(e){var t=this;return this.getAccountSdk$({openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:W.ThirdVerify}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("thirdVerify")}),(0,k.Z)(function(r){return(0,b.H)(r.verify.authVerify((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({},t.extraParams),{platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri,web_verify_need_region:1,web_verify_expire_in:1200})})))})).pipe(this.errorHandler.bind(this))},t.resetPwdByEmailTicket=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("resetPwdByEmailTicket")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.resetPwdByEmailTicket((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({},t.extraParams),{rules_version:"v2"})})))})).pipe(this.errorHandler.bind(this))},t.resetPwdByMobileTicket=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("resetPwdByMobileTicket")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.resetPwdByMobileTicket((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({},t.extraParams),{rules_version:"v2"})})))})).pipe(this.errorHandler.bind(this))},t.forceResetPwdByMobileTicket=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("forceResetPwdByMobileTicket")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.forceResetPwdByMobileTicket((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({},t.extraParams),{rules_version:"v2"})})))})).pipe(this.errorHandler.bind(this))},t.forceResetPwdByEmailTicket=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("forceResetPwdByEmailTicket")}),(0,k.Z)(function(r){return(0,b.H)(r.forgetPwd.forceResetPwdByEmailTicket((0,d._)((0,c._)({},e),{extra_params:(0,d._)((0,c._)({},t.extraParams),{rules_version:"v2"})})))})).pipe(this.errorHandler.bind(this))},t.cancelDeleteAccount=function(e){var t=this;return e.extra_params=(0,c._)({},this.extraParams,e.extra_params),this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("cancelDeleteAccount")}),(0,k.Z)(function(t){return(0,b.H)(t.cancel.cancelLogin(e))})).pipe(this.errorHandler.bind(this))},t.cancelDeactiveAccount=function(e){var t=this;return this.getAccountSdk$().pipe((0,k.Z)(function(r){return(0,b.H)(r.request({url:"/passport/web/deactivation/login/",method:"POST",data:(0,c._)({},e,t.extraParams)}))})).pipe(this.errorHandler.bind(this))},t.setAccount=function(e){var t=this;return e.extra_params=(0,c._)({},this.extraParams,e.extra_params),this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("setAccount")}),(0,k.Z)(function(t){return(0,b.H)(t.account.setAccount(e))})).pipe(this.errorHandler.bind(this))},t.getQrCodeUrl=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("getQrCodeUrl")}),(0,k.Z)(function(t){return(0,b.H)(t.qrcodeLogin.getQrcode(e))})).pipe(this.errorHandler.bind(this))},t.checkQrconnect=function(e){var t=this;return this.getAccountSdk$({ttWid:e.ttWid}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("checkQrconnect")}),(0,k.Z)(function(t){return(0,b.H)(t.qrcodeLogin.checkQrconnect(e))})).pipe(this.errorHandler.bind(this))},t.usernameRegister=function(e){var t=this;return e.extra_params=(0,c._)({},this.extraParams,e.extra_params),this.getAccountSdk$({username:e.username,triggerPath:W.UsernameRegister}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("usernameRegister")}),(0,k.Z)(function(t){return(0,b.H)(t.login.usernameRegister(e))})).pipe(this.errorHandler.bind(this))},t.emailRegister=function(e){var t=this;return e.extra_params=(0,c._)({},this.extraParams,e.extra_params),this.getAccountSdk$({email:e.email,triggerPath:W.EmailRegister}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("emailRegister")}),(0,k.Z)(function(t){return(0,b.H)(t.login.emailRegister(e))})).pipe(this.errorHandler.bind(this))},t.checkLogin=function(){var e=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return e.slardar.setCurrentRequestMethod("checkLogin")}),(0,k.Z)(function(e){return(0,b.H)(e.login.checkLogin({}))})).pipe(this.errorHandler.bind(this))},t.accountVerify=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("accountVerify")}),(0,k.Z)(function(r){return(0,b.H)(r.verify.accountVerify({account:"",password:e.password,extra_params:(0,d._)((0,c._)({},t.extraParams),{verify_ticket:e.verify_ticket,web_verify_need_region:1,web_verify_expire_in:1200})}))})).pipe(this.errorHandler.bind(this))},t.verifyTOTPCode=function(e){var t=this;return(0,R.p)([this.getAccountSdk$(),(0,b.H)(Promise.all([r.e("99513"),r.e("15265"),r.e("50488"),r.e("51355"),r.e("54784"),r.e("5643"),r.e("53174"),r.e("57156"),r.e("12027")]).then(r.bind(r,32783)))]).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("verifyTOTP")}),(0,k.Z)(function(r){var n,i=(0,p._)(r,2),o=i[0],a=(0,i[1].encryptParams)(e,["code"]),s=null!=(n=t.userRegion.getRegionDomain())?n:"";return(0,b.H)(o.request({url:"".concat(s,"/passport/web/totp/verify_without_login/"),method:"POST",params:{aid:"1459"},data:a}))})).pipe(this.errorHandler.bind(this))},t.switchAccount=function(e){var t=this,r=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("switchAccount")}),(0,k.Z)(function(t){return(0,b.H)(t.request({url:"".concat(r,"/passport/web/account/switch/"),method:"POST",params:{aid:"1459",sec_to_user_id:e.secUid}}))})).pipe(this.errorHandler.bind(this))},t.preLogoutCheckForAppleIdBinding=function(){return this.makeRequest({method:"GET",slardarMethodName:"preLogoutCheckForAppleIdBinding",url:"/passport/web/logout_precheck/",params:{aid:"1459"}},{})},t.m2BindAppleId=function(e){return this.makeRequest({method:"POST",slardarMethodName:"m2BindAppleId",url:"/passport/web/auth/bind/",data:(0,c._)({aid:1459,m2_scene:5,platform_app_id:$.iU[$.lv.APPLE]},e.code?{code:e.code}:{},e.m2_lookup_ticket?{m2_lookup_ticket:e.m2_lookup_ticket}:{},e.user_confirm?{user_confirm:1}:{})},{})},t.removeAccount=function(e){var t=this,r=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("removeAccount")}),(0,k.Z)(function(t){return(0,b.H)(t.request({url:"".concat(r,"/passport/account/remove/"),method:"POST",params:{aid:"1459",sec_removed_user_id:e.secUid}}))})).pipe(this.errorHandler.bind(this))},t.logoutAccount=function(e){var t=this,r=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("removeAccount")}),(0,k.Z)(function(t){var n;return(0,b.H)(t.request({url:"".concat(r,"/passport/web/logout/"),method:"POST",params:{aid:null!=(n=e.aid)?n:"1459",account_sdk_source:"web"}}))})).pipe(this.errorHandler.bind(this))},t.checkEmailRegistered=function(e){var t=this;return this.getAccountSdk$({email:e.email}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("checkEmailRegistered")}),(0,k.Z)(function(r){return(0,b.H)(r.extra.checkEmailRegistered({email:e.email,extra_params:(0,c._)({},t.extraParams)}))})).pipe(this.errorHandler.bind(this))},t.sendPhoneCodeForBindAccount=function(e){var t=this,r=e.mobile;return this.getAccountSdk$({mobile:r,triggerPath:W.SendPhoneCode,skipRegionCheck:!0}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendPhoneCodeForBindAccount")}),(0,k.Z)(function(e){return(0,b.H)(e.bind.sendCode({mobile:r,unbind_exist:0,extra_params:(0,d._)((0,c._)({},t.extraParams),{is6Digits:1})}))})).pipe(this.errorHandler.bind(this))},t.validateAndBindPhone=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateAndBindPhone")}),(0,k.Z)(function(t){return(0,b.H)(t.bind.bindMobile((0,d._)((0,c._)({},e),{unbind_exist:0,extra_params:{phone_number_source:27}})))})).pipe(this.errorHandler.bind(this))},t.sendEmailCodeForBindAccount=function(e){var t=this,r=e.email;return this.getAccountSdk$({email:r,triggerPath:W.SendEmailCode,skipRegionCheck:!0}).pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("sendEmailCodeForBindAccount")}),(0,k.Z)(function(e){return(0,b.H)(e.bind.sendEmailCode({email:r,extra_params:(0,c._)({},t.extraParams)}))})).pipe(this.errorHandler.bind(this))},t.validateAndBindEmail=function(e){var t=this;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("validateAndBindEmail")}),(0,k.Z)(function(t){return(0,b.H)(t.bind.bindEmail((0,d._)((0,c._)({},e),{extra_params:{email_source:26}})))})).pipe(this.errorHandler.bind(this))},t.updateUniqueId=function(e){return this.getAccountSdk$().pipe((0,k.Z)(function(t){return(0,b.H)(t.account.updateLoginName({login_name:e}))})).pipe(this.errorHandler.bind(this))},t.validateFTCUsername=function(e){return this.getAccountSdk$().pipe((0,y.n)(function(t){return(0,b.H)(t.request({url:"/passport/web/login_name/check/",method:"POST",params:{aid:1459,login_name:e}}))})).pipe(this.errorHandler.bind(this))},t.refreshSession=function(){var e=this;return this.getAccountSdk$().pipe((0,L.c)(1500),(0,M.p)(function(t){return e.refreshSessionPromise||(e.refreshSessionPromise=t.request({url:"https://www.tiktok.com/passport/web/account/info/",method:"GET",params:{aid:1459,locale:e.extraParams.locale,app_language:e.extraParams.locale.split("-")[0]},headers:{"x-tt-passport-force-refresh-cookie":"1"}}).catch(function(t){var r,n,i,o,a;return e.slardar.handleRequestResultReport({error_code:t.error_code||-1,url:e.requestInfo.url,type:null!=(a=null==(n=e.requestInfo)||null==(r=n.data)?void 0:r.type)?a:null==(o=e.requestInfo)||null==(i=o.params)?void 0:i.type,domain:e.requestInfo.baseURL,function_type:"getAccountInfo"}),{error_code:t.error_code||-1}})),(0,b.H)(e.refreshSessionPromise)}))},t.m2TicketLoginAndBindOauth=function(e){var t=this,r=e.m2_lookup_ticket;return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("m2TicketLoginAndBindOauth")}),(0,k.Z)(function(e){return(0,b.H)(e.request({url:"/passport/web/m2/ticket_login_and_bind_oauth/",method:"POST",params:(0,c._)({m2_lookup_ticket:r},t.extraParams)}))})).pipe(this.errorHandler.bind(this))},t.sessionDelegationLogin=function(e){var t=this,r=e.baseUrl,n=(0,l._)(e,["baseUrl"]);return this.getAccountSdk$().pipe((0,P.M)(function(){return t.slardar.setCurrentRequestMethod("oidcLogin")}),(0,k.Z)(function(e){return(0,b.H)(t.idvService.withIdvVerify(function(t){return e.request({url:"".concat(r,"/passport/web/session_delegation/login/"),method:"POST",params:(0,d._)((0,c._)({},n),{passport_ticket:t})})}))})).pipe(this.errorHandler.bind(this))},t.makeRequest=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.slardarMethodName;return this.getAccountSdk$().pipe((0,P.M)(function(){return r.slardar.setCurrentRequestMethod(i)}),(0,y.n)(function(t){var r=e.url,i=e.method,o=e.params,a=e.data,s=(0,b.H)(t.request({url:r,method:i,params:(0,c._)({aid:"1459"},o),data:a}));return!1!==n&&s.pipe((0,w.w)(n)),s.pipe((0,A.T)(function(e){return{data:(0,c._)({error_code:0},e)}}))}),(0,P.M)(function(){r.reportSuccess()}),(0,S.W)(function(e){r.slardar.handleRequestResultReport({error_code:null!=(l=e.error_code)?l:e.oidc_error_code||-1,url:r.requestInfo.url,type:null!=(p=null==(o=r.requestInfo)||null==(i=o.data)?void 0:i.type)?p:null==(s=r.requestInfo)||null==(a=s.params)?void 0:a.type,domain:r.requestInfo.baseURL});var i,o,a,s,l,p,h,g,f="";return(0,z.mi)(e)&&(f=e.report_msg),(0,u._)(e,w.M)&&(f="make request timeout after ".concat(n,", message=").concat(e.message)),(0,C.of)({message:"error",error:e,data:(0,d._)((0,c._)({report_msg:f},t),{error_code:null!=(g=null!=(h=e.error_code)?h:e.oidc_error_code)?g:j.Kq.AccountSdkRequestError})})}))},t.errorHandler=function(e){var t=this;return e.pipe((0,P.M)(function(){t.reportSuccess()}),(0,S.W)(function(e){t.slardar.handleRequestResultReport({error_code:e.error_code||-1,url:t.requestInfo.url,type:null!=(a=null==(n=t.requestInfo)||null==(r=n.data)?void 0:r.type)?a:null==(o=t.requestInfo)||null==(i=o.params)?void 0:i.type,domain:t.requestInfo.baseURL}),"CLOSE_CAPTCHA"!==e&&console.error("Login: account-api error: [".concat(null!=(s=e.error_code)?s:-1,"] ").concat(null!=(u=e.description)?u:"unknown","."));var r,n,i,o,a,s,u,d="Sorry, something went wrong, please try again later";if("CLOSE_CAPTCHA"===e||e.error_code===j.Kq.AccountSdkCloseCaptcha)return(0,C.of)({error_code:j.Kq.AccountSdkCloseCaptcha,default_error_msg:"",description:""});if((0,z.mi)(e))return(0,C.of)((0,c._)({default_error_msg:d,description:""},e));if((0,z.gQ)(e))return(0,C.of)((0,c._)({default_error_msg:d},e));var l=String(e);return"[object Object]"===l&&(l=JSON.stringify(e)),(0,C.of)({error_code:j.Kq.AccountSdkUnknownError,default_error_msg:d,description:"",report_msg:"unknown account sdk error: ".concat(l)})}))},t.reportSuccess=function(){var e,t,r,n,i;this.slardar.handleRequestResultReport({url:this.requestInfo.url,type:null!=(i=null==(t=this.requestInfo)||null==(e=t.data)?void 0:e.type)?i:null==(n=this.requestInfo)||null==(r=n.params)?void 0:r.type,domain:this.requestInfo.baseURL})},e}();et=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(("undefined"==typeof Reflect?"undefined":(0,h._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([(0,q._q)({name:"AccountSdkService@tiktok/login"}),J("design:type",Function),J("design:paramtypes",[void 0===Y.d?Object:Y.d,void 0===G.VU?Object:G.VU,void 0===D.$F?Object:D.$F,void 0===Q.d?Object:Q.d])],et)},70067:function(e,t,r){r.d(t,{d:function(){return B}});var n,i,o=r(95170),a=r(45275),s=r(5377),u=r(45996),c=r(6586),d=r(79262),l=r(40774),p=r(77194),h=r.n(p),g=r(23999),f=r(68710),_=r(65070),m=r(62564),v=r(20259),k=r(36166),b=r(72916),R=r(53708),w=r(97623),C=r(2999),S=r(54149),y=r(16020),P=r(10987),L=r(18476),M=r(90432),A=r(24238),q=r(19753),x=((n={})[n.Mobile=1]="Mobile",n[n.Email=2]="Email",n[n.Username=3]="Username",n[n.OpenId=4]="OpenId",n[n.UnionId=5]="UnionId",n[n.Credential=6]="Credential",n),E=r(1582),H=r(77846),I=r(75441);function T(e,t){if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var U="https://login-us.www.tiktok.com",O="https://login-row.www.tiktok.com",F={ttp:"https://us.tiktok.com",gcp:"https://web-i18n.tiktok.com",euttp:"https://login-no1a.www.tiktok.com",sg:"https://web-sg.tiktok.com",global:"https://www-useast1a.tiktok.com"},B=function(){function e(t,r,n){(0,o._)(this,e),this.fetch=t,this.slardar=r,this.t=n,this.regionCache=new Map,this.userSeverRegion={},this.ttpConfig={},this.isSG=!0,this.phoenix=!1,this.alterRegionParams={},this.authBroadcastParams={},this.requestTime=1}var t=e.prototype;return t.setInitConfig=function(e){this.ttpConfig=e.ttpConfig,this.isSG=e.isSG,this.phoenix=e.phoenix},t.getRegionDomain=function(){return this.currentRegion.domain},t.getDomainFromIDC=function(e){switch(e){case"useast1a":default:return"https://login-row.www.tiktok.com";case"useast5":case"useast8":return U;case"alisg":return O;case"useast2a":case"ie":case"no1a":return"https://login-eu.www.tiktok.com"}},t.getTtWid=function(){return this.currentRegion.ttWid},t.setTtWid=function(e){this.currentRegion.ttWid=e},t.getUserRegions=function(e){var t=this,r=this.ttpConfig,n=r.open,i=r.syncSeverList;if(!(void 0!==n&&n)||this.phoenix)return(0,g.of)({error_code:0});var o=e.platform_app_id,a=e.email,s=e.mobile,u=e.openId,c=e.uid,d=e.account,p=e.triggerPath,k=e.username,b=e.credential,R=u||c||a||this.formatMobile(s)||d||(null==k?void 0:k.toLowerCase())||"";if(this.twitterRegion(o)||this.LineRegion(o)||this.getCacheRegion(R))return(0,g.of)({error_code:0});var w=b||(0,l.sha256)("".concat(R,"aDy0TUhtql92P7hScCs97YWMT-jub2q9")),C=a?x.Email:u||c?x.OpenId:s?x.Mobile:b?x.Credential:x.Username;return(0,g.of)(void 0===i?[]:i).pipe((0,f.Z)(function(e){return(0,_.p)(e.map(function(e){var r=e.domain;return t.fetch.post("".concat(r,"/passport/web/region/"),{headers:{"x-tt-passport-csrf-token":t.fetch.csrfToken},body:h().stringify({hashed_id:w,type:C,platform_app_id:o,aid:1459})}).pipe((0,m.T)(function(e){var n,i;if(!e)throw new E.Qd({error_msg:t.t("err_service"),error_code:q.Kq.RegionServiceNoResponseError,report_msg:"Cannot fetch region from ".concat(r)});if(null==(n=e.data)?void 0:n.error_code)throw new E.Qd({error_code:e.data.error_code,report_msg:null!=(i=e.data.description)?i:"User region service error"});return e}))})).pipe((0,m.T)(function(e){var r=t.getMaxNumberDomain(e),n=r.maxSameRegion,i=r.regionResult,a=r.domains;if(1===n.count&&(t.alterRegionParams={hashed_id:w,type:C,platform_app_id:o,result:JSON.stringify(i)},t.alterUserRegions(),2===Object.keys(a).length))throw new E.Qd({error_code:q.Kq.RegionServiceDuplicateCount,report_msg:"region count equals to 2"});return t.currentRegion={ttWid:n.ttWid,domain:"https://".concat(n.domain)},t.authBroadcastParams={hashed_id:w,type:C,platform_app_id:o,pre_path:null!=p?p:"",final_domain:n.domain},t.regionCache.set(R,t.currentRegion),{error_code:0}}))}),(0,v.W)(function(e){if(console.error(e,"get region err"),(0,E.mi)(e))throw e;if((0,E.u7)(e))throw new E.Qd({error_code:q.Kq.RegionServiceUnknownError,report_msg:e.message});throw new E.Qd({error_code:q.Kq.RegionServiceUnknownError,report_msg:"region service unknown error: ".concat(e)})}))},t.alterUserRegions=function(){var e=this,t=this.ttpConfig,r=t.open,n=t.syncSeverList;return void 0!==r&&r?(this.requestTime=1,this.slardar.setCurrentRequestMethod("alterUserRegions"),(0,g.of)(void 0===n?[]:n).pipe((0,f.Z)(function(t){return t.map(function(t){var r=t.domain;return e.singleRequestHandler({url:"".concat(r,"/passport/web/region_alert/")})})}))):(0,g.of)(null)},t.fetchUserStoreRegion=function(){var e=this,t=this.ttpConfig,r=t.open,n=t.syncSeverList;return void 0!==r&&r?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserStoreRegion"),(0,g.of)(void 0===n?[]:n).pipe((0,f.Z)(function(t){return(0,_.p)(t.map(function(t){var r=t.domain;return e.fetch.post("".concat(r,"/passport/web/store_region/"),{body:h().stringify({aid:1459})})})).pipe((0,m.T)(function(e){var t=(0,c._)(e,1)[0];if("success"===t.message)return t.data}))}))):(0,g.of)({store_region:void 0,localized_country_name:void 0})},t.fetchUserRegionList=function(){var e=this,t=this.ttpConfig,r=t.open,n=t.syncSeverList;return void 0!==r&&r?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserRegionList"),(0,g.of)(void 0===n?[]:n).pipe((0,f.Z)(function(t){return(0,_.p)(t.map(function(t){var r=t.domain;return e.fetch.get("".concat(r,"/passport/web/region/register_region_list/"),{query:{aid:1459},baseUrlType:S.Z4.FixedWww})})).pipe((0,f.Z)(function(e){var t,r=e.find(function(e){return"success"===e.message});return r?(0,g.of)(r.data.region_list):(0,g.of)(null==(t=e.find(function(e){return 2125===e.data.error_code}))?void 0:t.data.description)}))}))):(0,g.of)([])},t.authBroadcast=function(e){var t=this;this.requestTime=1;var r=this.ttpConfig,n=r.open,i=r.syncSeverList;return!(void 0!==n&&n)||this.phoenix?(0,g.of)(null):(this.slardar.setCurrentRequestMethod("authBroadcast"),H.K.show(),(0,g.of)(void 0===i?[]:i).pipe((0,f.Z)(function(r){return(0,_.p)(r.map(function(r){var n=r.domain;return t.singleRequestHandler({url:"".concat(n,"/passport/web/auth_broadcast/"),userInfo:e,isAuth:!0})})).pipe((0,m.T)(function(){return null}),(0,v.W)(function(e){return console.error("authBroadcast error",e),(0,g.of)(null)}),(0,k.j)(function(){H.K.hide()}))})))},t.twitterRegion=function(e){if(e===A.iU[A.lv.TWITTER])return this.currentRegion={domain:U},!0},t.LineRegion=function(e){if(e===A.iU[A.lv.LINE])return this.currentRegion={domain:O},!0},t.getCacheRegion=function(e){if(this.regionCache.get(e))return this.currentRegion=this.regionCache.get(e),!0},t.getMaxNumberDomain=function(e){var t=this;this.slardar.setCurrentRequestMethod("getUserRegion");var r={},n={},i=this.ttpConfig.syncSeverList,o=void 0===i?[]:i,a={count:0,domain:"",ttWid:""};return e.forEach(function(e,i){var s=e.data,u=s.domain,c=s.ttwid_migration_ticket,d=s.error_code;t.slardar.handleRequestResultReport({error_code:d}),n[o[i].domain]=u,r[u]?r[u]=r[u]+1:r[u]=1,a.count<r[u]&&(a.count=r[u],a.domain=u),c&&(a.ttWid=c)}),{regionResult:n,maxSameRegion:a,domains:r}},t.singleRequestHandler=function(e){var t=this,r=e.url,n=e.isAuth,i=e.userInfo,o=void 0===n||n?(0,s._)({},this.authBroadcastParams,i):this.alterRegionParams;return(0,g.of)(this.isRetry).pipe((0,b.n)(function(e){var n=e.is_retry;return t.fetch.post(r,{body:h().stringify((0,u._)((0,s._)({},o),{is_retry:n,aid:1459}))}).pipe((0,m.T)(function(e){var r=e.error_code;if(t.slardar.handleRequestResultReport({error_code:r}),-1===r)throw Error("".concat(r));return{error_code:0}}))}),(0,R.L)(2))},t.formatMobile=function(e){if(!e)return"";var t,r=(0,c._)(null!=(t=e.replace("+","").split(" "))?t:[],2),n=r[0],i=r[1];return"86"===n?i:"+".concat(n).concat(i)},(0,a._)(e,[{key:"isRetry",get:function(){return this.requestTime<=2?{is_retry:0}:{is_retry:1}}},{key:"currentRegion",get:function(){return this.userSeverRegion},set:function(e){this.userSeverRegion=e;var t=e.domain,r=t===F.ttp?"https://mcs.tiktokw.us":this.isSG?"https://mcs-sg.tiktokv.com":t===F.euttp?"https://mcs-ie.tiktokw.eu":t===F.gcp?"https://mcs-va-useast2a.tiktokv.com":"https://mcs-va.tiktokv.com";M.f.setDomain(r)}},{key:"targetIDC",get:function(){var e,t,r=this.currentRegion.domain;return null!=(t=null==(e=Object.entries(F).find(function(e){var t=(0,c._)(e,2);return t[0],t[1]===r}))?void 0:e[0])?t:"global"}}]),e}();B=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([(0,w._q)({name:"UserRegionService@tiktok/login"}),(i=(0,C.y)(y.hp),function(e,t){i(e,t,2)}),T("design:type",Function),T("design:paramtypes",[void 0===P.p?Object:P.p,void 0===I.VU?Object:I.VU,void 0===L.I18NTranslate?Object:L.I18NTranslate])],B)},1582:function(e,t,r){r.d(t,{HY:function(){return g},Kz:function(){return h},Qd:function(){return u},_e:function(){return c},gQ:function(){return f},jh:function(){return p},mi:function(){return d},u7:function(){return l}});var n=r(48748),i=r(95170),o=r(7120),a=r(41386),s=r(79262),u=function(e){function t(e){(0,i._)(this,t);var r,o=e.report_msg,a=e.message,s=void 0===a?o:a,u=e.error_code,c=e.error_msg,d=void 0===c?s:c;return(r=(0,n._)(this,t,[s])).error_msg=d,r.error_code=u,r.report_msg=o,r}return(0,o._)(t,e),t}((0,r(112)._)(Error));function c(e){return(void 0===e?"undefined":(0,s._)(e))==="object"&&null!==e&&"idv_decision_conf"in e&&!!e.idv_decision_conf}function d(e){return(0,a._)(e,u)}function l(e){return(void 0===e?"undefined":(0,s._)(e))==="object"&&null!==e&&"message"in e}function p(e){return(void 0===e?"undefined":(0,s._)(e))==="object"&&null!==e&&"error"in e}function h(e){return(void 0===e?"undefined":(0,s._)(e))==="object"&&null!==e&&"error"in e}function g(e){return"error_code"in e&&0!==e.error_code}function f(e){return(void 0===e?"undefined":(0,s._)(e))==="object"&&null!==e&&"error_code"in e}},77846:function(e,t,r){r.d(t,{K:function(){return i}});var n=r(90947),i={show:function(){return n.W.show("#loginContainer")},hide:function(){return n.W.hide()}}},34438:function(e,t,r){r.d(t,{W:function(){return n}});var n=function(e){return e?"0x203":"0x204"}},90849:function(){}}]);