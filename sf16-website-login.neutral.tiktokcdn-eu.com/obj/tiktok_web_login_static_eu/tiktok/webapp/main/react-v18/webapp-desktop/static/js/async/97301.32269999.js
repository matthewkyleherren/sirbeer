"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["97301"],{84321:function(e,t,n){n.d(t,{M2:function(){return d},_B:function(){return s},bn:function(){return l}});var r=n(5377),i=n(45996),a=n(66905),o=(0,n(10625).p)("mobileBasicPlayerAtom@tiktok/webapp-atoms",{mobileDefaultMute:!1,forcePause:!1,forcePlay:!1,canRetry:!0}),u=(0,a.i)(o,function(e,t){return{setMobileDefaultMute:function(e){t(o,function(t){return(0,i._)((0,r._)({},t),{mobileDefaultMute:e})})},setForcePause:function(e){t(o,function(t){return(0,i._)((0,r._)({},t),{forcePause:e})})},setForcePlay:function(e){t(o,function(t){return(0,i._)((0,r._)({},t),{forcePlay:e})})},setCanRetry:function(e){t(o,function(t){return(0,i._)((0,r._)({},t),{canRetry:e})})}}}),l=u.useServiceState,s=u.useServiceDispatchers;u.useAtomService;var d=function(){return l(function(e){return e.mobileDefaultMute})}},65555:function(e,t,n){n.d(t,{D:function(){return a},G:function(){return o}});var r=n(89485),i=n(34826),a=function(e){if(!e)return{diggCount:BigInt(0),shareCount:BigInt(0),commentCount:BigInt(0),playCount:BigInt(0),collectCount:BigInt(0),repostCount:BigInt(0),isReposted:!1};var t,n,r,i,a,o,u,l,s,d,c,_=e.stats,f=e.statsV2;return{diggCount:BigInt(null!=(n=null!=(t=null==f?void 0:f.diggCount)?t:null==_?void 0:_.diggCount)?n:0),shareCount:BigInt(null!=(i=null!=(r=null==f?void 0:f.shareCount)?r:null==_?void 0:_.shareCount)?i:0),commentCount:BigInt(null!=(o=null!=(a=null==f?void 0:f.commentCount)?a:null==_?void 0:_.commentCount)?o:0),playCount:BigInt(null!=(l=null!=(u=null==f?void 0:f.playCount)?u:null==_?void 0:_.playCount)?l:0),collectCount:BigInt(null!=(d=null!=(s=null==f?void 0:f.collectCount)?s:null==_?void 0:_.collectCount)?d:0),repostCount:BigInt(null!=(c=null==f?void 0:f.repostCount)?c:0),isReposted:Number(null==f?void 0:f.repostCount)>0}},o=function(e){return(0,i.F3)(function(t){return a(t[e])},r.bN)}},84293:function(e,t,n){n.d(t,{OT:function(){return s},WG:function(){return c},YS:function(){return _},a9:function(){return d},xR:function(){return l}});var r,i,a,o,u,l=((r={}).TikTokLogo="accessibilityLabels_forYou_nav_tiktok_btn",r.SearchSug="accessibilityLabels_search_suggestions",r.SearchBtn="accessibilityLabels_search_button",r.UploadBtn="accessibilityLabels_forYou_nav_upload_btn",r.MessageBtn="accessibilityLabels_forYou_nav_messages_btn",r.InboxBtn="accessibilityLabels_forYou_btn_inbox",r.SettingBtn="accessibilityLabels_forYou_nav_settings_btn",r.EffectsBtn="accessibilityLabels_nav_effects_btn",r.LanguageSelection="accessibilityLabels_settings_language",r.DarkModeOff="accessibilityLabels_settings_darkModeOff",r.DarkModeOn="accessibilityLabels_settings_darkModeOn",r.BackToSettingList="accessibilityLabels_forYou_nav_language_back_btn",r.SkipNavigation="accessibilityLabels_home_skipContentFeed",r),s=((i={}).PasswordHidden="accessibilityLabels_login_modal_eyeClosedIcon",i.PasswordShown="accessibilityLabels_login_modal_eyeOpenIcon",i.BackToSignUp="accessibilityLabels_signup_form_back",i.BackToLogin="accessibilityLabels_login_form_back",i.SelectorYear="accessibilityLabels_signup_form_placeholder_year",i.SelectorMonth="accessibilityLabels_signup_form_placeholder_month",i.SelectorDay="accessibilityLabels_signup_form_placeholder_day",i.PhoneCountryCode="accessibilityLabels_login_form_placeholder_countryCode",i.PhoneCodeLoginTitle="accessibilityLabels_phoneLogin_form_title",i.EmailLoginTitle="accessibilityLabels_emailLogin_form_title",i.PhoneCodeSignUpTitle="accessibilityLabels_phoneSignup_form_title",i.EmailSignUpTitle="accessibilityLabels_emailSignup_form_title",i),d=((a={}).Like="accessibilityLabels_forYou_btn_like",a.Comment="accessibilityLabels_forYou_btn_comment",a.Favorite="accessibilityLabels_feed_icon_favorite",a.Share="accessibilityLabels_forYou_btn_share",a.Repost="pcWeb_repost_btn",a.FullScreen="accessibilityLabels_forYou_videoCard_fullScreen",a.Pause="accessibilityLabels_forYou_videoControls_pause_btn",a.Play="accessibilityLabels_forYou_videoControls_play_btn",a.Volume="accessibilityLabels_forYou_videoControls_volume_btn",a.Report="accessibilityLabels_forYou_videoControls_report_btn",a.Progress="accessibilityLabels_forYou_videoControls_videoProgress",a.Menu="accessibilityLabels_forYou_share_moreOptions_btn",a),c=((o={}).ScrollToTop="accessibilityLabels_forYou_scroll_btn",o),_=((u={}).Avatar="accessibilityLabels_link_userProfile",u)},7899:function(e,t,n){n.d(t,{P:function(){return r}});function r(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},48176:function(e,t,n){n.d(t,{r:function(){return T}});var r,i,a,o=n(95170),u=n(45275),l=n(89134),s=void 0,d=((r={}).Immediate="immediate",r.Eager="eager",r.Moderate="moderate",r.Conservative="conservative",r),c=((i={}).insertSpeculationRulesForLive="prerender_live_room",i),_=((a={}).canPrerenderModerate="can-prerender-moderate",a.canPrerenderEager="can-prerender-eager",a.canPrerenderImmediate="can-prerender-immediate",a),f=n(5377),v=n(45996),p=n(90432),m="livesdk_prerender_lifecycle",h=function(){p.f.event(m,{phase:"prerender_rule_insert"})},y=function(e){p.f.event(m,(0,v._)((0,f._)({},e),{phase:"prerender_rule_match"}))},b=n(88999),g=n(67500),S=function(){var e,t=(0,b.x)().abTestVersion;return null!=(e=(0,g.V7)(t,"live_room_prerender"))?e:"v0"},P=n(22481),T=new(function(){function e(){(0,o._)(this,e),this.speculationRulesInserted=!1,this.prerenderUniqueIdMap=new Map}var t=e.prototype;return t.getShouldEnablePrerender=function(e){var t=e.eagerness;if(t===d.Immediate){var n=Number((0,P._S)("RENDER_LIVE_TIMESTAMP","")||0),r=Date.now();return!n||!!(r-n>=432e5)}if(t===d.Eager||t===d.Moderate){var i=Date.now();if(!this.lastTriggerPrerenderTimestamp||i-this.lastTriggerPrerenderTimestamp>=2e3)return!0}return!1},t.addSpeculationRules=function(){var e=document.createElement("script");e.id="speculationrules_".concat(c.insertSpeculationRulesForLive),e.type="speculationrules",e.textContent=JSON.stringify({prerender:[{source:"document",where:{and:[{href_matches:"/*/live"},{selector_matches:".".concat(_.canPrerenderModerate)}]},eagerness:d.Moderate},{source:"document",where:{and:[{href_matches:"/*/live"},{selector_matches:".".concat(_.canPrerenderEager)}]},eagerness:d.Eager},{source:"document",where:{and:[{href_matches:"/*/live"},{selector_matches:".".concat(_.canPrerenderImmediate)}]},eagerness:d.Immediate}]}),document.body.appendChild(e),this.speculationRulesInserted=!0,h()},t.insertSpeculationRulesForLive=function(){var e=this;!(0,l.fU)()&&(void 0!==s?s:HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")?(s=!0,!0):(s=!1,!1))&&this.enablePrerender&&(document.getElementById("speculationrules_".concat(c.insertSpeculationRulesForLive))||(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.addSpeculationRules()},1e4)))},t.handleSpeculationRulesMatch=function(e){var t=e.speculationSelector,n=e.enter_from_merge,r=e.enter_method,i=e.uniqueId,a=null==t?void 0:t.split("-").pop();if(this.enablePrerender&&this.speculationRulesInserted&&a&&i){if(this.prerenderUniqueIdMap.has(i)){var o,u,l=this.prerenderUniqueIdMap.get(i)||[];if(null==(u=l.filter)||null==(o=u.call(l,function(e){return(null==e?void 0:e.enter_from_merge)===n&&(null==e?void 0:e.enter_method)===r}))?void 0:o.length)return;l.push({enter_from_merge:n,enter_method:r,eagerness:a}),this.prerenderUniqueIdMap.set(i,l)}y({enter_from_merge:n,enter_method:r,eagerness:a}),this.lastTriggerPrerenderTimestamp=Date.now()}},t.getSpeculationSelector=function(e){var t=e.enter_from_merge,n=e.enter_from,r=e.enter_method,i=e.uniqueId;if(!this.enablePrerender||"homepage_hot"!==t&&"homepage_hot"!==n||!i)return"";if("live_entrance_head"===r){if(this.getShouldEnablePrerender({eagerness:d.Immediate,uniqueId:i}))return _.canPrerenderImmediate;if("v1"===this.prerenderVID)return _.canPrerenderEager;if("v2"===this.prerenderVID)return _.canPrerenderModerate}return"v1"===this.prerenderVID&&this.getShouldEnablePrerender({eagerness:d.Eager,uniqueId:i})?_.canPrerenderEager:"v2"===this.prerenderVID&&this.getShouldEnablePrerender({eagerness:d.Moderate,uniqueId:i})?_.canPrerenderModerate:""},t.getSpeculationSelectorForTea=function(e){var t=this.getSpeculationSelector(e);return null==t?void 0:t.split("-").pop()},(0,u._)(e,[{key:"prerenderVID",get:function(){return S()}},{key:"enablePrerender",get:function(){return["v1","v2"].includes(this.prerenderVID)}}]),e}())},9238:function(e,t,n){n.d(t,{A2:function(){return s},tG:function(){return d}});var r,i=n(95170),a=n(5377),o=n(79262),u=n(97623),l=n(90432),s=((r={}).LiveCover="live_cover",r.SuggestedOthersPhoto="suggested_others_photo",r.NextIconClick="next_icon_click",r.Others="others",r.VideoHeadBrowser="video_head_browser",r.Creator="creator",r.VideoHead="video_head",r.LiveHead="live_head",r.OthersPhoto="others_photo",r.ClickOneColumnUser="click_main_btn",r.TopLiveCell="top_live_cell",r.VideoLiveCell="video_live_cell",r.FollowingTop="top_window",r.FollowingPreview="live_cover_preview",r),d=function e(){(0,i._)(this,e),this.handleLiveEntranceShow=function(e){l.f.event("livesdk_live_show",e)},this.handleLiveEntranceClick=function(e){l.f.event("livesdk_rec_live_play",e)},this.handleLiveStreamEntranceClick=function(e){l.f.event("livesdk_live_action",(0,a._)({live_type:"third_party"},e))}};d=function(e,t,n,r){var i,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,o._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(u=(a<3?i(u):a>3?i(t,n,u):i(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u}([(0,u._q)()],d)},28e3:function(e,t,n){n.d(t,{Y:function(){return ei}});var r,i,a,o,u=n(5377),l=n(45996),s=n(6586),d=n(51070),c=n(73628),_=n(15377),f=n(42684),v=n(38456),p=n(53069),m=n(27392),h=n(66905),y=(0,n(10625).p)("mobileVideoPlayerAtom@tiktok/webapp-atoms",{currentVideo:null}),b=(0,h.i)(y,function(e,t){return{setCurrentVideo:function(e){t(y,function(t){return(0,l._)((0,u._)({},t),{currentVideo:e.currentVideo})})},updateVideo:function(e){this.setCurrentVideo(e)}}}),g=b.useServiceState;b.useServiceDispatchers,b.getStaticApi;var S=n(81047),P=n(80660),T=n(95170),k=n(90432),C=n(32753),E=n(65362),L=n(35383),M=n(58034),w=((r={})[r.HaveNothing=0]="HaveNothing",r[r.HaveMetaData=1]="HaveMetaData",r[r.HaveCurrentData=2]="HaveCurrentData",r[r.HaveFutureData=3]="HaveFutureData",r[r.HaveEnoughData=4]="HaveEnoughData",r),D=((i={})[i.PlayStop=0]="PlayStop",i[i.ResumePlaying=1]="ResumePlaying",i),I=((a={}).PlayQuality="video_play_quality",a.PlayEnded="video_play_end",a.PlayFailed="video_play_failed",a.BlockStart="video_block_start",a.Block="video_block",a.Request="video_request",a.RequestResponse="video_request_response",a.FirstFrame="first_feed_show_time",a),R=(o={},(0,L._)(o,M.ey.OneColumn,"one_column"),(0,L._)(o,M.ey.ThreeColumn,"three_column"),(0,L._)(o,M.ey.BrowserMode,"browser_mode"),(0,L._)(o,M.ey.VideoDetail,"video_detail"),(0,L._)(o,M.ey.Pip,"pip"),(0,L._)(o,M.ey.FullscreenMode,"fullscreen"),(0,L._)(o,M.ey.CreatorTab,"creator_tab"),(0,L._)(o,M.ey.MiniPlayer,"mini_player"),(0,L._)(o,M.ey.ImmersivePlayer,"immersive_player"),(0,L._)(o,M.ey.TiktokStories,"tiktok_stories"),o),V=function(){var e="undefined"==typeof window?null:window.navigator;return{cpu_core:(null==e?void 0:e.hardwareConcurrency)||0,memory_size:(null==e?void 0:e.deviceMemory)||0,HEVC_supported:+!!(0,E.ng)()}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"";var t=e.match(/https?:\/\/([^/]+)\//i),n="";return(null==t?void 0:t[1])&&(n=t[1]),n},A=function(e){var t,n,r,i=e.id,a=e.authorId,o=e.playMode,u=e.forFriend,l=e.secret,s=e.play_url,d=e.awemeType,c=e.picCnt,_=e.playlist_id,f=e.popup_type,v=e.size;return{group_id:i,author_id:a,play_mode:null!=(r=R[o])?r:"others",logo_type:"",item_status:(t=void 0!==u&&u,n=void 0!==l&&l,t?C.qd.Friend:n?C.qd.Self:C.qd.Public),play_url:s,host:F(s),aweme_type:null!=d?d:0,pic_cnt:c,playlist_id:void 0===_?"":_,popup_type:void 0===f?"":f,size:void 0===v?-1:v}},B=function(e,t){return!t||/^(\d)*p$/i.test("".concat(t))?e&&t?"".concat(e,"_").concat(t):"unknownQuality_fromServer_".concat(e,"_").concat(t):t},O=function(e){var t=e.bitrate,n=e.format,r=e.codecType,i=e.encodedType,a=e.videoQuality,o=void 0===a?"":a,u=e.definition,l=e.encodeUserTag,s=e.originalDefinition;return{video_bitrate:void 0===t?-1:t,video_format:void 0===n?"":n,codec_format:void 0===r?"":r,encoded_type:void 0===i?"":i,bitrate_quality:o,video_quality:String(B(o,void 0===u?"":u)),video_encodeUserTag:void 0===l?"":l,original_definition:void 0===s?"":s}},U=function(e){var t=e.preload_size,n=e.preload_time,r=e.video_type,i=e.player_type;return{preload_size:void 0===t?-1:t,preload_time:void 0===n?-1:n,player_type:void 0===i?"defaultPlayer":i,video_type:void 0===r?"mp4":r}},q=function(e){return{watch_count_total:e.totalWatchCount,watch_count_foru:e.foruWatchCount}},Y={isPause:null,isVideoLoaded:!1,isFirstPlayReported:!1,isFirstPlayEndReported:!1,isInPlaybackStage:!1,triggerPlayTimestamp:0,firstTriggerPlayTimestamp:0,loadStartTimestamp:0,blockStartTimestamp:0,blockStartProgress:0,playingStartTimestamp:0,pauseStartTimestamp:0,totalPauseDuration:0,volume:0,muted:!0,mutedStateChange:!1,videoSourceLoadTime:0,cacheDuration:0,cacheSize:0,dataPlayerType:0,playSize:0,cdnSizeVideo:0,frameInfo:{drop_frame:0,total_play_frame:-1,drop_frame_rate:-1,drop_frame_duration:0}},x={currentSrc:"",duration:0,error:null,currentTime:0,readyState:0,buffered:{start:function(){return 0},end:function(){return 0},length:0},volume:0,muted:!0,mutedStateChange:!1},H=1,W="",N="",z=function(e){N=e},j=function(){function e(){var t=this;(0,T._)(this,e),this.innerStates=(0,u._)({},Y),this.innerVideoAttributeStates=(0,u._)({},x),this.isFirstFrameReported=!1,this.resetState=function(){t.innerStates=(0,u._)({},Y),W="",t.isFirstFrameReported=!1,t.innerVideoAttributeStates=(0,u._)({},x)},this.resetStateWhenSlideChange=function(){t.innerStates=(0,u._)({},Y),t.innerVideoAttributeStates=(0,u._)({},x)},this.reset=function(e,n){W!==e&&(t.playEndEvent(n),t.blockEndEvent((0,l._)((0,u._)({},n),{endType:D.PlayStop})),t.innerStates=(0,u._)({},Y))},this.resetWhenSlideChange=function(e){t.playEndEvent((0,u._)({},e,t.innerVideoAttributeStates)),t.blockEndEvent((0,u._)((0,l._)((0,u._)({},e),{endType:D.PlayStop}),t.innerVideoAttributeStates)),t.innerVideoAttributeStates=(0,u._)({},x)},this.updateFrameInfo=function(e){t.innerStates.frameInfo=e},this.handlePlay=function(){t.innerStates.triggerPlayTimestamp=Date.now(),t.innerStates.firstTriggerPlayTimestamp||(t.innerStates.firstTriggerPlayTimestamp=Date.now())},this.handlePause=function(e){var n=e.id,r=t.innerStates,i=r.playingStartTimestamp,a=r.isPause;n&&i&&!a&&(t.innerStates.pauseStartTimestamp=Date.now()),t.innerStates.isPause=!0},this.handleTimeUpdate=function(e){var n=t.innerStates,r=n.triggerPlayTimestamp,i=n.isFirstPlayReported,a=n.pauseStartTimestamp,o=n.videoSourceLoadTime,s=n.loadStartTimestamp,d=e.currentTime,c=void 0===d?0:d,_=e.duration,f=void 0===_?0:_,v=e.codecType,p=e.volume,m=e.muted,h=void 0===m||m,y=e.bitrateInfo,b=e.buffered,g=e.currentSrc,S=e.error,P=e.readyState;if(t.innerVideoAttributeStates.duration=f,t.innerVideoAttributeStates.currentTime=c,t.innerVideoAttributeStates.buffered=b,t.innerVideoAttributeStates.currentSrc=g,t.innerVideoAttributeStates.error=S,t.innerVideoAttributeStates.readyState=P,!(c<=0)){if(!i&&0!==r){var T=Date.now()-r-1e3*c,E=Date.now()-s,L=(0,l._)((0,u._)({},A(e),O(e),U(e),q(e),V()),{duration:T>0?Math.round(T):0,video_duration:Math.round(1e3*f),is_bytevc1:+((null!=v?v:"").indexOf("h265")>-1),muted:+!!h,bitrate_set:(0,C.OK)(y),quality_bitrate:y&&Array.isArray(y)?y.map(function(e){return"".concat(e.QualityType,":").concat(e.Bitrate)}):null,duration_from_load:Math.round(E),duration_with_load:Math.round(T+o),is_same:+(W===N)});k.f.event(I.PlayQuality,L),z(W),t.innerStates.isFirstPlayReported=!0,t.innerStates.playingStartTimestamp=Date.now(),t.innerStates.volume=void 0===p?0:p,t.innerStates.muted=h}if(t.innerStates.mutedStateChange=t.innerStates.mutedStateChange||t.innerStates.muted!==h,t.innerStates.muted=h,!t.isFirstFrameReported&&performance&&t.firstFrameEvent(),t.innerStates.isPause){var M=a?Date.now()-a:0;t.innerStates.totalPauseDuration+=M}t.blockEndEvent((0,l._)((0,u._)({},e),{endType:D.ResumePlaying})),t.innerStates.isInPlaybackStage=!0,t.innerStates.isPause=!1}},this.handleEnded=function(){t.innerStates.isInPlaybackStage=!1},this.handleError=function(e){var n=t.innerStates,r=n.isVideoLoaded,i=n.isInPlaybackStage,a=e.error,o=e.codecType,s=e.duration,d=e.play_url,c=null!=a?a:{},_=c.code,f=c.message,v=d?(0,E.bp)(d):-1,p=(0,l._)((0,u._)({},A(e),O(e),q(e),V()),{error_code:String(void 0===_?0:_),error_info:void 0===f?"":f,is_bytevc1:+((void 0===o?"":o).indexOf("h265")>-1),duration:null!=s?s:0,isExpired:v,isSupportMP4:(0,E.vk)(),is_before:r&&i?0:1});k.f.event(I.PlayFailed,p)},this.handleWaiting=function(e){var n=e.currentTime,r=void 0===n?0:n,i=e.duration,a=t.innerStates,o=a.isInPlaybackStage,l=a.blockStartTimestamp,s=a.isPause;if(0!==r&&r!==(void 0===i?0:i)&&o&&!1===s&&0===l){var d=(0,u._)({},A(e),q(e),V());k.f.event(I.BlockStart,d),t.innerStates.blockStartTimestamp=Date.now(),t.innerStates.blockStartProgress=1e3*r}},this.handleLoadStart=function(e){var n=(0,u._)({},A(e),q(e),V(),(0,f.Mp)(e));k.f.event(I.Request,n),t.innerStates.loadStartTimestamp=Date.now()},this.handleLoadedData=function(e){t.responseEvent(e),t.innerStates.isVideoLoaded=!0},this.firstFrameEvent=function(){var e=performance.timeOrigin,n={feed_total:e?Math.round(Date.now()-e):-1};k.f.event(I.FirstFrame,n),t.isFirstFrameReported=!0}}var t=e.prototype;return t.updateNativePlayerCDNCache=function(e,t){this.innerStates.cacheDuration=e,this.innerStates.cacheSize=t},t.msePlayerCacheUpdate=function(e){void 0!==e&&(this.innerStates.cdnSizeVideo+=e)},t.updatePlayerType=function(e){this.innerStates.dataPlayerType=e},t.blockEndEvent=function(e){var t=e.currentTime,n=void 0===t?0:t,r=e.codecType,i=e.endType,a=e.should_filter,o=e.droppedRate,s=this.innerStates,d=s.blockStartTimestamp,c=s.blockStartProgress,_=s.isInPlaybackStage,f=s.isVideoLoaded,v=0===i;if(f&&_&&0!==d&&(1e3*n!==c||v)){var p=Date.now()-d-(1e3*n-c),m=(0,l._)((0,u._)({},A(e),O(e),U(e),V()),{duration:p>=0?Math.round(p):0,is_bytevc1:+((null!=r?r:"").indexOf("h265")>-1),end_type:i,position:Math.round(1e3*n),should_filter:void 0!==a&&a?"1":"0",droppedRate:o});k.f.event(I.Block,m),this.innerStates.blockStartTimestamp=0}},t.responseEvent=function(e){var t=this.innerStates.loadStartTimestamp,n=e.error,r=e.videoQuality,i=e.definition,a=e.play_url,o=e.codecType,s=a?(0,E.bp)(a):-1,d=Date.now()-t;this.innerStates.videoSourceLoadTime=d;var c=(0,l._)((0,u._)((0,l._)((0,u._)({},A(e),V(),q(e)),{error_code:String(null==n?void 0:n.code),duration:d,is_success:n?"0":"1",video_quality:r&&i?"".concat(r,"_").concat(i):""}),(0,f.Mp)(e)),{isExpired:s,isSupportMP4:(0,E.vk)(),is_bytevc1:+((null!=o?o:"").indexOf("h265")>-1)});k.f.event(I.RequestResponse,c)},t.playEndEvent=function(e){var t=this.innerStates,n=t.isFirstPlayReported,r=t.isFirstPlayEndReported,i=t.playingStartTimestamp,a=t.totalPauseDuration,o=t.firstTriggerPlayTimestamp,s=t.volume,d=t.frameInfo,c=e.bitrate;if(!r&&i){var _=e.buffered,f=e.duration,v=void 0===f?0:f,p=e.currentTime,m=e.readyState,h=e.volume,y=void 0===h?0:h,b=e.muted,g=e.codecType,S=i?Date.now()-i-a:0,P=S>1e3*v?1e3*v:S,T=(0,l._)((0,u._)((0,l._)((0,u._)({},A(e),O(e),U(e),V()),{is_success:n?"1":"0",video_duration:isNaN(v)?0:Math.round(1e3*v),play_duration:Math.round(1e3*(void 0===p?0:p)),buffering:+((null!=m?m:0)<=w.HaveCurrentData),duration:S>=0?Math.round(S):0,wait_duration:i>0?0:Date.now()-o,cur_cache_duration:void 0!==_&&_.length>0?1e3*Math.round(_.end(0)-_.start(0)):0,local_time_ms:Date.now(),volume_level:Number(y.toFixed(4)),volume_change:n?Number((y-s).toFixed(4)):0,muted:+!!b,click_mute:this.innerStates.mutedStateChange?b?2:1:0,session_order:H++,play_size:Math.round(c?c/8*(P/1e3):-1),data_player_type:this.innerStates.dataPlayerType,cache_size:1===this.innerStates.dataPlayerType?-10:Math.round(this.innerStates.cacheSize),cache_duration:1===this.innerStates.dataPlayerType?-10:Math.round(this.innerStates.cacheDuration),cdn_size_video:this.innerStates.cdnSizeVideo}),d),{is_bytevc1:+((null!=g?g:"").indexOf("h265")>-1)});k.f.event(I.PlayEnded,T),this.innerStates.isFirstPlayEndReported=!0}},e}(),G=n(37585),Q=n(93758),$=n(79066),K=n(16327),J=n(72516),X=n(4119),Z=function(e){return{buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}},ee=(0,c.memo)((0,c.forwardRef)(function(e,t){var n=e.playProgress,r=e.muteSetting,i=e.onUnmount,a=e.onEnded,o=e.onWaiting,s=e.onError,_=e.disableDownload,f=void 0!==_&&_,v=e.itemMute,p=(0,K._)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]),h=(0,c.useRef)(null),y=(0,c.useRef)(!1),b=(0,X.O)(r),g=b.mute,S=b.volume,P=b.playing,T=(0,m.S4)().setMute;(0,c.useImperativeHandle)(t,function(){var e=h.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:function(t){null==e||e.addEventListener("timeupdate",function(){var n,r,i=null!=(n=e.currentTime)?n:0,a=null!=(r=e.duration)?r:0;t(i/a,i,a)})},onCanPlay:function(t){null==e||e.addEventListener("canplay",t)},getPlayerAttributes:function(){return Z(e)}}});var k=(0,c.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,$._)(function(){var t,n,r,i,a,o;return(0,J.__generator)(this,function(u){switch(u.label){case 0:if(e>=3)return[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,null==(t=h.current)?void 0:t.play()];case 2:return u.sent(),[3,4];case 3:return(null!=(o=null!=(a=(i=null!=(r=null==(n=u.sent())?void 0:n.message)?r:"").match("failed because the user didn't interact with the document first."))?a:i.match("The request is not allowed by the user agent or the platform in the current context"))?o:i.match("The play method is not allowed by the user agent or the platform in the current context, possibly because the user denied permission."))?(T(!0),setTimeout(function(){k(e+1)},0)):k(e+1),null==s||s(n),[3,4];case 4:return[2]}})})()},[T]);(0,c.useEffect)(function(){h.current&&(h.current.volume=S)},[S]),(0,c.useEffect)(function(){k(),h.current&&Math.abs(h.current.currentTime-n)>.2&&(h.current.currentTime=n)},[n,k]),(0,c.useEffect)(function(){if(P)y.current&&(y.current=!1,k());else{var e;y.current=!0,null==(e=h.current)||e.pause()}},[P,k]),(0,c.useEffect)(function(){var e=h.current;return function(){null==i||i(Z(e))}},[]),(0,c.useEffect)(function(){f&&(h.current.oncontextmenu=function(e){return e.preventDefault(),!1})},[f,h]);var C=(0,c.useCallback)(function(e){null==o||o(e)},[o]),E=(0,c.useCallback)(function(e){null==a||a(e),k()},[a,k]);return(0,d.Y)("audio",(0,l._)((0,u._)({ref:h},p),{muted:void 0!==v&&v||g,playsInline:!0,autoPlay:!0,onEnded:E,onWaiting:C}))})),et=n(84321),en=function(e){return{buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}},er=(0,c.memo)((0,c.forwardRef)(function(e,t){e.playProgress,e.muteSetting;var n=e.onUnmount,r=e.onEnded,i=e.onWaiting,a=e.onError,o=e.disableDownload,s=void 0!==o&&o,_=e.itemMute,f=(0,K._)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]),v=(0,c.useRef)(null),p=(0,et.M2)(),m=(0,et._B)(),h=m.setMobileDefaultMute,y=m.setForcePause;(0,c.useImperativeHandle)(t,function(){var e=v.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:function(t){null==e||e.addEventListener("timeupdate",function(){var n,r,i=null!=(n=e.currentTime)?n:0,a=null!=(r=e.duration)?r:0;t(i/a,i,a)})},onCanPlay:function(t){null==e||e.addEventListener("canplay",t)},getPlayerAttributes:function(){return en(e)}}});var b=(0,c.useCallback)(function(){return(0,$._)(function(){var e,t,n,r;return(0,J.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,null==(t=v.current)||null==(e=t.play)?void 0:e.call(t)];case 1:return i.sent(),[3,3];case 2:return n=i.sent(),null==a||a(n),[2,null!=(r=n.message)?r:""];case 3:return[2,""]}})})()},[a]),g=(0,c.useCallback)(function(){b().then(function(e){(e.match("failed because the user didn't interact with the document first.")||e.match("The request is not allowed by the user agent or the platform in the current context"))&&(y(!1),h(!0))})},[y,h,b]);(0,c.useEffect)(function(){v.current&&g()},[g]),(0,c.useEffect)(function(){var e=v.current;return function(){null==n||n(en(e))}},[]),(0,c.useEffect)(function(){s&&(v.current.oncontextmenu=function(e){return e.preventDefault(),!1})},[s,v]);var S=(0,c.useCallback)(function(e){null==i||i(e)},[i]),P=(0,c.useCallback)(function(e){null==r||r(e),b()},[r,b]);return(0,d.Y)("audio",(0,l._)((0,u._)({ref:v},f),{muted:void 0!==_&&_||p,playsInline:!0,autoPlay:!0,onEnded:P,onWaiting:S}))})),ei=(0,c.memo)((0,c.forwardRef)(function(e,t){var n,r=e.playUrl,i=e.id,a=e.teaParams,o=e.index,h=e.mode,y=e.itemMute,b=e.onAudioPause,T=e.onAudioPlaying,k=e.onAudioPlay,C=e.onAudioEnded,E=e.onAudioError,L=e.onTimeUpdate,M=null!=(n=(0,S.U)(function(){return["isMobile","isAndroid"]},[]))?n:{},w=M.isAndroid,D=void 0!==w&&w,I=M.isMobile,R=void 0!==I&&I,V=(0,p.MY)().currentVideo,F=(0,m.ol)(),A=g(function(e){return e.currentVideo}),B=(0,c.useRef)(null),O=(0,c.useRef)(null),U=(0,_.Nj)(f.Gs),q=new j,Y=(0,_.Nj)(v.AU),x=(0,s._)((0,c.useState)(!1),2),H=x[0],W=x[1],N=(0,c.useRef)(!1),z=(0,c.useCallback)(function(){var e,t;null==(t=B.current)||null==(e=t.play)||e.call(t)},[]),$=(0,c.useCallback)(function(){var e,t;null==(t=B.current)||null==(e=t.pause)||e.call(t)},[]),K=(0,c.useCallback)(function(){var e;return(0,l._)((0,u._)({},a),{itemId:i,authorId:a.author_id,isScheduled:null!=(e=a.is_scheduled)&&e,autoplayStatus:0,playMode:h,awemeType:a.aweme_type})},[i,a,h]),J=(0,c.useMemo)(function(){if(R){if(!A)return!1;var e=A.id,t=A.index;return!D||e===i&&t===o}if(!V)return!1;var n=V.id,r=V.index,a=V.mode;return n===i&&r===o&&a===h},[R,V,i,o,h,A,D]);(0,c.useImperativeHandle)(t,function(){return{play:function(){z(),O.current=!0},pause:function(){$(),O.current=!1},onTimeUpdate:function(e){var t;null==(t=B.current)||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!=(t=null==(e=B.current)?void 0:e.getPlayerAttributes().currentTime)?t:0},get duration(){var n,r;return null!=(r=null==(n=B.current)?void 0:n.getPlayerAttributes().duration)?r:0},get currentCanPlay(){return J&&H}}},[z,$,J,H]),(0,c.useEffect)(function(){J?J&&!N.current&&(N.current=!0):(W(!1),N.current&&(U.handlePlayTime(K()),N.current=!1))},[J]);var X=(0,G.jj)();(0,c.useEffect)(function(){var e=null===O.current||O.current;X&&e?z():$()},[X,z,$,U,J,h]);var Z=(0,c.useCallback)(function(){var e,t=(0,P.L$)(null==(e=B.current)?void 0:e.getPlayerAttributes()),n=a.bitrate,o=a.author_id,l=a.format,s=a.encodedType,d=a.videoQuality,c=a.encodeUserTag,_=a.codecType,f=a.definition,v=a.secret,p=a.forFriend,m=a.aweme_type,y=a.pic_cnt;return(0,u._)({id:i,authorId:o,playMode:h,bitrate:n,format:l,encodedType:s,videoQuality:d,encodeUserTag:c,codecType:_,definition:f,secret:v,forFriend:p,play_url:r,awemeType:m,picCnt:y},null!=t?t:{})},[i,h,a,r]),et=(0,G.iJ)({isCurrentVideo:J}),en=et.handlePauseWithLoading,ei=et.handlePlayingWithLoading,ea=(0,c.useCallback)(function(){q.handleLoadStart(Z())},[q,Z]),eo=(0,c.useCallback)(function(e){null==k||k(e)},[k]),eu=(0,c.useCallback)(function(){var e,t=(0,P.L$)(null==(e=B.current)?void 0:e.getPlayerAttributes()),n=t.currentTime,r=void 0===n?0:n,i=t.duration,a=(0,l._)((0,u._)({},K()),{currentTime:r});q.handleTimeUpdate(Z()),U.handleTimeUpdate(a),null==L||L(r/(void 0===i?0:i)),Y.getFirstFrameReport()||R||Y.reportVideoFirstFrame(0,void 0,!0)},[q,Z,L,U,K]),el=(0,c.useCallback)(function(e){null==b||b(e),en(),N.current&&U.handlePlayTime(K())},[b,en,U,K]),es=(0,c.useCallback)(function(e){null==T||T(e),ei(),Y.reportVideoInteract({endTime:Date.now(),videoSource:r})},[T,ei,Y,r]),ed=(0,c.useCallback)(function(e){null==C||C(e),q.handleEnded()},[C,q]);return((0,c.useEffect)(function(){return function(){q.resetWhenSlideChange((0,u._)({},Z())),N.current&&(U.handlePlayTime(K()),N.current=!1)}},[r]),J)?R?(0,d.Y)(er,{ref:B,c:!0,muteSetting:y||Q.T5[h].forceMute,defaultMute:Q.T5[h].defaultMute,playProgress:null!=F?F:0,src:r,onTimeUpdate:eu,onError:E,onPause:el,onPlay:eo,onPlaying:es,onEnded:ed,onLoadStart:ea}):(0,d.Y)(ee,{ref:B,c:!0,muteSetting:y||Q.T5[h].forceMute,defaultMute:Q.T5[h].defaultMute,playProgress:null!=F?F:0,src:r,onTimeUpdate:eu,onError:E,onPause:el,onPlay:eo,onPlaying:es,onEnded:ed,onLoadStart:ea}):null}))},46880:function(e,t,n){n.d(t,{L$:function(){return d},W6:function(){return s},eL:function(){return c},qb:function(){return _},wg:function(){return f}});var r,i,a,o,u,l=n(35383),s=((r={}).GeneralSensitive="general_sensitive",r.PhotoSensitive="photo_sensitive",r.PhotoSensitiveDenied="photo_sensitive_denied",r),d=(i={},(0,l._)(i,"general_sensitive","masklayer_general_title"),(0,l._)(i,"photo_sensitive","photosensitive_masklayer_title"),(0,l._)(i,"photo_sensitive_denied","photosensitive_masklayer_removed"),i),c=(a={},(0,l._)(a,"general_sensitive",["masklayer_general_body"]),(0,l._)(a,"photo_sensitive",["photosensitive_masklayer_body1","photosensitive_masklayer_body2"]),(0,l._)(a,"photo_sensitive_denied",["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body3"]),a),_=(o={},(0,l._)(o,"general_sensitive","masklayer_general_skip"),(0,l._)(o,"photo_sensitive","photosensitive_masklayer_watch"),(0,l._)(o,"photo_sensitive_denied",""),o),f=(u={},(0,l._)(u,"general_sensitive","masklayer_general_watch"),(0,l._)(u,"photo_sensitive","photosensitive_masklayer_skipall"),(0,l._)(u,"photo_sensitive_denied",""),u)},91627:function(e,t,n){n.d(t,{d:function(){return y}});var r=n(51070),i=n(73628),a=n(71334),o=n(80752),u=n(96973),l=n(2475),s=n(88999),d=n(36646),c=n(58034),_=n(77417),f=n(49065),v=n(38577),p=n(46880),m=function(e,t,n){var i=null,l=48;switch(e){case p.W6.GeneralSensitive:l=t===c.ey.OneColumn?36:53,l=n?24:l,i=(0,r.Y)(a.A,{width:l,height:l,fill:"rgba(255, 255, 255, .75)"});break;case p.W6.PhotoSensitive:l=t===c.ey.OneColumn?32:48,l=n?24:l,i=(0,r.Y)(o.A,{width:l,height:l,fill:"#fff"});break;case p.W6.PhotoSensitiveDenied:l=t===c.ey.OneColumn?32:48,l=n?24:l,i=(0,r.Y)(u.A,{width:l,height:l,fill:"#0BE09B"})}return i},h=function(e){var t=(0,d.P)(f.w).photoSensitiveVideosSetting;return(0,i.useMemo)(function(){var n,r=null!=(n=(0,s.x)().user)?n:{},i=r.photoSensitiveVideosSetting,a=r.uid,o=e.maskType===_.D.General,u=e.maskType===_.D.Photosensitive;return(u||o)&&(!u||i!==l.ll.OPEN&&t!==l.ll.OPEN&&(e.authorId!==a||i===l.ll.UNSET))?{showVideoMask:!0,maskType:o?p.W6.GeneralSensitive:t===l.ll.CLOSE?p.W6.PhotoSensitiveDenied:p.W6.PhotoSensitive}:{showVideoMask:!1}},[e.maskType,e.authorId,t])},y=function(e){var t=e.playMode,n=e.item,r=e.smallSizeIcon,a=void 0!==r&&r,o=(0,v.s)(),u=h(n),l=u.showVideoMask,s=u.maskType;return(0,i.useMemo)(function(){if(!l||!s)return{showVideoMask:l};var e=o(p.L$[s]),n=p.eL[s].map(function(e){return o(e)}).join(""),r=m(s,t,a),i=o(t===c.ey.BrowserMode||t===c.ey.ImmersivePlayer||t===c.ey.VideoDetail||t===c.ey.CreatorTab||t===c.ey.OneColumn?p.qb[s]:""),u=o(t===c.ey.BrowserMode||t===c.ey.ImmersivePlayer||t===c.ey.VideoDetail||t===c.ey.CreatorTab||t===c.ey.OneColumn?p.wg[s]:"");return{showVideoMask:!0,maskType:s,videoMaskTitle:e,videoMaskDesc:n,icon:r,videoMaskFirstButtonText:i,videoMaskSecondButtonText:u}},[l,s,o,t,a])}}}]);