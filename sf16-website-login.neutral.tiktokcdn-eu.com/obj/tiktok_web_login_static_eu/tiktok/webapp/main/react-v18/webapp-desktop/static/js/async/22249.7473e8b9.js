"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["22249"],{44975:function(e,t,n){var r=n(5377),o=n(45996),i=n(51070);n(73628),t.A=function(e){return(0,i.Y)("svg",(0,o._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor"},e),{children:(0,i.Y)("path",{d:"M9 9.31v17.75c5.27-1.73 11.45-2.05 16.16 1.31 4.03 2.88 9.52 2.01 13.84.32V10.94c-5.27 1.73-11.45 2.05-16.16-1.31-4-2.86-9.53-2.01-13.84-.32M43 8v22a2 2 0 0 1-1.1 1.79c-5.83 2.9-13.5 3.82-19.06-.16C18.8 28.75 13.32 29.6 9 31.3V44a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8c0-.75.44-1.45 1.1-1.79 5.75-2.87 13.62-3.73 19.06.16 4.37 3.13 10.43 2.04 14.95-.16C41.4 5.56 43 6.54 43 8"})}))}},29332:function(e,t,n){n.d(t,{$4:function(){return I},Mu:function(){return L},o$:function(){return k}});var r=n(79066),o=n(5377),i=n(45996),u=n(72516),a=n(94456),s=n(66905),l=n(10625),c=n(88182),d=n(65107),p=n(26705),f=n(3878),m=n(45017),v=n(66868),h=n(71952),g=n(41076),y=n(44904),_=n(63004),b=n(34826),w=n(83164),x={nickname:"",replyId:void 0,replyToReplyId:void 0,position:-1},S=(0,l.p)("commentInputAtom@tiktok/webapp-atoms",{reply:(0,o._)({},x),replyToOtherComment:(0,o._)({},x),mentionUserList:[],isInputEmpty:!0,isReplyInputEmpty:!0,isInputFocus:!1,needClearInput:!1,needResetKeyword:!1,replyCid:""}),C=(0,s.i)(S,function(e,t){return{setReplyCid:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{replyCid:e})})},setReply:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{reply:null===e?(0,o._)({},x):e})})},setReplyOptimize:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{replyToOtherComment:e})})},setMentionUserList:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{mentionUserList:null===e?[]:e})})},setIsReplyInputEmpty:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{isReplyInputEmpty:e})})},setIsInputEmpty:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{isInputEmpty:e})})},setIsInputFocus:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{isInputFocus:e})})},setNeedClearInput:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{needClearInput:e})})},setNeedResetKeyword:function(e){t(S,function(t){return(0,i._)((0,o._)({},t),{needResetKeyword:e})})},publishComment:function(t){return(0,r._)(function(){var n,r,s,l,x,C,L,I,k,T,M,P,E,B,O,R,A,D,F,V,z,N,U,j,K,W,G,q,$,H,Y;return(0,u.__generator)(this,function(u){switch(u.label){case 0:n=this,r=(0,_.T)(),s=e(S),l=e(b.Pu),x=t.awemeId,C=t.inputText,L=t.textExtra,I=t.teaParams,k=t.isReplyComment,T=t.shouldOptimizeReply,M=t.isCommentRedesign,P=s.reply,E=s.replyToOtherComment,O=(B=k?E:P).replyId,R=B.replyToReplyId,A=B.nickname,D=B.position,F=l[x],V={aweme_id:x,text:C,reply_id:O,reply_to_reply_id:R,text_extra:JSON.stringify(L)},z=!!A&&!T||k,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,w.lG)(V)];case 2:return U=(N=u.sent()).status_code,j=N.comment,U===h.s.Ok?(K=z?"0"===R?"reply":"reply_to_reply":"original",W=A?r("comment_reply_success"):r("comment_post_success"),v.F.destroy(),v.F.open({content:W,duration:3,getContainer:g.M,getContainerPosition:"fixed"}),p.ao.handlePostComment((0,i._)((0,o._)({},I),{comment_category:K,comment_id:j.cid})),(G=null==F?void 0:F.ad_info)&&(q=(0,f.n5)({ad_info:G,play_mode:I.play_mode}),m.pg.handleComment(q))):U===h.s.CommentBanCode?(v.F.destroy(),v.F.open({content:r("comment_banned_toast"),duration:3,getContainer:g.M,getContainerPosition:"fixed"})):U?(v.F.destroy(),v.F.open({content:r("comment_post_failed"),duration:3,getContainer:g.M,getContainerPosition:"fixed"})):(v.F.destroy(),v.F.open({content:r("comment_nointernet_toast"),duration:3,getContainer:g.M,getContainerPosition:"fixed"})),U===h.s.Ok&&($=(0,y.OL)(),H=["comment","reply",j.reply_id],Y=["comment",j.aweme_id],(0,a.unstable_batchedUpdates)(function(){k&&T?(M&&((0,d.performManualOptimisticUpdate)(H,(0,c.qZ)({reply:j,parentCid:null!=O?O:""})),(0,d.performManualOptimisticUpdate)(Y,(0,c.uv)({awemeId:x,parentCid:null!=O?O:""}))),n.setReplyCid(""),$.handleReplySuccess({comment:j,position:D})):z?(M&&((0,d.performManualOptimisticUpdate)(H,(0,c.qZ)({reply:j,parentCid:null!=O?O:""})),(0,d.performManualOptimisticUpdate)(Y,(0,c.uv)({awemeId:x,parentCid:null!=O?O:""}))),n.setNeedClearInput(!0),$.handleReplySuccess({comment:j,position:D})):(n.setNeedClearInput(!0),M&&(0,d.performManualOptimisticUpdate)(Y,(0,c.nK)({comment:j})),$.handlePostSuccess(j))})),[3,4];case 3:return u.sent(),[3,4];case 4:return[2]}})}).call(this)}}}),L=C.useAtomService,I=C.useServiceDispatchers,k=C.useServiceState},83164:function(e,t,n){n.d(t,{dj:function(){return c},fM:function(){return s},i_:function(){return l},lG:function(){return d}});var r=n(79066),o=n(35383),i=n(72516),u=n(44957),a=n(54149);function s(){return(0,r._)(function(){return(0,i.__generator)(this,function(e){return[2,u.h.get("/api/at/default/list/",{query:{cursor:0,count:25},baseUrlType:a.Z4.FixedWww})]})})()}function l(e){return(0,r._)(function(){return(0,i.__generator)(this,function(t){return[2,u.h.get("/api/mention/recent/contact/list/v1/",{query:{mentionType:3,secUid:e},baseUrlType:a.Z4.FixedWww})]})})()}function c(e,t){return(0,r._)(function(){return(0,i.__generator)(this,function(n){return[2,u.h.get("/api/comment/search/sug/user/",{query:{keyword:e,count:30,mention_type:3,uid_filter_list:t},baseUrlType:a.Z4.FixedWww})]})})()}function d(e){return(0,r._)(function(){return(0,i.__generator)(this,function(t){return[2,u.h.post("/api/comment/publish/",{query:e,baseUrlType:a.Z4.CommentTest,headers:(0,o._)({},a.nk,u.h.csrfToken)})]})})()}},73645:function(e,t,n){n.d(t,{vZ:function(){return w},kh:function(){return S},Z9:function(){return x}});var r=n(5377),o=n(45996),i=n(66905),u=n(10625),a=n(73515),s=n(58034),l=n(53069),c=n(63683),d=n(42963),p=n(45893),f=n(49273),m=n(34826),v=function(e,t){var n=t(m.Pu);return e.flatMap(function(e){var t=n[e];return!t||t.showNotPass||6===t.takeDown?[]:e})},h=(0,u.p)("immersivePlayerItemListConfigAtom@tiktok/webapp-atoms",null),g=(0,u.p)("immersivePlayerItemListAtom@tiktok/webapp-atoms",function(e){var t=e(h);if(!t)return[];if("single"===t.mode){var n=(0,p.D)(t.itemListKey);return n?v(e(n).list,e):[]}return"id"===t.mode&&"user-playlist"===t.source?v(e(f.DB)[t.id].list,e):[]},function(e,t,n){t(h,n)}),y=(0,u.p)("immersivePlayerStateAtom@tiktok/webapp-atoms",{index:-1,isOpen:!1,isCommentsOpen:!1}),_=(0,u.p)("immersivePlayerAtom@tiktok/webapp-atoms",function(e){var t=e(y),n=e(g),o=e(h);return(0,r._)({itemList:n,itemListSourceConfig:o},t)},function(e,t,n){console.warn("Tried to set immersivePlayerAtom with:",n)}),b=(0,i.i)(_,function(e,t){return{syncStateToPlayerAtom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=e(h),o=e(_).index,i=null!=n?n:e(g)[o],u=e(c.jD)[i],p=(null==u?void 0:u.contentType)==="video"?u.currentTime:void 0,f={currentVideo:{index:o,id:i,mode:s.ey.ImmersivePlayer},playProgress:null!=p?p:0,pageType:(null==r?void 0:r.mode)==="single"?d.FB[r.itemListKey]:a.g.Unknown};(0,l.LM)().updateVideo(f),(null==u?void 0:u.contentType)==="video"?(0,c.Q3)().setVideoInfo({itemId:i,currentTime:p}):(null==u?void 0:u.contentType)==="photo"&&(0,c.Q3)().setPhotoInfo({itemId:i})},openImmersivePlayer:function(e){var n=e.id,r=e.index,o=e.itemListSourceConfig,i=e.teaParams,u=e.isCommentsOpen;t(h,o),t(y,{index:r,isOpen:!0,isCommentsOpen:u,teaParams:i}),this.syncStateToPlayerAtom({id:n})},closeImmersivePlayer:function(){this.syncStateToPlayerAtom(),t(y,{index:-1,isOpen:!1,isCommentsOpen:!1,teaParams:void 0}),t(h,null)},setIndex:function(e,n){t(y,function(t){return(0,o._)((0,r._)({},t),{index:e})}),this.syncStateToPlayerAtom({id:n})},setIsCommentsOpen:function(e){t(y,function(t){return(0,o._)((0,r._)({},t),{isCommentsOpen:e})})}}}),w=b.useAtomService,x=b.useServiceState,S=b.useServiceDispatchers;b.getStaticApi},17557:function(e,t,n){n.d(t,{Uy:function(){return L},V2:function(){return M}});var r=n(79066),o=n(35383),i=n(5377),u=n(45996),a=n(54333),s=n(72516),l=n(93085),c=n(66905),d=n(82887),p=n(10625),f=n(36200),m=n(88999),v=n(90432),h=n(4613),g=n(71952),y=n(94185),_=n(48323),b=n(42963),w=n(67495),x=n(97922),S=n(60578),C=n(90329),L=(0,p.p)("exploreCategorizedAtomsAtom@tiktok/webapp-atoms",{}),I=(0,p.p)("exploreCategorizedListAtom@tiktok/webapp-atoms",function(e){return(0,l.A)(e(L),function(t){return t?e(t):y.hA})},function(){});function k(e){v.f.sendEvent("row_load_more",{page_name:h.L.Explore,enter_method:"scroll",is_success:+!!e,is_follow:"0"})}var T=(0,c.i)(I,function(e,t){return{getExploreList:function(n){return(0,r._)(function(){var r,l,c,v,h,I,T;return(0,s.__generator)(this,function(s){switch(s.label){case 0:r=n.categoryType,c=(l=(0,m.x)()).language,v=l.abTestVersion,(h=e(L)[r])||(h=(0,d._)((0,p.p)("catAtom_".concat(r,"@tiktok/webapp-atoms"),y.hA),{rehydrationKey:"desktop.explorePage.exploreList.".concat(r)}),t(L,function(e){return(0,u._)((0,i._)({},e),(0,o._)({},r,h))})),s.label=1;case 1:return s.trys.push([1,3,,4]),I=(0,w.z)(),t(h,function(e){return(0,u._)((0,i._)({},e),{loading:!0})}),[4,(0,S.e)({language:(0,f.uk)(c),aid:y.xE,count:x.H,categoryType:r,clientABVersions:null==v?void 0:v.versionName,isNonPersonalized:(0,C.XN)(),video_encoding:I})];case 2:return(T=s.sent()).itemList=function(e,t){if(!t)return t;var n=e(L),r=[],o=!0,i=!1,u=void 0;try{for(var s,l=Object.values(n)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c&&r.push.apply(r,(0,a._)(e(c).list))}}catch(e){i=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}var d=new Set(r);return t.filter(function(e){return!d.has(e.id)})}(e,T.itemList),k(T.statusCode===g.s.Ok),(0,_.Tj)(e,t,h,b.Lz.Explore,T),[3,4];case 3:return s.sent(),k(!1),(0,_.e_)(t,h),[3,4];case 4:return[2]}})})()},resetExploreList:function(n){var r=e(L)[n.categoryType];r&&t(r,y.hA)}}}),M=T.useAtomService;T.useServiceDispatchers,T.useServiceState},49273:function(e,t,n){n.d(t,{DB:function(){return S},V6:function(){return L}});var r=n(79066),o=n(35383),i=n(5377),u=n(45996),a=n(6586),s=n(72516),l=n(82887),c=n(66905),d=n(10625),p=n(75127),f=n(88999),m=n(2259),v=n(73721),h=n(44957),g=n(54149),y=n(32084),_=n(94185),b=n(48323),w=(0,v.M)({csr:function(e){return(0,r._)(function(){var t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,p.e)()];case 1:return t=n.sent(),[2,h.h.get("/api/mix/item_list/",{query:(0,u._)((0,i._)({},e),{clientABVersions:t.join(",")}),baseUrlType:g.Z4.FixedWww})]}})})()},ssr:function(e){return(0,r._)(function(){var t,n,r,o,i,u,l,c,d,p,f,v,h,g,b,w;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return t=(0,m.yK)(),r=void 0===(n=e.mixId)?"":n,i=void 0===(o=e.count)?24:o,[4,Promise.all([t.service.location.getUserCountryCode(),t.service.sharedUtil.appId(),t.i18n.getLanguage(),t.service.sharedSeo.isGoogleBot(),t.service.sharedSeo.isSearchEngineBot()])];case 1:return l=(u=a._.apply(void 0,[s.sent(),5]))[0],c=u[1],d=u[2],p=u[3],f=u[4]?p?y.IC.WebScene_BOT_GOOGLE_ITEMLIST_MIX:y.IC.GENERAL_BOT_ITEMLIST_MIX:y.IC.WebScene_WEBAPP_ITEMLIST_MIX,[4,t.service.webapp.data.getItemList({Id:r,MaxCursor:"0",MinCursor:"0",Count:i,AppId:c,Region:l,Language:d,Source:f,Extra:{user_agent:t.headers[_.UA]||""}})];case 2:return h=(v=s.sent()).statusCode,g=v.statusMsg,b=v.hasMore,w=v.items,[2,{statusCode:h,statusMsg:g,hasMore:b,cursor:v.maxCursor,itemList:w}]}})})()}}),x=(0,d.p)("activePlaylistItemListAtom@tiktok/webapp-atoms",_.hA),S=(0,l._)((0,d.p)("playlistItemListAtom@tiktok/webapp-atoms",{}),{rehydrationKey:"desktop.playlistPage.playlistItemList"}),C=(0,c.i)(S,function(e,t){return{fetchPlaylistItemList:function(n){return(0,r._)(function(){var r,a,l,c,d,p,m,v,h;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(r=e(S),a=n.mixId,(c=(l=n.itemListKey)||a)in r&&!r[c].hasMore)return[2,void t(x,r[c])];s.label=1;case 1:return s.trys.push([1,3,,4]),m=null!=(p=null==(d=r[c])?void 0:d.cursor)?p:"0",v=(0,f.x)().language,[4,w({mixId:a,language:v,cursor:m,aid:_.xE,count:_.vu})];case 2:return h=s.sent(),t(x,function(e){var t;return null!=(t=r[c])?t:e}),(0,b.Tj)(e,t,x,c,h,{isPlayList:!0}),t(S,function(t){return(0,i._)((0,u._)((0,i._)({},t),(0,o._)({},a,e(x))),l&&(0,o._)({},l,e(x)))}),[3,4];case 3:return s.sent(),(0,b.e_)(t,x),[3,4];case 4:return[2]}})})()}}}),L=(C.useAtomService,C.useServiceDispatchers);C.useServiceState},74473:function(e,t,n){n.d(t,{O9:function(){return i},hG:function(){return u},yE:function(){return a}});var r=n(73628),o=n(77407);function i(e){var t=e.elemRef,n=e.onHitBottom,i=e.bottomThreshold,u=void 0===i?10:i,a=e.throttle,s=e.isFirstRender,l=(0,o._g)(function(){if(t.current&&!s){var e=t.current;e.offsetHeight+e.scrollTop+u>=e.scrollHeight&&(null==n||n())}},[u,t,n,s],void 0===a?100:a);(0,r.useEffect)(function(){var e=t.current;return null==e||e.addEventListener("scroll",l),function(){null==e||e.removeEventListener("scroll",l)}},[t,t.current,l])}function u(e){var t=e.elemRef,n=e.boundingElemRef,i=e.onHitBottom,u=e.bottomThreshold,a=void 0===u?10:u,s=e.throttle,l=(0,o._g)(function(){t.current&&t.current.getBoundingClientRect().bottom-a<=((null==n?void 0:n.current)?n.current.getBoundingClientRect().bottom:window.innerHeight)&&(null==i||i())},[n,a,t,i],void 0===s?100:s);(0,r.useEffect)(function(){var e,t=null!=(e=null==n?void 0:n.current)?e:window;return t.addEventListener("scroll",l),function(){t.removeEventListener("scroll",l)}},[n,l])}function a(e){var t=e.elemRef,n=e.onHitTop,i=e.scrollTopRef,u=e.throttle,a=e.isFirstRender,s=e.onScrollDown,l=(0,o._g)(function(){if(t.current&&!a){var e=t.current,r=e.scrollTop,o=e.scrollHeight,u=r<=0;if(i){var l=r<=i.current;i.current=r,u&&l&&(null==n||n(),t.current.scrollTop=t.current.scrollHeight-o)}else u&&(null==n||n());r>0&&(null==s||s())}},[t,n,a],void 0===u?100:u);(0,r.useEffect)(function(){var e=t.current;return null==e||e.addEventListener("scroll",l),null==e||e.addEventListener("wheel",l),function(){null==e||e.removeEventListener("scroll",l),null==e||e.removeEventListener("wheel",l)}},[t,t.current,l])}},84918:function(e,t,n){n.d(t,{J:function(){return v},K:function(){return m}});var r=n(73628),o=n(40832),i=n(80660),u=n(10449),a=n(81047),s=n(26045),l=n(49339),c=[o.L.Trending,o.L.Explore,o.L.PhotoVideo,o.L.Video,o.L.SearchVideo,o.L.SearchUser,o.L.SearchPhoto,o.L.GeneralSearch],d=[o.L.Trending];function p(){var e=(0,i.L$)((0,u.W)(function(){return["user","region"]},[])),t=e.user,n=e.region,o=(0,i.L$)((0,a.U)(function(){return["forceLoginSpecialRegions"]},[])).forceLoginSpecialRegions,s=(0,l.bb3)().enableBrazil12hCumulativePlay;return(0,r.useMemo)(function(){if(t)return!1;var e=null==o?void 0:o.includes(n);return"BR"===n&&e?!s:!!e},[o,n,t,s])}function f(){window&&(window.location.href="/login?redirect_url=".concat((0,s.Q2)()))}function m(e){var t=p(),n=(0,i.L$)((0,a.U)(function(){return["isMobile"]},[])).isMobile,o=void 0!==n&&n?d:c,u=!!e&&(null==o?void 0:o.includes(e));(0,r.useEffect)(function(){t&&u&&f()},[e,t,u])}function v(){var e=p();return(0,r.useCallback)(function(){return!!e&&(f(),!0)},[e])}},94345:function(e,t,n){n.d(t,{Em:function(){return a},WA:function(){return u},f8:function(){return o},mo:function(){return i}});var r=n(29332),o=function(){return(0,r.o$)(function(e){return e.needClearInput})},i=function(){return(0,r.o$)(function(e){return e.replyCid})},u=function(){return(0,r.o$)(function(e){return e.isInputFocus})},a=function(e){var t=(0,r.o$)(function(e){return{isCommentInputEmpty:e.isInputEmpty,isReplyInputEmpty:e.isReplyInputEmpty}}),n=t.isCommentInputEmpty,o=t.isReplyInputEmpty;return e?o:n&&o}},62672:function(e,t,n){n.d(t,{g:function(){return S},m:function(){return C}});var r=n(41386),o=n(5377),i=n(45996),u=n(16327),a=n(6586),s=n(69513),l=n(73628),c=n(89485),d=n(82761),p=n(79178),f=n(49861),m=n(58034),v=n(42963),h=n(48323),g=n(80660),y=n(10449),_=n(84918),b=n(61874),w=n(25435),x=n(94720),S=(0,d.$)("BrowserContext@tiktok/fe-shared")({isLiveBrowserShowing:!1,isBrowserModeShowing:!1,showBrowserMode:s.A,closeBrowserMode:s.A});function C(){var e=(0,a._)((0,l.useState)(!1),2),t=e[0],n=e[1],s=(0,a._)((0,l.useState)({}),2),d=s[0],S=s[1],C=(0,a._)((0,l.useState)(),2),L=C[0],I=C[1],k=(0,a._)((0,w.BI)(function(e){return{showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey,currentIndex:e.currentIndex,enterWindowTimeSec:e.enterWindowTimeSec}},c.bN),2),T=k[0],M=T.showingBrowserMode,P=T.itemListKey,E=T.currentIndex,B=T.enterWindowTimeSec,O=k[1],R=(0,l.useRef)(0),A=(0,l.useRef)(0),D=(0,l.useRef)(0),F=(0,l.useRef)(0),V=(0,l.useRef)(0),z=(0,l.useRef)(null),N=(0,l.useRef)(null),U=(0,x.hL)({currentIndex:E}),j=U.authorId,K=U.groupId,W=(0,g.L$)((0,x.Og)({currentIndex:E})).currentId,G=void 0===W?"":W,q=(0,g.L$)((0,y.W)(function(){return["user"]},[])).user,$=(0,a._)((0,p.S)(b.k,{selector:function(e){return e[G]},dependencies:[G]}),1)[0],H=(0,l.useMemo)(function(){return{author_id:j,group_id:K}},[j,K]),Y=(0,l.useCallback)(function(){var e=Math.floor((Number(new Date)-A.current)/1e3),t=(0,i._)((0,o._)((0,i._)((0,o._)({},f.L.getScreenRatio()),{duration:e}),H),{play_mode:m.Tk.BrowserMode});f.L.handleExitBrowser(t)},[H]),Z=function(){null!==N.current&&window.removeEventListener("resize",N.current)};(0,l.useEffect)(function(){var e,n=function(){if(t){var e=f.L.getScreenRatio(),n=e.height_max,r=e.width_max,i=e.width,u=e.height,a=e.height_ratio,s=e.width_ratio,l=Number(new Date),c=(0,o._)({height_ratio_after:a,width_ratio_after:s,height_ratio:F.current/n,width_ratio:V.current/r,height_after:u,width_after:i,height:F.current,width:V.current,height_max:n,width_max:r,duration:(l-D.current)/1e3},H);D.current=l,F.current=u,V.current=i,f.L.handleAdjustBrowserSize(c)}};if(Z(),t){var r=function(){clearTimeout(e),e=setTimeout(n,500)};window.addEventListener("resize",r),N.current=r}if(0===R.current){var i=Number(new Date);R.current=i,A.current=i,D.current=i}return function(){Z()}},[t,H]);var J=(0,l.useMemo)(function(){return{capture:!0}},[]),Q=(0,l.useCallback)(function(){null!==z.current&&window.removeEventListener("beforeunload",z.current,J)},[J]);(0,l.useEffect)(function(){var e=function(){var e=Math.floor((Number(new Date)-B)/1e3),n=(0,o._)((0,i._)((0,o._)({},f.L.getScreenRatio()),{duration:e}),t?H:{});f.L.handleCloseWindow(n),t&&Y()};return Q(),z.current=e,window.addEventListener("beforeunload",e,J),function(){Q()}},[Q,B,t,J,Y,H]);var X=(0,_.J)(),ee=(0,l.useCallback)(function(e){if(!X()){var t=e.teaParams,a=e.reportTeaParams,s=e.enterFrom,l=(0,u._)(e,["teaParams","reportTeaParams","enterFrom"]);(0,r._)(document.activeElement,HTMLElement)&&document.activeElement.blur(),O.showBrowserMode(l),n(!0),S(null!=t?t:{}),I(s);var c=(null==t?void 0:t.author_id)&&(null==q?void 0:q.uid)===t.author_id,d=f.L.getScreenRatio(),p=(0,i._)((0,o._)({},null!=a?a:t,d),{play_mode:m.Tk.BrowserMode,is_self_content:c}),v=d.width;F.current=d.height,V.current=v;var h=Number(new Date);A.current=h,D.current=h,f.L.handleEnterBrowserOpt(p)}},[O,X]),et=(0,l.useCallback)(function(e){n(!1),O.closeBrowserMode(e),Y()},[O,Y]),en=(0,l.useMemo)(function(){var e=new Set([v.Lz.ForYou,v.Lz.Following]);return!!M&&(0,h.Jl)($)&&e.has(P)},[M,P,$]);return{itemListKey:P,currentIndex:E,showBrowserMode:ee,isLiveBrowserShowing:en,closeBrowserMode:et,isBrowserModeShowing:M,disableUpdate:!t,teaParams:d,enterFrom:L}}},94720:function(e,t,n){n.d(t,{GL:function(){return eC},Ky:function(){return eI},hL:function(){return eM},rw:function(){return eP},Bc:function(){return eA},JE:function(){return ey},Wj:function(){return eS},WQ:function(){return ex},HK:function(){return eR},dD:function(){return eh},ih:function(){return eE},jd:function(){return eO},Og:function(){return ek},V0:function(){return e_},FQ:function(){return ew},DX:function(){return eB},Oz:function(){return eb},Dk:function(){return eT}});var r=n(5377),o=n(6586),i=n(51070),u=n(53036),a=n(59510),s=n(26869),l=n(73628),c=n(89485),d=n(67228),p=n(65491),f=n(10874),m=n(2916),v=n(38896),h=n(12499),g=n(3595),y=n(79178),_=n(36646),b=n(58034),w=n(20746),x=n(13654),S=n(4115),C=n(49861),L=n(42684),I=n(26705),k=n(47216),T=n(53069),M=n(29332),P=n(58409),E=n(42963),B=n(44904),O=n(73645),R=n(66905),A=n(10625),D=n(50870),F=n(94185),V=n(17557),z=(0,A.p)("exploreActiveCategoryTypeAtom@tiktok/webapp-atoms",D.Yl.ExploreCategoryType_UNDEFINED);(0,A.p)("exploreBrowserListAtom@tiktok/webapp-atoms",function(e){var t=e(V.Uy)[e(z)];return t?e(t):F.hA},function(){});var N=(0,R.i)(z,function(e,t){return{prepareBrowserMode:function(e){t(z,e)}}}),U=N.useServiceState;N.useServiceDispatchers;var j=n(45893),K=n(82983),W=n(38577),G=n(10449),q=n(71952),$=n(80660),H=n(43919),Y=n(94345),Z=n(25435),J=n(81329),Q=n(49339),X=n(23460),ee=n(44928),et=n(77407),en=n(31217),er=n(37585),eo=n(55999),ei=n(74473),eu=n(31343),ea=n(58094),es=n(11567),el=n(97734),ec=n(48653),ed=n(54842),ep=n(70143),ef=n(61874),em=n(86712),ev=n(31822);function eh(e){var t=e.itemListKey,n=e.item,r=e.author,i=e.needUrlDelegate,a=e.onCloseBrowserMode,c=e.disableUpdate,d=void 0!==c&&c,p=(0,f.useLocation)(),m=p.pathname,v=p.search,g=(0,f.useHistory)(),_=(0,ea._u)(),b=(0,l.useRef)(!1),w=(0,o._)((0,y.S)(el.C,{dependencies:[],selector:function(e){return{searchValue:e.searchValue,previousSearchValue:e.previousSearchValue}}}),2),x=w[0],S=x.searchValue,C=x.previousSearchValue,L=w[1],I=L.setPreviousSearchValue,k=L.setSearchValue,T=L.setInputFocus;(0,l.useEffect)(function(){I(S),k("");var e=function(){k(C),T(!1),a({fromPopState:!0})};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}},[]),(0,l.useEffect)(function(){if(n&&t&&i&&!d){(0,f.matchPath)(location.pathname,{path:h.vI.liveRoom})&&(b.current=!0);var e=n.scheduleTime,o=n.author,a=(0,u.A)((0,s.parse)(v),"sender_device","sender_web_id","item_id"),l=e?(0,ee.fJ)({uniqueId:void 0===o?"":o,secUid:null==r?void 0:r.secUid}):(0,s.stringifyUrl)({url:_(n),query:a},{skipNull:!0});if(b.current&&null!==window.history.state&&/^(?!.*@.*\/video).*$/.test(location.pathname)&&/^(?!.*@.*\/photo).*$/.test(location.pathname))return void window.history.replaceState(null,"",location.pathname);b.current?window.history.replaceState(window.history.state,"video-detail",l):(window.history.pushState(window.history.state,"video-detail",l),b.current=!0)}},[null==r?void 0:r.secUid,g,n,m,t,i,v,d])}var eg=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()};function ey(e){var t=e.onCloseBrowserMode,n=e.onNextVideo,i=e.onPrevVideo,u=e.pause,a=e.setPause,s=e.embedVisibleRef,c=e.group_id,d=e.handleLikeClick,p=e.author_id,v=e.itemListKey,h=e.onJumpSamePage,k=e.shouldPause,T=e.photoVideoRef,B=e.isPhotoMode,O=e.photoTeaParams,R=e.setIsShowPhoto,A=e.itemMute,D=e.playerRef,F=(0,es.m)().isRTL,V=(0,o._)((0,l.useState)(!1),2),z=V[0],N=V[1],U=(0,o._)((0,l.useState)(0),2),j=U[0],K=U[1],W=(0,Y.Em)(),G=(0,M.$4)().setNeedClearInput,q=(0,y.w)(ec.aL),$=(0,o._)((0,y.S)(el.C,{dependencies:[],selector:function(e){return{previousSearchValue:e.previousSearchValue,searchValue:e.searchValue}}}),2),H=$[0],Q=H.previousSearchValue,ee=H.searchValue,et=$[1].setSearchValue,ei=(0,er.ah)({playMode:b.ey.BrowserMode,itemMute:void 0!==A&&A}),ea=ei.mute,ed=ei.setMute,ep=(0,o._)((0,Z.BI)(function(e){return e.isCreatorBrowserMode}),2),ef=ep[0],em=ep[1],ev=(0,l.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),ed(!ea,w.c.Keydown,O)},[ed,ea,O,c,p]),eh=(0,_.P)(en.hf,{selector:function(e){return e.showing},dependencies:[]}),ey=(0,_.P)(X.y7,{selector:function(e){return e.showing},dependencies:[]}),e_=(0,P.mZ)(function(e){return e.isOpen}),eb=(0,l.useCallback)(function(e){var t,n,r,o,i,s,l,c,d,p,f,m,v,h,g,y;B?u?(null==(r=T.current)||null==(n=r.swiper)||null==(t=n.play)||t.call(n),null==(s=T.current)||null==(i=s.audio)||null==(o=i.play)||o.call(i)):(null==(d=T.current)||null==(c=d.swiper)||null==(l=c.pause)||l.call(c,e),null==(m=T.current)||null==(f=m.audio)||null==(p=f.pause)||p.call(f)):u?null==(h=D.current)||null==(v=h.play)||v.call(h,!0):null==(y=D.current)||null==(g=y.pause)||g.call(y),a(!u)},[B,a,u,T,c,p,D]),ew=(0,f.useLocation)().pathname,ex=(0,f.useHistory)(),eS=(0,l.useCallback)(function(e,n){if(eg(e),et(Q),W){var r;t({fromPopState:n,playProgress:null==(r=D.current)?void 0:r.currentTime,shouldPause:k})}else K(1),N(!0)},[W,k,t,Q,et,D]),eC=(0,l.useCallback)(function(e){eg(e),em.handleExitCreatorMode()},[em]),eL=(0,l.useRef)(-1),eI=(0,l.useCallback)(function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click,i=e>0?ec.RW.Forward:ec.RW.BackWard;window.clearTimeout(eL.current),q.setSeekType(i),eL.current=window.setTimeout(function(){q.setSeekType(ec.RW.None)},2e3),null==(r=D.current)||null==(n=r.seekTime)||n.call(r,(null==(t=D.current)?void 0:t.currentTime)+e),x.V.handleVideoControlChange({play_mode:b.Tk.BrowserMode,author_id:null!=p?p:"",group_id:c,enter_method:o,click_section:o===w.c.Click?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"})},[p,c]),ek=(0,l.useRef)(""),eT=(0,l.useCallback)(function(e,t,n){if(t.includes(ew)&&ew!==g.OZ.home){eS(e),h();return}W||(eg(e),K(4),N(!0),ek.current=t),n&&S.O.handleGeneralClick(n,{scene:"video_feed"})},[eS,W,ew,h]),eM=(0,l.useCallback)(function(){B&&(R(!1),setTimeout(function(){R(!0)},0))},[B,R]),eP=(0,m.Rx)(),eE=(0,l.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click;if(e&&eg(e),eP(t),ee&&et(""),W){n(),a(!1);var o=(0,r._)({enter_method:t,play_mode:b.Tk.BrowserMode,group_id:c,author_id:null!=p?p:"",skipped_group_num:0,skipped_group_ids:""},O);C.L.handleVideoChange(o,"next"),v===E.Lz.ForYou&&C.L.handleHotVideoChange(o,"next"),eM()}else K(3),N(!0)},[W,n,a,c,p,O,v,eM,ee,et]),eB=(0,l.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click;if(e&&eg(e),eP(t),ee&&et(""),W){i(),a(!1);var n=(0,r._)({enter_method:t,play_mode:b.Tk.BrowserMode,group_id:c,author_id:null!=p?p:"",skipped_group_num:0,skipped_group_ids:""},O);C.L.handleVideoChange(n,"prev"),v===E.Lz.ForYou&&C.L.handleHotVideoChange(n,"prev"),eM()}else K(2),N(!0)},[i,a,c,p,O,v,eM,ee,et]),eO=(0,l.useCallback)(function(e){e&&eg(e),ee&&et(""),W?(a(!1),eM()):(K(3),N(!0))},[W,a,eM,ee,et]),eR=(0,J.mE)(function(e){return{isMiniPlayerShowing:e.isMiniPlayerShowing}}).isMiniPlayerShowing,eA=(0,l.useCallback)(function(e){if(!(e.keyCode!==eo.D.Esc&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase()))&&"true"!==e.target.getAttribute("contenteditable")&&!e_){var t=new Map([[eo.D.Esc,function(){!eR&&(ef?(eC(e),a(!1)):eh||ey||s.current||eS(e))}],[eo.D.Down,function(){eE(e,w.c.Keydown)}],[eo.D.Space,function(){eb(L.kC.Keyboard)}],[eo.D.Right,function(){eI(F?eu.a:eu.S,w.c.Keydown)}],[eo.D.Left,function(){eI(F?eu.S:eu.a,w.c.Keydown)}],[eo.D.Up,function(){eB(e,w.c.Keydown)}],[eo.D.L,function(){d(w.c.Keydown)}],[eo.D.M,function(){ev(e)}]]),n=e.keyCode;t.has(n)&&(e.preventDefault(),t.get(n)())}},[s,eS,d,eE,eB,ev,e_,eh,ey,eb,eC,ef,eI,F,a,eR]),eD=(0,l.useCallback)(function(){switch(j){case 1:var e;t({playProgress:null==(e=D.current)?void 0:e.currentTime,shouldPause:k});break;case 2:i(),a(!1);break;case 3:n(),a(!1);break;case 4:ek.current&&ex.push(ek.current)}N(!1),G(!0),I.ao.handleLeaveComment({group_id:c})},[j,c,ex,k,t,n,i,G,a]),eF=(0,l.useCallback)(function(){K(0),N(!1),I.ao.handleKeepComment({group_id:c})},[c]);return(0,l.useEffect)(function(){return document.addEventListener("keydown",eA),function(){document.removeEventListener("keydown",eA)}},[eA]),{handleLinkClick:eT,handleClose:eS,handleCloseCreatorMode:eC,handleNext:eE,handlePrev:eB,preventDefault:eg,togglePlay:eb,showLeaveModal:z,noEditingContent:W,handleConfirmLeave:eD,handleCancelLeave:eF,handleSeek:eI,handleClickCreatorVid:eO}}function e_(e){var t=e.id,n=e.authorId,r=e.playMode,o=e.needDispose,i=void 0===o||o,u=e.handleCommentScrollDown,a=e.handleCommentHitTop,s=(0,B.BY)(),c=(0,l.useRef)(null),d=(0,l.useCallback)(function(){I.ao.handleCommentLoadMore({play_mode:r,group_id:t,author_id:n}),s.fetchComment({aweme_id:t})},[s,t]);return(0,l.useEffect)(function(){return function(){i&&s.setCommentItem({itemId:t,item:B.lN})}},[s,t,i]),(0,ei.O9)({elemRef:c,onHitBottom:d,bottomThreshold:200,throttle:200}),(0,ei.yE)({elemRef:c,onHitTop:a,onScrollDown:u}),c}function eb(e){var t=e.showLeaveModal,n=e.group_id,r=(0,o._)((0,B.kH)(function(e){var t;return null!=(t=e[n])?t:{loading:!1}},c.bN),1)[0].loading;(0,l.useEffect)(function(){t&&I.ao.handleClose({group_id:n,is_comments_loaded:r?I.uO.Loading:I.uO.Loaded})},[n,t]),(0,l.useEffect)(function(){return function(){I.ao.handleClose({group_id:n,is_comments_loaded:r?I.uO.Loading:I.uO.Loaded})}},[n,r])}var ew=function(e){var t=e.currentIndex,n=e.handlePrev,r=e.hasNext,o=e.handleNext,u=e.itemListKey,s=e.isUiOptimise,c=void 0!==s&&s,d=(0,W.s)(),f=(0,l.useCallback)((0,a.A)(function(e){u&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?o(e,w.c.Scroll):e.deltaY<=-1&&n(e,w.c.Scroll))},100),[o,n]);return(0,l.useEffect)(function(){return window.addEventListener("wheel",f),function(){window.removeEventListener("wheel",f)}}),(0,i.FD)(i.FK,{children:[(0,i.Y)(ev.d4,{disabled:0===t,isPrev:!0,onClick:n,"data-e2e":"arrow-left",role:"button","aria-label":d("pc_web_previous_btn"),isUiOptimise:c,children:(0,i.Y)(p.A,{width:26,height:26,fill:"#fff"})}),(0,i.Y)(ev.d4,{disabled:!r,isPrev:!1,onClick:o,"data-e2e":"arrow-right",role:"button","aria-label":d("pc_web_next_btn"),isUiOptimise:c,children:(0,i.Y)(p.A,{width:26,height:26,fill:"#fff"})})]})},ex=function(e){var t,n,r=!0,i=(0,ed.yS)(null==e?void 0:e.author),u=(null!=(t=(0,G.W)(function(){return["user"]},[]))?t:{}).user,a=void 0===u?{}:u,s=(0,o._)((0,l.useState)(!1),2),c=s[0],d=s[1],p=(0,l.useCallback)(function(e){e.stopPropagation(),k.d.handleClickAnalyticsButton(),d(!0)},[]),f=(0,l.useCallback)(function(){d(!1)},[]);a||(r=!1);var m=null!=a?a:{},v=m.secUid,h=m.analyticsOn;return v===(null!=(n=null==i?void 0:i.secUid)?n:"")&&h||(r=!1),{showAnalyticsButton:r,showAnalyticsModal:c,handleOpenAnalyticsModal:p,handleCloseAnalyticsModal:f}};function eS(e,t){var n=eL({itemListKey:e,stateSelector:function(e){var t;return{listLength:null!=(t=null==e?void 0:e.list.length)?t:0,statusCode:null==e?void 0:e.statusCode}}}),r=n.listLength,o=n.statusCode,i=(0,Z.JD)(function(e){return{isBrowserModeOpen:e.showingBrowserMode,browserModeIndex:e.currentIndex}},c.bN),u=i.isBrowserModeOpen,a=i.browserModeIndex,s=(0,O.Z9)(function(e){return{isImmersivePlayerOpen:e.isOpen,index:e.index}}),d=s.isImmersivePlayerOpen,p=s.index,f=(0,l.useMemo)(function(){return d?p:a},[a,p,d]);(0,l.useEffect)(function(){(u||d)&&o===q.s.Ok&&(!r||r-f<=3)&&t()},[f,t,u,d,r,o])}function eC(e){var t=e.itemListKey,n=e.exploreCategoryType,r=e.config,i=e.handler,u=(0,O.Z9)(function(e){return{index:e.index,isOpen:e.isOpen,immersivePlayerListLength:e.itemList.length,itemListSourceConfig:e.itemListSourceConfig}},c.bN),a=u.index,s=u.isOpen,d=u.immersivePlayerListLength,p=u.itemListSourceConfig,f=(null==p?void 0:p.mode)==="single"?p.itemListKey:void 0,m=(0,Z.JD)(function(e){return e.currentIndex},c.bN),v=s?a:m,h=U(),g=(0,o._)((0,em.Zl)(function(e){var t;return{activeItemListKey:e.activeItemListKey,listLength:e.browserList.length,keyToLoadMore:null!=(t=e.keyToLoadMore)?t:""}},c.bN),2),y=g[0],_=y.activeItemListKey,b=y.listLength,w=y.keyToLoadMore,x=g[1],S=s?d:b,C=s?f:_,L=eL({itemListKey:w,stateSelector:function(e){var t,n;return{statusCode:null!=(t=null==e?void 0:e.statusCode)?t:q.s.Ok,loading:null!=(n=null==e?void 0:e.loading)&&n}}}),I=L.statusCode,k=L.loading;(0,l.useEffect)(function(){x.registerBrowserListConfig({itemListKey:t,config:r})},[t,r,x]),(0,l.useEffect)(function(){(t!==E.Lz.Explore||void 0===n||n===h)&&(k||C!==t||S&&!(S-v<=3)||(I===q.s.Ok?!1===i(w)&&x.freezeSourceWithKey(w):t!==w&&x.freezeSourceWithKey(w)))},[k,v,C,t,S,I,x,w])}function eL(e){var t=e.itemListKey,n=e.stateSelector,r=e.dependencies,o=(0,j.D)(t),i=(0,d.X)(o||em.Eq,{selector:n,equalityFn:c.bN}),u=(0,_.P)(ep.O,{selector:function(e){var r;return n(null!=(r=e[t])?r:null)},dependencies:null!=r?r:[t]});return o?i:u}var eI=function(e){var t=e.itemListKey,n=e.currentIndex;return eL({itemListKey:(0,Z.JD)(function(e){return e.isCreatorBrowserMode})?E.Lz.CreatorTab:null!=t?t:"",stateSelector:function(e){var t,r;return e?{currentId:e.browserList[n],prefetchId1:null!=(t=e.browserList[n+1])?t:"",prefetchId2:null!=(r=e.browserList[n+2])?r:"",listLength:e.browserList.length}:null},dependencies:[t,n]})},ek=function(e){var t=e.currentIndex,n=(0,Z.JD)(function(e){return e.isCreatorBrowserMode});return(0,em.d8)(function(e){if(!(null==e?void 0:e.browserList))return null;var r,o,i=n?e.creatorBrowserList:e.browserList;return{currentId:i[t],prefetchId1:null!=(r=i[t+1])?r:"",prefetchId2:null!=(o=i[t+2])?o:"",listLength:i.length}},c.bN)},eT=function(){var e=(0,Z.JD)(function(e){return e.isCreatorBrowserMode});return(0,em.d8)(function(t){return(null==t?void 0:t.browserList)?e?t.creatorBrowserList:t.browserList:[]},c.bN)},eM=function(e){var t,n=e.currentIndex,r=(0,$.L$)(ek({currentIndex:n})).currentId,i=void 0===r?"":r,u=(0,o._)((0,y.S)(ef.k,{selector:function(e){return e[i]},dependencies:[i]}),1)[0],a=null!=(t=null==u?void 0:u.id)?t:"";return{authorId:null==u?void 0:u.authorId,groupId:a}};function eP(e,t,n){var r=(0,o._)((0,K.sK)(function(e){var t,n,r;return{loading:null!=(t=e.loading)&&t,hasMoreLatest:null!=(n=e.hasMoreLatest)&&n,hasMorePrevious:null!=(r=e.hasMorePrevious)&&r}},c.bN),2),i=r[0],u=i.loading,a=i.hasMoreLatest,s=i.hasMorePrevious,d=r[1];return(0,l.useCallback)(function(){(!n||!u&&a)&&(n||!u&&s)&&d.getCreatorTabList({key:E.Lz.CreatorTab,secUid:e,createTime:t,fetchType:n?v.N.LoadLatest:v.N.LoadPrevious})},[u,s,a,n,e,t,d])}var eE=function(){var e=(0,W.s)(),t=e("pc_web_login"),n=e("pc_web_login_to_comment"),r=n.indexOf("%s");return{prefixText:n.slice(0,r),loginText:t,endText:n.slice(r).replace("%s","")}},eB=function(e){return e?new Map([[E.Lz.ForYou,"one-column-item"],[E.Lz.Following,"one-column-item"]]).get(e):e},eO=function(e){var t=e.itemListKey,n=e.currentIndex,r=(0,$.L$)(eI({itemListKey:t,currentIndex:n})).currentId,i=void 0===r?"":r,u=(0,o._)((0,y.S)(ef.k,{selector:function(e){return e[i]},dependencies:[i]}),1)[0];return{liveRoomInfo:null==u?void 0:u.liveRoomInfo,requestId:null==u?void 0:u.logId}},eR=function(e,t,n){var r=(0,Q.reW)().withMultiInstance,o=(0,T.RT)(),i=o===t,u=o===b.ey.BrowserMode,a=(0,T.w)(e,t,n),s=(0,T.R3)(e,t),l=H.R.DEFAULT;return i&&u?l=a?H.R.ACTIVE:s&&r?H.R.BACKUP:H.R.DEFAULT:i&&(l=H.R.ACTIVE),l};function eA(e){var t=e.handleNext,n=e.handlePrev,r=e.currentId,o=(0,Q.TFl)(),i=o.fixLastRef,u=o.scrollOPT,a=(0,l.useRef)(""),s=(0,l.useRef)(0),c=(0,l.useRef)(0),d=(0,l.useRef)(null),p=(0,l.useRef)(!0),f=(0,l.useRef)(""),m=(0,l.useRef)(null),v=(0,l.useRef)(0),h=(0,et._g)(function(e){if(a.current!==r||i){e.stopPropagation(),d.current&&clearTimeout(d.current),d.current=window.setTimeout(function(){c.current=0},100);var o=new Date().getTime(),u=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY||-e.detail)),l=o-s.current;c.current=c.current+1,s.current=o,l>100&&1===c.current&&(u<0?t(e,w.c.Scroll):n(e,w.c.Scroll),i||(a.current=r))}},[r,t,n],20),g=(0,l.useCallback)(function(e){var r,o=e.deltaY,i=null!=(r=e.timeStamp)?r:performance.now(),u=i-(v.current||i);v.current=i;var a=o<0?"prev":o>0?"next":"";if(a&&!(10>Math.abs(o))){a!==f.current&&(m.current&&clearTimeout(m.current),p.current=!0);var s=0!==e.deltaMode||Math.abs(o)>=30&&u>35;p.current&&("next"===a?t(e,w.c.Scroll):n(e,w.c.Scroll),p.current=!1,f.current=a),m.current&&clearTimeout(m.current),m.current=window.setTimeout(function(){p.current=!0},s?160:300)}},[t,n]),y=(0,l.useCallback)(function(e){u?g(e):h(e)},[u,h,g]);return(0,l.useEffect)(function(){return function(){d.current&&clearTimeout(d.current),m.current&&clearTimeout(m.current)}},[]),y}},31822:function(e,t,n){n.d(t,{$2:function(){return h},CY:function(){return v},F3:function(){return C},II:function(){return N},Ii:function(){return A},Jr:function(){return S},Mu:function(){return x},O8:function(){return m},QN:function(){return L},RK:function(){return F},Rq:function(){return B},TP:function(){return z},_P:function(){return f},cR:function(){return g},d4:function(){return I},es:function(){return T},fJ:function(){return M},iH:function(){return y},jc:function(){return V},kn:function(){return P},lG:function(){return k},oK:function(){return E},rh:function(){return _},sh:function(){return R},xS:function(){return O},zm:function(){return D}});var r=n(35383),o=n(5377),i=n(45996),u=n(30418),a=n(44975),s=n(1573),l=n(75888),c=n(63273),d=n(49118),p=n(68214),f=(0,u.default)("div",{target:"e1usp5fl0",label:"7937d88b--DivBrowserModeContainer"})(function(e){return{position:"fixed",left:0,top:0,right:0,bottom:0,background:e.theme.colors.BGPrimary,zIndex:l.s.BrowserMode,display:"flex",flexDirection:"row"}}),m={left:"-80px",right:"-80px",width:"auto"},v={maxWidth:"419px"},h={maxWidth:"419px"},g=(0,u.default)(d.x,{target:"e1usp5fl2",label:"7937d88b--StyledVideoBlurBackground"})(function(e){var t=e.withBlurBG,n=e.withLinearGradientBG;return{position:"absolute",width:"10%",height:"10%",filter:void 0!==t&&t?"blur(2px)":"none",left:"50%",top:"50%",transform:"scale(11)",opacity:void 0!==n&&n?"0":"0.3"}}),y=(0,u.default)("div",{target:"e1usp5fl3",label:"7937d88b--DivVideoWrapper"})({position:"absolute",left:0,width:"100%",height:"100%",cursor:"pointer",":hover":(0,r._)({},"".concat(p.ht),{opacity:1}),":focus-within":(0,r._)({},"".concat(p.ht),{opacity:1})}),_=(0,u.default)(s.A,{target:"e1usp5fl4",label:"7937d88b--StyledPlayIcon"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"});_.defaultProps=(0,i._)((0,o._)({},_.defaultProps),{"data-e2e":"browse-video-play"});var b="1px solid blue",w=(0,u.default)("button",{target:"e1usp5fl5",label:"7937d88b--ButtonBasicButtonContainer"})(function(e){var t=e.theme.colors;return{position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",background:t.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:"2px solid ".concat(t.Negative)}}},function(e){var t=e.theme;return(0,c.oO)({theme:t,isUiOptimise:!0})}),x=(0,u.default)(w,{target:"e1usp5fl6",label:"7937d88b--StyledCloseIconContainer"})(function(e){var t=e.needOffset;return{width:"40px",height:"40px",top:"20px",transition:"opacity .3s",zIndex:100,backgroundColor:"",transform:"translateY(".concat(16*!!(void 0!==t&&t),"px)"),":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,start:"20px"})});x.defaultProps=(0,i._)((0,o._)({},x.defaultProps),{"data-e2e":"browse-close"});var S=(0,u.default)(w,{target:"e1usp5fl7",label:"7937d88b--StyledExitCreatorModeIconContainer"})(function(e){var t=e.theme,n=e.needOffset;return{top:"20px",zIndex:100,backgroundColor:t.colors.ConstBGInverse4,height:"40px",padding:"0 10px",minWidth:"40px",borderRadius:"80px",transform:"translateY(".concat(16*!!(void 0!==n&&n),"px)"),":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,start:"20px"})}),C=(0,u.default)("div",{target:"e1usp5fl8",label:"7937d88b--DivExitCreatorModeTextContainer"})({display:"flex",flexDirection:"row",alignItems:"center"}),L=(0,u.default)("div",{target:"e1usp5fl9",label:"7937d88b--DivExitCreatorModeText"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,fontWeight:"semiBold",fontFamily:"TikTokFont",fontSize:16}),{color:"#fff",height:"24px",textAlign:"center",fontSize:"16px",display:"flex",alignItems:"center",lineHeight:"24px"},(0,c.mp)({direction:t.direction,paddingStart:"5px"})]}),I=(0,u.default)(w,{target:"e1usp5fl10",label:"7937d88b--StyledVideoSwitch"})(function(e){var t=e.isPrev,n=e.theme.colors;return{width:"40px",height:"40px",transform:t?"rotate(-90deg)":"rotate(90deg)",top:t?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:e.isUiOptimise?"":n.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"20px"})}),k=(0,u.default)("div",{target:"e1usp5fl13",label:"7937d88b--DivReportText"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{padding:"10px 16px",backgroundColor:t.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:t.colors.ConstTextInverse,WebkitAppRegion:"no-drag",":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:b}},(0,c.oO)({theme:t,isUiOptimise:!0}),(0,c.mp)({direction:t.direction,end:"20px"})]});k.defaultProps=(0,i._)((0,o._)({},k.defaultProps),{"data-e2e":"browse-report"});var T=(0,u.default)("div",{target:"e1usp5fl14",label:"7937d88b--DivIconWrapper"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{width:"40px",height:"40px",backgroundColor:t.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:t.colors.ConstTextInverse,WebkitAppRegion:"no-drag","&:focus-visible":{outline:b}},(0,c.oO)({theme:t,isUiOptimise:!0}),(0,c.mp)({direction:t.direction,end:"20px"})]});T.defaultProps=(0,i._)((0,o._)({},T.defaultProps),{"data-e2e":"browse-ellipsis"});var M=(0,u.default)(a.A,{target:"e1usp5fl15",label:"7937d88b--StyledIconFlag"})(function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,marginEnd:"5px"})},{verticalAlign:"middle"}),P=(0,u.default)("button",{target:"e1usp5fl16",label:"7937d88b--ButtonVoiceControlNew"})(c.WA,function(e){return{display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.theme.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:b}}},function(e){var t=e.theme;return(0,c.oO)({theme:t,isUiOptimise:!0})});P.defaultProps=(0,i._)((0,o._)({},P.defaultProps),{"data-e2e":"browse-sound"});var E=(0,u.default)("div",{target:"e1usp5fl17",label:"7937d88b--DivVoiceControlContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",zIndex:1,bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"20px"})}),B=(0,u.default)("div",{target:"e1usp5fl18",label:"7937d88b--DivCaptionContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction,n=e.showMiniPlayer;return(0,c.mp)({direction:t,end:n?"116px":"68px"})}),O=(0,u.default)("div",{target:"e1usp5fl19",label:"7937d88b--DivMiniPlayerContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"68px"})}),R=(0,u.default)("div",{target:"e1usp5fl20",label:"7937d88b--DivSearchBarContainer"})(function(e){var t=e.useNarrowSearchBar,n=void 0!==t&&t;return[{position:"absolute",zIndex:1,width:"100%",display:"flex",justifyContent:"center",left:0,right:0,margin:"auto",alignItems:"center",height:"85px",WebkitAppRegion:"no-drag","@media(max-width: 1600px)":{width:n?"50%":"100%"},"@media(max-width: 1300px)":{display:n?"none":"flex"}}]}),A=(0,u.default)("div",{target:"e1usp5fl21",label:"7937d88b--DivVideoContainer"})(function(e){var t=e.theme.colors,n=e.withLinearGradientBlueBG,o=e.withLinearGradientBlackBG;return[{flex:"1 0 600px",maxWidth:"100%",background:void 0!==o&&o?"linear-gradient(180deg, #2b2b2b 0%, #000000 40%)":void 0!==n&&n?"linear-gradient(180deg, #101820 0%, #1c2b35 100%)":t.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px",":hover":(0,r._)({},"".concat(R,", ").concat(T,", ").concat(O,", ").concat(E,", ").concat(x,", ").concat(I),{opacity:1})}]}),D=(0,u.default)("div",{target:"e1usp5fl22",label:"7937d88b--DivWarnInfoPosition"})({position:"absolute",bottom:0,left:0,right:0}),F=(0,u.default)("div",{target:"e1usp5fl23",label:"7937d88b--FooterBtnWrapper"})(function(e){return{display:e.display||"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",textDecoration:"none"}}),V=(0,u.default)("a",{target:"e1usp5fl24",label:"7937d88b--AAnalyticsWrapper"})(function(e){var t=e.theme,n=t.colors,r=t.direction;return[{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:n.ConstTextInverse,background:n.ToastDefault,cursor:"pointer",textDecoration:"none",":hover":{opacity:.7,color:n.ConstTextInverse,textDecoration:"none"},":active":{opacity:.5,color:n.ConstTextInverse,textDecoration:"none"},":visited":{opacity:1,color:n.ConstTextInverse,textDecoration:"none"}},(0,c.mp)({direction:r,marginEnd:"8px"})]}),z=(0,u.default)("div",{target:"e1usp5fl25",label:"7937d88b--DivSearchBarBackground"})(function(e){var t=e.useNarrowSearchBar;return{position:"absolute",height:"85px",width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 100%)","@media(max-width: 1600px)":{width:void 0!==t&&t?"200%":"100%"}}}),N=(0,u.default)("div",{target:"e1usp5fl26",label:"7937d88b--DivVideoClosedCaptionContainer"})({position:"absolute",insetInlineStart:"10px",bottom:"10px",zIndex:"1"})},68214:function(e,t,n){n.d(t,{AK:function(){return s},Vi:function(){return l},Zx:function(){return v},gt:function(){return u},ht:function(){return f},l5:function(){return a},n9:function(){return c},p5:function(){return m}});var r=n(35383),o=n(30418),i=n(63273),u=(0,o.default)("div",{target:"e1v9pu8z0",label:"7937d88b--DivSeekBarContainer"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"}),a=(0,o.default)("div",{target:"e1v9pu8z1",label:"7937d88b--DivSeekBarTimeContainer"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"}),s=(0,o.default)("div",{target:"e1v9pu8z2",label:"7937d88b--DivSeekBarProgress"})(function(e){var t=e.theme.colors;return{height:"4px",width:"100%",backgroundColor:t.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer","&:focus-visible":{outline:"2px solid ".concat(t.Negative)}}}),l=(0,o.default)("div",{target:"e1v9pu8z3",label:"7937d88b--DivSeekBar"})(function(e){var t=e.theme,n=t.direction;return{height:"4px",width:"100%",backgroundColor:t.colors.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===n?"right":"left"}}),c=(0,o.default)("div",{target:"e1v9pu8z4",label:"7937d88b--DivSeekBarCircle"})(function(e){var t=e.theme.direction;return(0,i.mp)({direction:t})},function(e){var t=e.theme.direction;return{display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:"translate(".concat("rtl"===t?"50%":"-50%",", -50%)"),cursor:"pointer",zIndex:1}}),d="calc(100% - 160px)",p="translateX(-50%)",f=(0,o.default)("div",{target:"e1v9pu8z5",label:"7937d88b--DivVideoControlContainer"})(function(e){var t,n=e.show,o=e.extraBottomSpace,i=e.isDisplayForAnyWidth,u=e.isNarrow,a=e.useFullWideInNarrow;return t={width:void 0!==u&&u?"calc(100% - 250px)":d,height:"24px",paddingInline:"16px",position:"absolute",opacity:n?"1":"0",transition:"opacity .3s",bottom:o?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:p,maxWidth:"56.25vh"},(0,r._)(t,":hover ".concat(s),{height:"6px"}),(0,r._)(t,":hover ".concat(l),{height:"6px"}),(0,r._)(t,":hover ".concat(c),{display:"block"}),(0,r._)(t,"@media (max-width: 900px)",{display:i?"":"none"}),(0,r._)(t,"@media (max-width: 1430px)",void 0!==a&&a?{maxWidth:"unset",width:d,marginInlineStart:"4px",left:"unset",transform:"none"}:{}),(0,r._)(t,"zIndex",1),t}),m=(0,o.default)("div",{target:"e1v9pu8z6",label:"7937d88b--DivVideoControlBottom"})({width:d,height:"28px",position:"absolute",bottom:0,left:"50%",transform:p,cursor:"initial",maxWidth:"56.25vh"}),v=(0,o.default)("div",{target:"e1v9pu8z7",label:"7937d88b--DivVideoControlTop"})(function(e){return{width:d,height:"10px",position:"absolute",bottom:e.widerBottom?"92px":"52px",left:"50%",transform:p,cursor:"initial",maxWidth:"56.25vh"}})},97734:function(e,t,n){n.d(t,{C:function(){return N}});var r=n(48748),o=n(95170),i=n(7120),u=n(5377),a=n(45996),s=n(6586),l=n(79262),c=n(23999),d=n(95719),p=n(62564),f=n(76773),m=n(31014),v=n(24451),h=n(72916),g=n(68710),y=n(74690),_=n(80339),b=n(90432),w=n(38794),x=n(58034),S=n(71952),C=n(85443),L=n(78990),I=n(82379),k=n(95092),T=n(97546),M=n(20458),P=n(26273),E=n(69517),B=n(30401),O=n(97623),R=n(54149),A=n(10987);function D(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var F=function(){function e(t){(0,o._)(this,e),this.fetch=t}var t=e.prototype;return t.getSugList=function(e){var t=(0,a._)((0,u._)({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:R.Z4.FixedWww})},t.getGeneralSugList=function(e){var t=(0,a._)((0,u._)({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:R.Z4.FixedWww})},t.getMobileGeneralSugList=function(e){var t=(0,a._)((0,u._)({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:R.Z4.FixedWww})},e}();function V(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function z(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}F=function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}([(0,O._q)(),D("design:type",Function),D("design:paramtypes",[void 0===A.p?Object:A.p])],F);var N=function(e){function t(e,n,i,u,a,s){var l;return(0,o._)(this,t),(l=(0,r._)(this,t)).service=e,l.home=n,l.biz=i,l.videoPlayerJotai=u,l.search=a,l.personalization=s,l.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""},l}(0,i._)(t,e);var n=t.prototype;return n.setVideoPageType=function(e,t){e.videoPageType=t},n.setSearchValue=function(e,t){e.searchValue=t},n.setPreviousSearchValue=function(e,t){e.previousSearchValue=t},n.setInputFocus=function(e,t){e.inputFocus=t},n.handleInputFocusChange=function(e){return e.pipe((0,d.M)(function(e){e&&w.$G.handleSearchEntry({enter_method:"enter"})}),(0,p.T)(this.getActions().setInputFocus))},n.setNewSugSessionTimeStamp=function(e,t){e.newSugSessionTimeStamp=t},n.setList=function(e,t){e.sugList=t},n.setMobileList=function(e,t){e.mobileSugList=t},n.setLoading=function(e,t){e.loading=t},n.setActiveIndex=function(e,t){e.activeIndex=t},n.setActiveUp=function(e){e.activeIndex=Math.max(0,e.activeIndex-1)},n.setActiveDown=function(e){var t=e.sugList,n=e.activeIndex;e.activeIndex=Math.min(t.length,n+1)},n.setQueryId=function(e,t){e.queryId=t},n.getSugList=function(e){var t=this;return e.pipe((0,f.w)("keyword"),(0,m.B)(500),(0,v.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,p.T)(function(e){var t=(0,s._)(e,7),n=t[0],r=t[1],o=t[2].appContext,i=t[3].bizContext,u=t[4].currentVideo,a=t[5].searchGlobalParams,l=t[6].isSearchPersonalized;return{payload:n,inputFocus:r.inputFocus,isLogin:!!(null==o?void 0:o.user),searchVideoForLoggedin:null==i?void 0:i.searchVideoForLoggedin,currentVideo:u,rootEnterFrom:null==a?void 0:a.rootEnterFrom,nonPersonalized:l?void 0:1}}),(0,h.n)(function(e){var n=e.payload,r=e.inputFocus,o=e.isLogin,i=e.searchVideoForLoggedin,s=e.currentVideo,l=e.rootEnterFrom,f=e.nonPersonalized;return n.keyword?(o||!i?t.service.getGeneralSugList({keyword:n.keyword,app_language:n.app_language,is_non_personalized_search:f}):t.service.getSugList((0,a._)((0,u._)({},n),{is_non_personalized_search:f}))).pipe((0,p.T)(function(e){var t=e.status_code,n=e.sug_list,r=void 0===n?[]:n,o=e.log_pb,i=[];return t===S.s.Ok&&r.length&&(i=r.map(function(e){var t;return(0,a._)((0,u._)({},e),{impr_id:null!=(t=null==o?void 0:o.impr_id)?t:""})})),(0,a._)((0,u._)({},e),{sug_list:i})}),(0,d.M)(function(e){var o=e.sug_list,i=e.words_query_record,a=e.log_pb;if(r){var c,d,p=t.state.videoPageType===x.Tk.BrowserMode,f={impr_id:null!=(c=null==a?void 0:a.impr_id)?c:"",enter_from:l,raw_query:n.keyword,search_position:p?x.Tk.VideoDetail:b.f.commonParams.page_name,video_page_type:t.state.videoPageType,enter_group_id:null!=(d=null==s?void 0:s.id)?d:""};w.$G.handleSugGroupImpression((0,u._)({words_source:"sug",words_num:String(o.length)},f)),o.forEach(function(e,t){var n;w.$G.handleSugImpression((0,u._)({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?w.k0.EnrichSug:w.k0.NormalSug,query_id:null!=(n=null==i?void 0:i.query_id)?n:"",group_id:e.word_record.group_id},f))})}}),(0,g.Z)(function(e){var n;return(0,c.of)(t.getActions().setList(e.sug_list),t.getActions().setQueryId(null==e||null==(n=e.words_query_record)?void 0:n.query_id))}),(0,y.Z)(t.getActions().setLoading(!0),t.getActions().setActiveIndex(-1)),(0,_.q)(t.getActions().setLoading(!1))):(0,c.of)(t.getActions().setList([]))}))},n.getMobileSugList=function(e){var t=this;return e.pipe((0,m.B)(500),(0,v.E)(this.state$,this.personalization.state$),(0,h.n)(function(e){var n=(0,s._)(e,3),r=n[0],o=r.keyword,i=r.app_language,l=n[1].newSugSessionTimeStamp,f=n[2].isSearchPersonalized;return o?t.service.getMobileGeneralSugList({keyword:o,app_language:i,is_non_personalized_search:f?void 0:1}).pipe((0,p.T)(function(e){var t=e.status_code,n=e.sug_list,r=void 0===n?[]:n,o=e.log_pb,i=[];return t===S.s.Ok&&r.length&&(i=r.map(function(e){var t;return(0,a._)((0,u._)({},e),{impr_id:null!=(t=null==o?void 0:o.impr_id)?t:""})})),(0,a._)((0,u._)({},e),{sug_list:i})}),(0,d.M)(function(e){var t=e.sug_list,n=e.words_query_record,r=e.log_pb,i=e.extra;w.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:o,search_position:b.f.commonParams.previous_page}),t.forEach(function(e,t){var u,a;w.$G.handleSugImpression({impr_id:null!=(u=null==r?void 0:r.impr_id)?u:"",words_source:"sug",words_position:t,words_content:e.content,raw_query:o,sug_type:e.extra_info.sug_user_id?w.k0.EnrichSug:w.k0.NormalSug,query_id:null!=(a=null==n?void 0:n.query_id)?a:"",group_id:e.word_record.group_id,search_position:b.f.commonParams.previous_page,new_sug_session_id:String(null!=l?l:null==i?void 0:i.now)})})}),(0,g.Z)(function(e){var n;return(0,c.of)(t.getActions().setMobileList(e.sug_list),t.getActions().setNewSugSessionTimeStamp(String(null!=l?l:null==(n=e.extra)?void 0:n.now)))}),(0,T.n)({})):(0,c.of)(t.getActions().setMobileList([]),t.getActions().setNewSugSessionTimeStamp(void 0))}))},t}(L.E);V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setVideoPageType",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setSearchValue",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setPreviousSearchValue",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Boolean]),z("design:returntype",void 0)],N.prototype,"setInputFocus",null),V([(0,I.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"handleInputFocusChange",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Object]),z("design:returntype",void 0)],N.prototype,"setNewSugSessionTimeStamp",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Array]),z("design:returntype",void 0)],N.prototype,"setList",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Array]),z("design:returntype",void 0)],N.prototype,"setMobileList",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Boolean]),z("design:returntype",void 0)],N.prototype,"setLoading",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Number]),z("design:returntype",void 0)],N.prototype,"setActiveIndex",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState]),z("design:returntype",void 0)],N.prototype,"setActiveUp",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState]),z("design:returntype",void 0)],N.prototype,"setActiveDown",null),V([(0,I.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Object]),z("design:returntype",void 0)],N.prototype,"setQueryId",null),V([(0,I.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"getSugList",null),V([(0,I.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"getMobileSugList",null),N=V([(0,k.nV)("Sug"),z("design:type",Function),z("design:paramtypes",[void 0===F?Object:F,void 0===M.L?Object:M.L,void 0===C.$?Object:C.$,void 0===B.Q?Object:B.Q,void 0===E.tq?Object:E.tq,void 0===P.f?Object:P.f])],N)},47216:function(e,t,n){n.d(t,{d:function(){return o}});var r=n(90432),o={handleClickAnalyticsButton:function(){r.f.sendEvent("click_insight",{enter_method:"dropdown_button"})},handleClickAnalyticsVideoCover:function(e){r.f.sendEvent("video_play",{enter_from:"insight_page",widget_name:"video_detail",sub_widget:"null",enter_method:"video_card"}),r.f.sendEvent("click_insight",{enter_method:"invideo_button"}),r.f.sendEvent("enter_insight_detail",{widget_name:"video_detail",sub_widget:null,enter_method:"invideo_button",group_id:e})},handleProfileHoveShow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.f.sendEvent("livesdk_web_profile_hover_show",{is_ls_show:+!!e})}}}}]);