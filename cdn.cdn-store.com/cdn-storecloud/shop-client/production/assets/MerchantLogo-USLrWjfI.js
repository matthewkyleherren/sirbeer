import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as w}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{i as C}from"./ImageUtils-D5ojfjzT.js";import{I as j}from"./Image-Cc02ywVl.js";import{c as n}from"./cn-yu2yf51J.js";import{T as S}from"./Text-BrMatKQv.js";import{S as I}from"./colors-D0moR5HW.js";import{u as x}from"./useTranslation-DjeLP5O7.js";const L=e=>e.map(t=>t.slice(0,1)).join(""),y=e=>{if(!e)return"";const a=e.split(" ").map(i=>i.replace(/[^\p{L}]/gu,"")).filter(i=>i.length>0);if(a.length>0&&a[0].toLowerCase()==="the"&&a.shift(),a.length===0)return"";const r=a.length===2?2:1;return L(a.slice(0,r))},O={xs:{dimension:24,dimensionClassName:"w-space-24 h-space-24"},s:{dimension:32,dimensionClassName:"w-space-32 h-space-32"},m:{dimension:44,dimensionClassName:"w-[44px] h-[44px]"},"m-l":{dimension:51,dimensionClassName:"w-[51px] h-[51px]"},l:{dimension:56,dimensionClassName:"w-[56px] h-[56px]"},xl:{dimension:72,dimensionClassName:"w-[72px] h-[72px]"},xxl:{dimension:81,dimensionClassName:"w-[81px] h-[81px]"},auto:{dimension:void 0,dimensionClassName:"w-full aspect-square"}};function E({children:e,hasIncentive:t,autosized:a}){const{t:r}=x();return t?s.jsx("div",{"data-testid":"incentive-halo",className:n(a?"w-full":"-my-space-4","overflow-hidden rounded-radius-max p-space-2"),"aria-label":r("ShopCash.ExclusiveOffers.OfferAvailable"),children:s.jsx("div",{className:"rounded-radius-max p-space-2",style:{boxShadow:I.gradientBoxShadow},children:e})}):e}const A=({src:e,alt:t="",size:a="m",className:r,shopName:i,loading:p,ariaLabel:o,placeholderClassName:u})=>{const{t:m}=x(),[g,b]=w.useState(!1),{dimension:c,dimensionClassName:v}=O[a];let h=e;if(e&&C(e)){const l=new URL(e);!l.searchParams.has("width")&&c!==void 0&&l.searchParams.append("width",(c*2).toString()),h=l.toString()}const d=n(v,r,"after:pointer-events-none after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-border-image","rounded-radius-max"),f=!e||g,N=()=>{b(!0)};return p&&f?s.jsx("div",{"data-testid":"loading",className:n("flex animate-pulse items-center justify-center bg-bg-fill-placeholder",d,"border border-border-image after:hidden"),"aria-label":o||m("MerchantCard.StoreLogoAriaLabel")}):!e||f?s.jsx("div",{"data-testid":"fallback",className:n("relative flex items-center justify-center bg-bg-overlay-fixed-dark-40",d,u),"aria-label":o||m("MerchantCard.StoreLogoAriaLabel"),children:s.jsx(S,{variant:"bodyTitleLarge",as:"h2",className:"text-text-fixed-light",children:y(i)})}):s.jsxs("div",{className:n("relative flex items-center overflow-hidden",d),"data-testid":"merchant-logo-container",children:[s.jsx(j,{"data-testid":"merchant-logo",onError:N,alt:t,src:h,className:"object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-bg-overlay-inverse-04","aria-label":o})]})},F=e=>s.jsx(E,{hasIncentive:e.hasIncentive??!1,autosized:e.size==="auto",children:s.jsx(A,{...e})});export{F as M};
//# sourceMappingURL=MerchantLogo-USLrWjfI.js.map
