import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{R as T}from"./index-sfFT87ua.js";import{t as L,c as d}from"./cn-yu2yf51J.js";import{I as g}from"./IconButton-D2NlWcx2.js";import{T as W}from"./Text-BrMatKQv.js";import{u as C}from"./StoreThemeProvider-jgugnGur.js";import{u as D}from"./useTranslation-DjeLP5O7.js";const q=({isOpen:e,onClose:r,children:b,dock:o="right",title:p,transparentBackground:v=!0,showThemeBackground:w=!1,closeButtonVariant:h="outlined",showBackButton:y=!1,onBackButtonClick:c,sheetHeaderContent:j})=>{const{t:f}=D(),l=i.useRef(null),{backgroundColor:u}=C();let m=L.colors["bg-fill"];return w&&u?m=u:v&&(m="rgba(255,255,255,0.90)"),i.useEffect(()=>{const a=s=>{s.key==="Escape"&&e&&r()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,r]),i.useEffect(()=>{if(e&&l.current&&(l.current.scrollTop=0),e){const a=window.scrollY,s=window.innerWidth-document.documentElement.clientWidth;return document.body.style.position="fixed",document.body.style.top=`-${a}px`,document.body.style.width="100%",s>0&&(document.body.style.paddingRight=`${s}px`),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.paddingRight="",window.scrollTo(0,a)}}},[e]),i.useEffect(()=>{const a=l.current;if(!a)return;const s=n=>{const{scrollTop:x,scrollHeight:E,clientHeight:N}=a,k=n.deltaY>0,z=n.deltaY<0,R=x===0,S=Math.abs(E-N-x)<1;if(R&&z||S&&k){n.preventDefault();return}n.stopPropagation()};return a.addEventListener("wheel",s,{passive:!1}),()=>a.removeEventListener("wheel",s)},[]),t.jsxs(T,{children:[e&&t.jsx("div",{"data-testid":"side-sheet-overlay-gradient",className:"pointer-events-auto fixed inset-0 z-50",style:{background:"linear-gradient(90deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.36) 69.75%)"}}),t.jsx("div",{className:d("bg-black/50 fixed inset-0 z-50 transition-opacity duration-300 ease-out",e?"opacity-100":"pointer-events-none opacity-0"),onClick:r,"aria-hidden":"true","data-testid":"side-sheet-overlay"}),t.jsx("div",{className:d("p-l-space-8 pointer-events-none fixed inset-0 z-50 h-[calc(100vh-16px)] overflow-hidden md:mr-space-2 md:rounded-[48px] ",o==="right"&&"right-0",o==="left"&&"left-0 lg:left-[4.8rem] lg:w-[calc(100vw-4.8rem)]"),"data-testid":"side-sheet-container",children:t.jsx("div",{className:d("absolute z-40 flex w-screen max-w-[508px] items-start justify-center transition-transform duration-300 ease-out md:w-[508px] md:p-space-8 lg:h-full",e&&"pointer-events-auto",o==="right"&&"right-0",o==="right"&&!e&&"translate-x-full",o==="left"&&"left-0",o==="left"&&!e&&"-translate-x-full"),role:"dialog","aria-modal":"true","aria-hidden":!e,style:{overscrollBehavior:"contain"},"data-testid":"side-sheet-dialog",children:t.jsxs("div",{className:d("mt-space-0 h-[calc(100vh-40px)] w-screen max-w-[500px] overflow-hidden p-space-24 backdrop-blur-[9px] md:h-[calc(100vh-86px)] md:w-[500px] md:rounded-[24px] lg:mr-space-8 lg:mt-space-8 lg:h-[calc(100vh-32px)]",e?"shadow-m":"shadow-none"),style:{backgroundColor:m},children:[t.jsxs("div",{className:"absolute top-space-24 z-10 flex w-[calc(100%-48px)] justify-between",children:[y?t.jsx(g,{name:"arrow-left",onClick:()=>c==null?void 0:c(),className:"shadow-md",ariaLabel:f("Dialog.Close"),"data-testid":"side-sheet-close-button",size:"l",variant:h}):t.jsx(g,{name:"cross",onClick:r,className:"shadow-md",ariaLabel:f("Dialog.Close"),"data-testid":"side-sheet-close-button",size:"l",variant:h}),j]}),t.jsxs("div",{ref:l,className:"-mx-space-20 flex h-full flex-col overflow-y-auto overscroll-contain px-space-20 py-space-40 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",style:{maskImage:"linear-gradient(to bottom, transparent 0%, black 80px, black calc(100% - 80px), transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, transparent 0%, black 80px, black calc(100% - 80px), transparent 100%)"},children:[p&&t.jsx(W,{variant:"heroBold",as:"h2",className:"mb-space-16 mt-space-20",children:p}),t.jsx("div",{className:"flex flex-1 flex-col",children:b})]})]})})})]})};export{q as S};
//# sourceMappingURL=SideSheet-BksUlFJx.js.map
