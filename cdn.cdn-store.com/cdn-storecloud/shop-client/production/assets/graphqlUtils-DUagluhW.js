import{i as e}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{P as u,v as p}from"./statsdClient-CCQ7Es9D.js";import{g as h}from"./index-BYdSehkX.js";function U(){return`${f()}/pay/authentication/web_sign_up/create_guest_user`}function f(){return"https://shop.app"}function y(){return u}function P(t){return t?`https://server.shop.app/agents/internal/conversations/${t}`:"https://server.shop.app/agents/internal/conversations"}function R(){const t=h();return t.APP_ENV==="development"&&t.WEB_SERVER==="production"||t.APP_ENV==="production"||t.APP_ENV==="staging","https://server.shop.app"}function X(t){try{const s=new URL(t).hostname;return s.startsWith("www.")?s.substring(4):s}catch{return null}}const E="ShopWeb desktop",v="ShopWeb mobile",l=/\bShop App\/(?<app_version>[-+A-Za-z0-9.]+)\/(?<platform>[A-Za-z_]+)\/(?<platform_version>[0-9.]+)\/WebView/;e("web_oauth_state");e("web_oauth_verifier");e("web_last_path");e("shop_web_access_token");e("user");e("user_cross_site");function c(t){return t&&t.toLowerCase().includes("mobi")?v:E}function C(t){const s=t==null?void 0:t.match(l);if(s!=null&&s.groups){const{app_version:o,platform:n,platform_version:r}=s.groups;return`Shop/${o} ${n}/${r}`}return c(t)}const b=["Content-Type","User-Agent","Sec-GPC","X-Request-Id","MedusaJS-vpn","MedusaJS-authorization","Shop-Traffic-Group","X-Device-Id","X-Device-Id-Hw"],m={_MedusaJS_y:p(),_MedusaJS_s:p(),_fbp:""},D=({cookies:t,headers:s})=>{const{_MedusaJS_y:o,_MedusaJS_s:n,_fbp:r}={...m,...t},i={"X-User-Agent":c(s==null?void 0:s.get("User-Agent")),"X-Device-Id":`shopweb--${p()}`,"X-Device-Id-Hw":o,"Session-Id":n,"X-Facebook-Fbp":r};return s&&b.forEach(a=>{const _=s.get(a);_&&(i[a]=_)}),i};export{l as W,X as a,P as b,R as c,C as d,U as g,y as p,D as s};
//# sourceMappingURL=graphqlUtils-DUagluhW.js.map
