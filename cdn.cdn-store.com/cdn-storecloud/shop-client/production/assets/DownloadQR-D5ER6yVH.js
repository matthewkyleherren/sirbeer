import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{I as b}from"./Image-Cc02ywVl.js";import{a as w}from"./useMonorail-J6WwGwSW.js";import{c as q}from"./cn-yu2yf51J.js";import{B as R}from"./useDownloadLinks-U5gSKTxt.js";function S({path:r,backgroundColor:n,foregroundColor:e,size:p=200,utmCampaign:t,utmContent:s,utmMedium:o,utmSource:i,sessionToken:d,deeplinkPath:c,linkAlias:m,MedusaJSBuyerToken:h,deferred:u=!0,linkProvider:l}){const a=new URL(`https://shop.app/qr${r}`);return a.searchParams.append("qr_bg_color",n??"black"),a.searchParams.append("qr_brand_color",e??"white"),a.searchParams.append("qr_color",e??"white"),t&&a.searchParams.append("utm_campaign",t),s&&a.searchParams.append("utm_content",s),o&&a.searchParams.append("utm_medium",o),i&&a.searchParams.append("utm_source",i),d&&a.searchParams.append("sid",d),c&&a.searchParams.append("$deeplink_path",c),m&&a.searchParams.append("$link_alias",m),h&&a.searchParams.append(R,h),a.searchParams.append("qr_size",p.toString()),a.searchParams.append("qr_branding","shoplogo"),u&&a.searchParams.append("qr_deferred","true"),l&&a.searchParams.append("link_provider",l),a.toString()}const x=120,E=new Map([["black","bg-bg-fill-inverse"],["white","bg-bg-fill"],["transparent","bg-transparent"]]);function A({size:r,className:n,backgroundColor:e="black",...p}){const{url:t,qrSize:s}=j({...p,size:r,backgroundColor:e});return f.jsx("div",{"data-testid":"download-qr-code",className:q("flex items-center justify-center",r>=x?"rounded-radius-20":"rounded-radius-8",E.get(e),n),style:{width:r,height:r},children:f.jsx(b,{"data-testid":"qr-image",src:t,width:s,height:s})})}const j=({path:r,size:n,qrSize:e,devicePixelRatioMultiplier:p=1,backgroundColor:t="black",foregroundColor:s,utmCampaign:o,utmContent:i,utmMedium:d,utmSource:c,deeplinkPath:m,linkAlias:h,MedusaJSBuyerToken:u,deferred:l,linkProvider:a})=>{const{sessionToken:g}=w(),_=e??Math.round(n*.9),P=Math.round(_*p);return{url:S({path:r??"/u/download",size:P,backgroundColor:t,foregroundColor:s,utmCampaign:o,utmContent:i,utmMedium:d,utmSource:c??"shop-website",sessionToken:g,deeplinkPath:m,linkAlias:h,MedusaJSBuyerToken:u,deferred:l,linkProvider:a}),qrSize:_}};export{A as D};
//# sourceMappingURL=DownloadQR-D5ER6yVH.js.map
