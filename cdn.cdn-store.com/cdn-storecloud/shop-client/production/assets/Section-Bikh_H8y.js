import{j as g}from"./jsx-runtime-D_zvdyIk.js";import{r as V,k as Er,g as dv}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{p as hv,m as pv,F as It,C as ge,n as et,e as ns,L as Va,o as gv}from"./FeedCard-TpcvKHB_.js";import{T as vv}from"./TrackingPixel-D8humLZO.js";import{b as gn}from"./getAdMetadata-crX2O_21.js";import{c as $,D as mv}from"./cn-yu2yf51J.js";import{C as Tt,u as ts}from"./Toast-Bb3RYazJ.js";import{I as uu}from"./IconButton-D2NlWcx2.js";import{T as Pe}from"./Text-BrMatKQv.js";import{B as yt,i as _v,D as xv,E as wv,F as Sv,G as Cv,I as Rv,J as Av,r as bv,S as Iv,K as Ev,L as Tv,M as yv,c as rs,g as Nv,N as Lv,O as Ov,P as Fv,s as is,Q as Bv,R as Mv,T as Pv,U as Dv,V as kv,o as us,e as Wv,m as Uv}from"./toFeedSection-HH8g53oo.js";import{a as su,d as Gv,u as Nt}from"./ConversationProvider-BNoOA22x.js";import{B as Mr}from"./Button-D4K8aSAG.js";import{u as Hv}from"./useActions-CMwTuc_r.js";import{a as Vv,d as $v,f as zv}from"./ShelfSectionFragment-junY_xzu.js";import{d as os,u as Kv,U as qv}from"./AuthenticationProvider-9RtBMSxF.js";import{L as jv}from"./Link-CnJfyO2i.js";import{i as as}from"./ColorUtils-CiNsKf89.js";import{d as oe}from"./FilterUtils-8PUBFIQ_.js";import{I as Xv}from"./ImageUtils-D5ojfjzT.js";import{A as Yv}from"./ArrowRightCircle-BhueLMUP.js";import{M as Zv}from"./MerchantLogo-USLrWjfI.js";import{R as Jv}from"./index-DxO_0hRA.js";import{R as Qv,T as em,P as nm,C as tm}from"./index-BCHzanGi.js";import{I as Qn,E as ss}from"./types-aSuMwFxz.js";import{u as rm,U as iu,B as im,b as um,g as om,S as am}from"./getShopCashIncentiveAnnouncementInfo-Bb7kO7T4.js";import{C as sm}from"./index-sfFT87ua.js";import{I as Et}from"./Icon-Vc_yr2r6.js";import{C as lm,D as fm}from"./Dialog-C_RA0MsZ.js";import{i as ue}from"./i18nConfig-CLr-UH7w.js";import{u as ls,b as cm,z as Tr}from"./useMonorail-J6WwGwSW.js";import{f as dm}from"./statsdClient-CCQ7Es9D.js";import{u as hm}from"./useMutation-BEBlGsA2.js";import{u as pm,F as $a,S as gm}from"./StoreFollowButton-CGWxuR_B.js";import{d as fs}from"./deviceUtils-BLIhItqY.js";import{n as vm}from"./ratingsUtils-C4036l3G.js";import{f as cs}from"./formatCompactNumber-C_JtNFLO.js";import{R as mm}from"./StoreThemeProvider-jgugnGur.js";import{u as _m}from"./useDeviceInfo-BQxbyz0y.js";import{V as xm}from"./VideoPlayer-DtkZx-4u.js";import{I as wm}from"./Image-Cc02ywVl.js";import{f as Sm,g as Cm}from"./MoneyUtils-CzooDnh_.js";import{b as Rm}from"./useTriggerLogInWithShop-D9VKR_6P.js";import{P as Am}from"./PartialTheme-BQZfH2w3.js";import{u as bm}from"./use-hydrated-Cnw4OuED.js";var ds=(s=>(s.PILL="PILL",s))(ds||{}),pn=(s=>(s.ANIMATED_BACKGROUND="ANIMATED_BACKGROUND",s.BG_COLOR="BG_COLOR",s.BLURRED_MEDIA="BLURRED_MEDIA",s.CENTER="CENTER",s.COLLAPSIBLE="COLLAPSIBLE",s.DIVIDER_LINE="DIVIDER_LINE",s.ELEVATED="ELEVATED",s.EXPANDABLE="EXPANDABLE",s.IMAGE="IMAGE",s.INTRO_ANIMATION="INTRO_ANIMATION",s.REVIEWS="REVIEWS",s.SCREEN_SIZE_FULL="SCREEN_SIZE_FULL",s.SCREEN_SIZE_HALF="SCREEN_SIZE_HALF",s.VIDEO="VIDEO",s.WORDMARK="WORDMARK",s))(pn||{}),hs=(s=>(s.CAROUSEL="CAROUSEL",s.HIGHLIGHT_FIRST_CARD="HIGHLIGHT_FIRST_CARD",s.INTRO_ANIMATION="INTRO_ANIMATION",s.SNAP_SCROLL="SNAP_SCROLL",s))(hs||{}),Nr=(s=>(s.ARROW_RIGHT="ARROW_RIGHT",s.CHECKMARK="CHECKMARK",s.PLUS_SIGN="PLUS_SIGN",s))(Nr||{}),bt=(s=>(s.CENTER="CENTER",s.END="END",s.START="START",s))(bt||{});function Im(s,h){return{"--consistent-card-text-height":`${Math.max(...s.map(v=>Em(v,h)))}px`}}function Em(s,h){switch(s.__typename){case"ProductCard":{const{showProductName:u,showPrice:v,showShopName:S,showReviews:R}=hv(s.displayHints.options,pv(h));return ym([[u,2],[S,2],[v,1],[R,1]])}case"ProductVariantCard":case"MerchantCard":case"ProductFocusedMerchantCard":case"ActionCard":case"ViewAllCard":case"ShopCashBalanceContentNode":case"ShoppingEventCard":case"ProductDetailsCard":default:return 0}}const Tm=19;function ym(s){return s.map(([u,v])=>u?v:0).reduceRight((u,v)=>u+v,0)*Tm}const za=2;function Nm({itemsPerRow:s,cssVariables:h}){const u=s+za,v=`${za/u*100}%`,S=`(${s/u} * ${h["--consistent-card-text-height"]})`;return`calc(${v} + ${S})`}function Lm(s,h){var u;return((u=s.displayHints)==null?void 0:u.options.includes(h))??!1}const Ka={1:"w-full",2:"w-full lg:w-1/2",3:"w-full md:w-1/2 lg:w-1/3",4:"w-1/2 md:w-1/3 lg:w-1/4",5:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5",6:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6"},ps=2;function Om(s){return Ka[s]||Ka[ps]}const Lr="px-space-4 md:px-space-8",Or="-mx-space-4 md:-mx-space-8 gap-y-space-8 md:gap-y-space-16",Fm={[ge.XS]:"-mx-space-4 gap-y-space-8",[ge.XXS]:"-mx-space-4 gap-y-space-8",[ge.S]:Or,[ge.M]:Or,[ge.L]:Or,[ge.XL]:"-mx-space-8 md:-mx-space-12 gap-y-space-16"},Bm={[ge.XS]:"px-space-4",[ge.XXS]:"px-space-4",[ge.S]:Lr,[ge.M]:Lr,[ge.L]:Lr,[ge.XL]:"px-space-8 md:px-space-12"};function Mm({section:s}){var P,H,K,le,Y;const{sectionGlobalStartIndex:h=0}=gn();if(!((H=(P=s.items)==null?void 0:P.nodes)!=null&&H.length))return null;const u=s.itemsPerRow||ps,v=Lm(s,pn.CENTER),S=s.metadata.itemSize,R=(le=(K=s.displayHints)==null?void 0:K.contentHints)==null?void 0:le.options.includes(hs.HIGHLIGHT_FIRST_CARD),I=s.items.nodes.slice(R?1:0),C=Im(I,S),y=Fm[S]||Or,E=R?"-mx-space-4 md:-mx-space-8 content-between gap-y-space-8 md:gap-y-space-8":y;return g.jsxs("div",{"data-testid":"ListSection",className:$("w-full",{"flex flex-col lg:flex-row lg:gap-x-space-16":R}),style:R?C:void 0,children:[R?g.jsx("div",{"data-testid":"FeedCard-Highlighted",style:{minWidth:Nm({itemsPerRow:u,cssVariables:C})},children:g.jsx(It,{index:h,item:(Y=s.items)==null?void 0:Y.nodes[0],size:S})}):null,g.jsx("div",{"data-testid":"ListSection-items",className:$("flex flex-wrap",E,v&&"justify-center",null),children:I.map((fe,X)=>g.jsx("div",{"data-testid":"FeedCard",className:$(Bm[S]||Lr,R?`w-1/2 sm:w-1/${u}`:Om(u)),children:g.jsx(It,{index:h+X,item:fe,size:S})},`list-section-item-${R?X+1:X}`))})]})}function Pm({footer:s}){const{title:h,subtitle:u,primaryAction:v}=s,S=et(),R=su(),{trackingValues:{subject:I}}=gn(),C=V.useCallback(()=>{R&&(v!=null&&v.url.includes("/m/")||v!=null&&v.url.includes("shopapp://store/"))&&R.navigateToShop({url:v.url,shopId:I&&yt(I)?I.shop.id:void 0}),S.sectionFooterPressed()},[R,v==null?void 0:v.url,S,I]);return h?g.jsxs("div",{"data-testid":"section_general_footer",className:"flex w-full flex-col gap-space-8 pt-space-20",children:[u?g.jsx(Pe,{variant:"bodySmall",className:"text-text-tertiary","data-testid":"section-general-footer-subtitle",children:u}):null,g.jsx(Tt,{to:R||v==null?void 0:v.url,testId:"section-general-footer-link",children:g.jsxs("div",{className:"flex items-center justify-between gap-space-12",onClick:C,children:[g.jsx(Pe,{variant:"headerBold",className:"flex-1 truncate text-text","data-testid":"section-general-footer-title",children:h}),g.jsx(uu,{variant:"blurred",size:"m",ariaLabel:(v==null?void 0:v.label)??"",name:"arrow-right",onClick:C})]})})]}):null}var tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FeedSection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sectionGid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FeedSectionGID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"maxSubsections"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemsAfter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedSection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sectionGid"},value:{kind:"Variable",name:{kind:"Name",value:"sectionGid"}}},{kind:"Argument",name:{kind:"Name",value:"maxSubsections"},value:{kind:"Variable",name:{kind:"Name",value:"maxSubsections"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ListSection"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ShelfSection"},directives:[]}]}}]}}],loc:{start:0,end:351}};tn.loc.source={body:`#import "./ListSectionFragment.graphql"
#import "./ShelfSectionFragment.graphql"
#import "./SectionMetadataFragment.graphql"

query FeedSection(
  $sectionGid: FeedSectionGID!
  $maxSubsections: Int
  $itemsAfter: String
) {
  feedSection(sectionGid: $sectionGid, maxSubsections: $maxSubsections) {
    id
    ...ListSection
    ...ShelfSection
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var qa={};function lu(s){return s.filter(function(h){if(h.kind!=="FragmentDefinition")return!0;var u=h.name.value;return qa[u]?!1:(qa[u]=!0,!0)})}tn.definitions=tn.definitions.concat(lu(Vv.definitions));tn.definitions=tn.definitions.concat(lu($v.definitions));tn.definitions=tn.definitions.concat(lu(zv.definitions));function Fr(s,h){if(s.kind==="FragmentSpread")h.add(s.name.value);else if(s.kind==="VariableDefinition"){var u=s.type;u.kind==="NamedType"&&h.add(u.name.value)}s.selectionSet&&s.selectionSet.selections.forEach(function(v){Fr(v,h)}),s.variableDefinitions&&s.variableDefinitions.forEach(function(v){Fr(v,h)}),s.definitions&&s.definitions.forEach(function(v){Fr(v,h)})}var ou={};(function(){tn.definitions.forEach(function(h){if(h.name){var u=new Set;Fr(h,u),ou[h.name.value]=u}})})();function ja(s,h){for(var u=0;u<s.definitions.length;u++){var v=s.definitions[u];if(v.name&&v.name.value==h)return v}}function Dm(s,h){var u={kind:s.kind,definitions:[ja(s,h)]};s.hasOwnProperty("loc")&&(u.loc=s.loc);var v=ou[h]||new Set,S=new Set,R=new Set;for(v.forEach(function(C){R.add(C)});R.size>0;){var I=R;R=new Set,I.forEach(function(C){if(!S.has(C)){S.add(C);var y=ou[C]||new Set;y.forEach(function(E){R.add(E)})}})}return S.forEach(function(C){var y=ja(s,C);y&&u.definitions.push(y)}),u}Dm(tn,"FeedSection");function km({sectionId:s}){const h=os(),[u]=Gv(tn),{send:v}=Hv(()=>({async fetchMoreItems({endCursor:S}){var y;const{data:R,error:I}=await u({variables:{sectionGid:s,maxSubsections:1,itemsAfter:S||null},fetchPolicy:"network-only"});if(I||!((y=R==null?void 0:R.feedSection)!=null&&y[0]))return;const C=R.feedSection[0];!_v(C)||xv(C)||h.cache.modify({id:h.cache.identify({__typename:C.__typename,id:C.id}),fields:{items:E=>E&&(S?{...E,pageInfo:C.items.pageInfo,nodes:[...E.nodes||[],...C.items.nodes]}:C.items)}})}}));return v}function Wm({footer:s}){const{trackingValues:{sectionId:h,pageInfo:u}}=gn(),v=et(),{fetchMoreItems:S}=km({sectionId:h}),[R,I]=V.useState(!1),C=V.useCallback(()=>{v.sectionFooterPressed()},[v]),y=V.useCallback(async()=>{I(!0),await S({endCursor:u==null?void 0:u.endCursor}),I(!1),C()},[S,u==null?void 0:u.endCursor,C]),E=u!=null&&u.hasNextPage?s.nextLabel:s.prevLabel;return!u||!E?null:g.jsx("div",{"data-testid":"pagination-footer",className:"mt-space-20 flex w-full justify-center",children:g.jsx(Mr,{onClick:y,variant:"outlined-light",loading:R,children:E})})}function Um({footer:s}){return g.jsx("div",{"data-testid":"single-action-footer",className:"mt-space-20 flex w-full justify-center",children:g.jsx(jv,{to:s.action.url,"data-testid":`single-action-footer-${s.action.label}`,children:g.jsx(Mr,{"data-testid":"single-action-footer-button",variant:"outlined-light",children:s.action.label})})})}function Gm({footer:s}){return wv(s)?g.jsx(Um,{footer:s}):Sv(s)?g.jsx(Wm,{footer:s}):Cv(s)?g.jsx(Pm,{footer:s}):null}function Hm(s,h={}){const u=V.useRef(s),v=V.useRef(!0),S=V.useRef(h);return S.current=h,u.current!==s&&(u.current=s,v.current=!1),V.useMemo(()=>{const R={};let I=u.current({send:R});return Object.keys(I).forEach(y=>{typeof y=="string"&&(R[y]=(...E)=>{v.current||(I=u.current({send:R}),v.current=!0);const P=I[y];return S.current.logger&&S.current.logger({featureName:S.current.name,actionName:y,payload:E.slice(0,Math.max(0,P.length))}),P(...E)})}),{send:R}},[])}new Proxy({},{get:()=>()=>{}});const Vm=({typename:s,id:h})=>{const u=os(),{send:v}=Hm(()=>({cacheEvict:()=>{u.cache.evict({id:u.cache.identify({__typename:s,id:h})})}}));return v.cacheEvict},$m="_ShowsArrowButtons_z2nrp_1",zm="_HideNextToArrowButtons_z2nrp_4",gs={ShowsArrowButtons:$m,HideNextToArrowButtons:zm},Rt=({icon:s,title:h,textClassName:u,testID:v,onClick:S})=>g.jsx(Mr,{type:"button",variant:"text",onClick:S,className:"w-full !rounded-radius-16 hover:bg-bg-fill-hover","data-testid":v,children:g.jsxs("span",{className:"flex items-center",children:[s?g.jsx(Et,{name:s,size:"l",className:$("mr-space-8",u)}):null,g.jsx(Pe,{variant:"buttonLarge",className:u,children:h})]})},h);var Pr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"HideRecommendationV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserRecommendationContentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reason"}},type:{kind:"NamedType",name:{kind:"Name",value:"UserRecommendationHideReason"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userRecommendationHideV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"reason"},value:{kind:"Variable",name:{kind:"Name",value:"reason"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"field"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:305}};Pr.loc.source={body:`mutation HideRecommendationV2(
  $contentId: ID!
  $contentType: UserRecommendationContentType!
  $reason: UserRecommendationHideReason
) {
  userRecommendationHideV2(
    contentId: $contentId
    contentType: $contentType
    reason: $reason
  ) {
    userErrors {
      field
      message
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function Br(s,h){if(s.kind==="FragmentSpread")h.add(s.name.value);else if(s.kind==="VariableDefinition"){var u=s.type;u.kind==="NamedType"&&h.add(u.name.value)}s.selectionSet&&s.selectionSet.selections.forEach(function(v){Br(v,h)}),s.variableDefinitions&&s.variableDefinitions.forEach(function(v){Br(v,h)}),s.definitions&&s.definitions.forEach(function(v){Br(v,h)})}var au={};(function(){Pr.definitions.forEach(function(h){if(h.name){var u=new Set;Br(h,u),au[h.name.value]=u}})})();function Xa(s,h){for(var u=0;u<s.definitions.length;u++){var v=s.definitions[u];if(v.name&&v.name.value==h)return v}}function Km(s,h){var u={kind:s.kind,definitions:[Xa(s,h)]};s.hasOwnProperty("loc")&&(u.loc=s.loc);var v=au[h]||new Set,S=new Set,R=new Set;for(v.forEach(function(C){R.add(C)});R.size>0;){var I=R;R=new Set,I.forEach(function(C){if(!S.has(C)){S.add(C);var y=au[C]||new Set;y.forEach(function(E){R.add(E)})}})}return S.forEach(function(C){var y=Xa(s,C);y&&u.definitions.push(y)}),u}Km(Pr,"HideRecommendationV2");const qm=({contentType:s,contentId:h,shopName:u,onReasonPress:v})=>{const{showToast:S}=ts(),{reportEvent:R}=ls(),I=cm(),[C]=hm(Pr),y=V.useMemo(()=>[{reason:Tr.GENERIC,title:ue.t("Feed.BuyerRecommendationHideModal.Reasons.Generic")},{reason:Tr.EXPENSIVE,title:ue.t("Feed.BuyerRecommendationHideModal.Reasons.Expensive")},{reason:Tr.DISLIKE_CATEGORY,title:ue.t("Feed.BuyerRecommendationHideModal.Reasons.Category")},{reason:Tr.DISLIKE_MERCHANT,title:ue.t("Feed.BuyerRecommendationHideModal.Reasons.Merchant",{shopName:u})}],[u]),E=V.useCallback(async P=>{var H;try{const{data:K,errors:le}=await C({variables:{contentId:h,contentType:s,reason:P}});if(le)throw le;const Y=(H=K==null?void 0:K.userRecommendationHideV2)==null?void 0:H.userErrors;if(Y&&Y.length>0)throw new Error(`User errors from mutation response: ${JSON.stringify(Y)}`);R({schemaId:"shop_app_entity_interaction/4.4",payload:{entityId:h,entityType:ss.Store,interactionType:Qn.FeedbackSheetHideReason,interactionValue:P}}),I.hideRecommendation({entityId:h,entityType:s,hideReason:P,hideAction:"NOT_INTERESTED"}),v==null||v(),S({title:ue.t("Feed.BuyerRecommendationHideModal.Success"),variant:"feedback",leftIcon:"checkmark-circle"})}catch(K){dm.notify(K),S({title:ue.t("Feed.BuyerRecommendationHideModal.Error"),variant:"error"})}},[C,h,s,R,I,v,S]);return g.jsx("div",{className:"flex flex-1 flex-col",children:y.map(({reason:P,title:H})=>g.jsx(lm,{asChild:!0,children:g.jsx(Rt,{title:H,textClassName:"text-left",onClick:()=>{E(P)}})},P))})},jm=({open:s,onOpenChange:h,contentId:u,contentType:v,shopName:S,evictFromCache:R})=>g.jsx(fm,{open:s,onOpenChange:h,title:ue.t("Feed.BuyerRecommendationHideModal.Title"),size:"s",content:g.jsx(qm,{contentType:v,contentId:u,shopName:S,onReasonPress:R}),contentWrapperClassName:"flex flex-col flex-1 md:pt-0 px-screen-margin mb-space-20",autoHeight:!0,floating:!0}),Ya=()=>{};function Xm({shopId:s,shopName:h,followedByMe:u,shopHandle:v}){const{trackingValues:{sectionFormat:S,sectionId:R}}=gn(),{userAuthState:I}=Kv(),{reportEvent:C}=ls(),y=rm({contentId:s,contentType:iu.SHOP}),E=Vm({typename:S,id:R}),{showToast:P}=ts(),{toggleFollowStore:H,followedByMe:K}=pm({initialFollowedByMe:u}),[le,Y]=V.useState(!1),[fe,X]=V.useState(!1),[Q,ve]=V.useState(!1),ce=V.useCallback(re=>{ve(re)},[]),xe=V.useCallback(re=>{C({schemaId:"shop_app_entity_interaction/4.4",payload:{entityId:s,entityType:ss.Store,interactionType:re}})},[C,s]),be=V.useCallback(()=>{try{xe(K?Qn.UnfollowShop:Qn.FollowShop),H({action:K?$a.Unfollow:$a.Follow,shopId:s})}catch{P({title:ue.t("Feed.HeaderOverflowAction.FollowSomethingWentWrong"),variant:"error"})}},[K,xe,s,P,H]);return V.useEffect(()=>{if(!Q)return;const re=()=>{ve(!1)};return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[Q]),g.jsxs("div",{className:gs.HideNextToArrowButtons,children:[g.jsx(sm,{fallback:g.jsx(uu,{ariaLabel:ue.t("Feed.HeaderOverflowAction.ToggleMenuAriaLabel"),"data-testid":"overflow-menu-button",name:"overflow",size:"l",onClick:Ya}),children:()=>g.jsxs(Qv,{open:Q,onOpenChange:ce,children:[g.jsx(em,{asChild:!0,children:g.jsx(uu,{ariaLabel:ue.t("Feed.HeaderOverflowAction.ToggleMenuAriaLabel"),"data-testid":"overflow-menu-button",name:"overflow",variant:"outlined",size:"m",onClick:Ya,className:$("z-8 hidden border border-border p-space-10 transition-opacity sm:block")})}),g.jsx(nm,{children:g.jsxs(tm,{className:"z-10 m-space-4 flex min-w-[220px] flex-col rounded-radius-20 border-[0.5px] border-solid border-border-secondary bg-bg-fill p-space-6 shadow-md",onOpenAutoFocus:re=>{re.preventDefault()},side:"bottom",align:"end",children:[g.jsx(Tt,{to:v?`/m/${v}`:"",className:"hidden sm:block",children:g.jsx(Rt,{icon:"shop",title:ue.t("Feed.HeaderOverflowAction.VisitStore"),onClick:()=>{xe(Qn.ShopOverflowTapped)}})}),g.jsx("div",{className:"block sm:hidden",children:g.jsx(Rt,{icon:K?"cross-circle":"add-circle",title:K?ue.t("Feed.HeaderOverflowAction.Unfollow"):ue.t("Feed.HeaderOverflowAction.Follow"),onClick:be})}),I===qv.EmailVerified?g.jsxs(g.Fragment,{children:[g.jsx(Rt,{icon:"thumbs-down",title:ue.t("Feed.HeaderOverflowAction.NotInterested"),onClick:()=>{X(!0),xe(Qn.BuyerRecommendationHideModalOpened)}}),g.jsx(Rt,{icon:"exclamation-circle",title:ue.t("Feed.HeaderOverflowAction.ReportStore"),onClick:()=>{Y(!0),y(Qn.BuyerReportingSheetOpened)},textClassName:"text-text-critical"})]}):null]})})]})}),g.jsx(jm,{open:fe,contentId:s,contentType:iu.SHOP,shopName:h,onOpenChange:re=>!re&&X(!1),evictFromCache:E}),g.jsx(im,{open:le,contentId:s,contentType:iu.SHOP,onOpenChange:re=>!re&&Y(!1),evictFromCache:E})]})}function Ym({action:s,variant:h}){const u=et(),v=V.useCallback(()=>{u.sectionHeaderPressed()},[u]);return g.jsx(Tt,{to:s.url,className:"hover:underline",onClick:v,children:g.jsx(Mr,{variant:h??"tertiary",size:"m",text:s.label})})}const Zm={[Nr.ARROW_RIGHT]:"arrow-right",[Nr.CHECKMARK]:"checkmark-circle-filled",[Nr.PLUS_SIGN]:"plus-sign"};function Jm({primaryAction:s,sectionFormat:h}){const u=s&&s.icon?Zm[s.icon]:null;return!u||fs()&&h===Rv.ShelfSection?null:g.jsx("div",{className:"rounded-radius-max bg-bg-overlay-highlight p-space-4","data-testid":"section-general-header-primary-action-icon",children:g.jsx(Et,{name:u,size:"m"})})}function Za({subtitle:s,displayHints:h}){const u=Nt(),v=u&&fs(),S=ue.language,I=!!ns(),C=(h==null?void 0:h.componentStyle)===ds.PILL,y=V.useMemo(()=>u?"buttonSmall":I?"captionMedium":"bodySmall",[u,I]);if(!(!s||!Av(s))){if(bv(s)){const E=s.icon?Iv[s.icon]:null,P=g.jsxs("div",{className:"flex flex-row items-center gap-space-4",children:[E?g.jsx("div",{className:"scale-90 rounded-radius-max bg-bg-overlay-highlight p-space-2","data-testid":"section-general-header-subtitle-icon",children:g.jsx(Et,{name:E,size:"s",className:"text-text"})}):null,g.jsx(Pe,{variant:y,className:$("line-clamp-1 text-ellipsis",C?"text-text":"text-text-tertiary"),children:s.text})]});return C?g.jsx("div",{className:"mr-space-2 w-fit rounded-radius-max bg-bg-overlay-highlight py-space-4 pl-space-4 pr-space-8","data-testid":"section-general-header-subtitle-pill",children:P}):P}if(Ev(s)&&s.averageRating)return g.jsxs("div",{className:$("flex items-center gap-space-4",v?"justify-center":""),children:[g.jsx(Pe,{variant:"captionBold",className:"line-clamp-1",children:vm(s.averageRating,S)}),g.jsx(Et,{name:"star-filled",className:"!h-space-10 !w-[11px]"}),g.jsx(Pe,{variant:"captionBold",className:"line-clamp-1",children:ue.t("ProductDetails.ReviewsCount",{totalReviews:cs(s.totalProductReviews,S)})})]});if(Tv(s))return g.jsx(Pe,{variant:"bodySmall",className:"text-text-brand",children:s.summary});if(yv(s)){const E=rs(s);if(E!=null&&E.boosted){const{offerText:P,accessibilityLabel:H}=Nv({formattedBoostedCash:E.boosted.formattedBoostedCash,cashType:E.boosted.cashType});return g.jsxs("span",{className:"flex",children:[g.jsx(Pe,{variant:"bodySmall",className:"whitespace-nowrap text-text-brand","aria-label":H,children:P}),E.boosted.formattedMinimumOrderValue&&g.jsxs(Pe,{variant:"bodySmall",className:"whitespace-nowrap text-text-tertiary",children:[" ",ue.t("ShopCash.ExclusiveOffers.OfferWorthMOV",{amount:E.boosted.formattedMinimumOrderValue})]})]})}if(E!=null&&E.cashback){const P=E.cashback.ratePercentage.toFixed();return g.jsx(Pe,{variant:"bodySmall",className:"text-text-brand",children:ue.t("ShopCash.CashBack.EarnCashBackAuthed",{percent:P})})}}return null}}function Qm(s){switch(s){case void 0:case null:return null;case Va.CASH_BACK:case Va.SHOP_CASH:return s}}const e_={[bt.START]:"justify-start flex-start",[bt.CENTER]:"justify-center items-center flex-col",[bt.END]:"justify-end"},n_="justify-between";function t_({actions:s}){const{trackingValues:{subject:h,backgroundColorHsl:u}}=gn(),v=u?as(u):!1;return g.jsx("div",{className:$("flex items-center justify-between gap-space-8"),children:s.map((S,R)=>Fv(S)?g.jsx("div",{"data-testid":"store-follow-button",children:g.jsx(gm,{shopId:S.shop.id,followedByMe:S.shop.followedByMe,buttonSize:"m"})},`FollowButton-${R}`):is(S)?g.jsx("div",{className:"hidden sm:block","data-testid":"header-resource-action",children:g.jsx(Ym,{action:S,variant:v?"blurred":"tertiary"})},`HeaderResourceAction-${R}`):h&&yt(h)&&Bv(S)?g.jsx("div",{"data-testid":"header-overflow-action",children:g.jsx(Xm,{shopId:h.shop.id,shopName:h.shop.name,shopHandle:h.shop.defaultHandle,followedByMe:h.shop.followedByMe})},`OverflowAction-${R}`):null)})}function r_({header:s}){var X,Q,ve,ce,xe,be,re,De,vn,Mn,Lt;const h=su(),{trackingValues:{subject:u}}=gn(),{trackingValues:{sectionFormat:v,sectionDisplayOptions:S}}=gn(),R=S==null?void 0:S.includes(pn.ELEVATED),I=et(),C=s.primaryAction&&Lv(s.primaryAction)?s.primaryAction:void 0,y=V.useCallback(()=>{h&&(C!=null&&C.url.includes("/m/")||C!=null&&C.url.includes("shopapp://store/")?h.navigateToShop({url:C.url,shopId:u&&yt(u)?u.shop.id:void 0}):C!=null&&C.url.includes("/search/results?")&&h.navigateToSearch({url:C.url})),I.sectionHeaderPressed()},[h,I,C==null?void 0:C.url,u]),E=V.useMemo(()=>{var Ot;return(Ot=s.actions)==null?void 0:Ot.filter(Ov)},[s.actions]),P=s.wordmark,H=s.logo&&!P,K=!!(C!=null&&C.url&&!(E!=null&&E.length)&&!H),le="m",Y=(ve=(Q=(X=s.displayHints)==null?void 0:X.contentHints)==null?void 0:Q.alignment)==null?void 0:ve.horizontal,fe=Y?e_[Y]:n_;return g.jsxs("div",{className:$("flex w-full",h&&!R?"px-space-0":"",C!=null&&C.url?"cursor-pointer ":null),onClick:C!=null&&C.url?y:void 0,"data-testid":"section-header-container",children:[g.jsxs("div",{className:$("flex w-full",Y===bt.CENTER?"flex-col":"justify-between",h?"md:gap-space-20":"",fe),"data-testid":"section-header-content",children:[g.jsx(Tt,{to:h||C==null?void 0:C.url,testId:`section-header-${s.title}`,ariaLabel:s.title||void 0,children:g.jsx("div",{className:"flex flex-1 flex-col",children:P?g.jsxs("div",{className:$("flex flex-1 flex-col items-start gap-space-8 lg:items-center",fe),children:[g.jsx(Jv,{src:P.url,alt:(P==null?void 0:P.altText)||"",className:$("max-h-space-64 min-h-space-40 max-w-[112px] object-contain",fe),"data-testid":"section-general-header-wordmark",imageSizeAtBreakpoint:{default:Xv.mUrl}}),g.jsx("div",{className:$("hidden flex-col lg:flex"),children:s.subtitle&&g.jsx(Za,{subtitle:s.subtitle,displayHints:(ce=s.displayHints)==null?void 0:ce.subtitle})})]}):g.jsxs("div",{className:$("flex flex-1 items-center",fe,h?"md:gap-space-8":""),children:[s.logo&&g.jsx("div",{className:$("pr-space-8",h?"sm:pr-space-0":""),children:g.jsx(Zv,{size:le,shopName:((be=(xe=s.logo)==null?void 0:xe.image)==null?void 0:be.fallbackText)||"",src:(vn=(De=(re=s.logo)==null?void 0:re.image)==null?void 0:De.image)==null?void 0:vn.url,hasIncentive:oe(Qm((Mn=s.logo)==null?void 0:Mn.icon))})}),g.jsxs("div",{className:$("flex flex-col",h?"w-full justify-between md:w-auto md:flex-col md:justify-start md:gap-space-8":"",fe),children:[s.title?g.jsxs("div",{className:$("flex items-center",h?"":"gap-space-8"),"data-testid":"section-general-header-title",children:[g.jsx(Pe,{variant:"subtitle",as:"h2",className:"text-text md:text-sectionTitle",children:s.title}),K&&g.jsx(Yv,{})]}):null,s.subtitle&&g.jsx(Za,{subtitle:s.subtitle,displayHints:(Lt=s.displayHints)==null?void 0:Lt.subtitle})]})]})})}),E!=null&&E.length?g.jsx(t_,{actions:E}):null]}),g.jsx(Jm,{primaryAction:C,sectionFormat:v})]})}function vs({header:s}){return Mv(s)?g.jsx(r_,{header:s}):null}var At={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var i_=At.exports,Ja;function u_(){return Ja||(Ja=1,function(s,h){(function(){var u,v="4.17.21",S=200,R="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",C="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",E=500,P="__lodash_placeholder__",H=1,K=2,le=4,Y=1,fe=2,X=1,Q=2,ve=4,ce=8,xe=16,be=32,re=64,De=128,vn=256,Mn=512,Lt=30,Ot="...",_s=800,xs=16,fu=1,ws=2,Ss=3,Ft=1/0,Pn=9007199254740991,Cs=17976931348623157e292,Bt=NaN,Je=4294967295,Rs=Je-1,As=Je>>>1,bs=[["ary",De],["bind",X],["bindKey",Q],["curry",ce],["curryRight",xe],["flip",Mn],["partial",be],["partialRight",re],["rearg",vn]],Dn="[object Arguments]",Mt="[object Array]",Is="[object AsyncFunction]",nt="[object Boolean]",tt="[object Date]",Es="[object DOMException]",Pt="[object Error]",Dt="[object Function]",cu="[object GeneratorFunction]",Ke="[object Map]",rt="[object Number]",Ts="[object Null]",rn="[object Object]",du="[object Promise]",ys="[object Proxy]",it="[object RegExp]",qe="[object Set]",ut="[object String]",kt="[object Symbol]",Ns="[object Undefined]",ot="[object WeakMap]",Ls="[object WeakSet]",at="[object ArrayBuffer]",kn="[object DataView]",Dr="[object Float32Array]",kr="[object Float64Array]",Wr="[object Int8Array]",Ur="[object Int16Array]",Gr="[object Int32Array]",Hr="[object Uint8Array]",Vr="[object Uint8ClampedArray]",$r="[object Uint16Array]",zr="[object Uint32Array]",Os=/\b__p \+= '';/g,Fs=/\b(__p \+=) '' \+/g,Bs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hu=/&(?:amp|lt|gt|quot|#39);/g,pu=/[&<>"']/g,Ms=RegExp(hu.source),Ps=RegExp(pu.source),Ds=/<%-([\s\S]+?)%>/g,ks=/<%([\s\S]+?)%>/g,gu=/<%=([\s\S]+?)%>/g,Ws=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Us=/^\w*$/,Gs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,Hs=RegExp(Kr.source),qr=/^\s+/,Vs=/\s/,$s=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zs=/\{\n\/\* \[wrapped with (.+)\] \*/,Ks=/,? & /,qs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,js=/[()=,{}\[\]\/\s]/,Xs=/\\(\\)?/g,Ys=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vu=/\w*$/,Zs=/^[-+]0x[0-9a-f]+$/i,Js=/^0b[01]+$/i,Qs=/^\[object .+?Constructor\]$/,el=/^0o[0-7]+$/i,nl=/^(?:0|[1-9]\d*)$/,tl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wt=/($^)/,rl=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",il="\\u0300-\\u036f",ul="\\ufe20-\\ufe2f",ol="\\u20d0-\\u20ff",mu=il+ul+ol,_u="\\u2700-\\u27bf",xu="a-z\\xdf-\\xf6\\xf8-\\xff",al="\\xac\\xb1\\xd7\\xf7",sl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ll="\\u2000-\\u206f",fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wu="A-Z\\xc0-\\xd6\\xd8-\\xde",Su="\\ufe0e\\ufe0f",Cu=al+sl+ll+fl,jr="['’]",cl="["+Ut+"]",Ru="["+Cu+"]",Gt="["+mu+"]",Au="\\d+",dl="["+_u+"]",bu="["+xu+"]",Iu="[^"+Ut+Cu+Au+_u+xu+wu+"]",Xr="\\ud83c[\\udffb-\\udfff]",hl="(?:"+Gt+"|"+Xr+")",Eu="[^"+Ut+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Zr="[\\ud800-\\udbff][\\udc00-\\udfff]",Wn="["+wu+"]",Tu="\\u200d",yu="(?:"+bu+"|"+Iu+")",pl="(?:"+Wn+"|"+Iu+")",Nu="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Lu="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Ou=hl+"?",Fu="["+Su+"]?",gl="(?:"+Tu+"(?:"+[Eu,Yr,Zr].join("|")+")"+Fu+Ou+")*",vl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bu=Fu+Ou+gl,_l="(?:"+[dl,Yr,Zr].join("|")+")"+Bu,xl="(?:"+[Eu+Gt+"?",Gt,Yr,Zr,cl].join("|")+")",wl=RegExp(jr,"g"),Sl=RegExp(Gt,"g"),Jr=RegExp(Xr+"(?="+Xr+")|"+xl+Bu,"g"),Cl=RegExp([Wn+"?"+bu+"+"+Nu+"(?="+[Ru,Wn,"$"].join("|")+")",pl+"+"+Lu+"(?="+[Ru,Wn+yu,"$"].join("|")+")",Wn+"?"+yu+"+"+Nu,Wn+"+"+Lu,ml,vl,Au,_l].join("|"),"g"),Rl=RegExp("["+Tu+Ut+mu+Su+"]"),Al=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Il=-1,ee={};ee[Dr]=ee[kr]=ee[Wr]=ee[Ur]=ee[Gr]=ee[Hr]=ee[Vr]=ee[$r]=ee[zr]=!0,ee[Dn]=ee[Mt]=ee[at]=ee[nt]=ee[kn]=ee[tt]=ee[Pt]=ee[Dt]=ee[Ke]=ee[rt]=ee[rn]=ee[it]=ee[qe]=ee[ut]=ee[ot]=!1;var J={};J[Dn]=J[Mt]=J[at]=J[kn]=J[nt]=J[tt]=J[Dr]=J[kr]=J[Wr]=J[Ur]=J[Gr]=J[Ke]=J[rt]=J[rn]=J[it]=J[qe]=J[ut]=J[kt]=J[Hr]=J[Vr]=J[$r]=J[zr]=!0,J[Pt]=J[Dt]=J[ot]=!1;var El={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Tl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ll=parseFloat,Ol=parseInt,Mu=typeof Er=="object"&&Er&&Er.Object===Object&&Er,Fl=typeof self=="object"&&self&&self.Object===Object&&self,me=Mu||Fl||Function("return this")(),Qr=h&&!h.nodeType&&h,In=Qr&&!0&&s&&!s.nodeType&&s,Pu=In&&In.exports===Qr,ei=Pu&&Mu.process,ke=function(){try{var c=In&&In.require&&In.require("util").types;return c||ei&&ei.binding&&ei.binding("util")}catch{}}(),Du=ke&&ke.isArrayBuffer,ku=ke&&ke.isDate,Wu=ke&&ke.isMap,Uu=ke&&ke.isRegExp,Gu=ke&&ke.isSet,Hu=ke&&ke.isTypedArray;function Ne(c,m,p){switch(p.length){case 0:return c.call(m);case 1:return c.call(m,p[0]);case 2:return c.call(m,p[0],p[1]);case 3:return c.call(m,p[0],p[1],p[2])}return c.apply(m,p)}function Bl(c,m,p,b){for(var F=-1,z=c==null?0:c.length;++F<z;){var de=c[F];m(b,de,p(de),c)}return b}function We(c,m){for(var p=-1,b=c==null?0:c.length;++p<b&&m(c[p],p,c)!==!1;);return c}function Ml(c,m){for(var p=c==null?0:c.length;p--&&m(c[p],p,c)!==!1;);return c}function Vu(c,m){for(var p=-1,b=c==null?0:c.length;++p<b;)if(!m(c[p],p,c))return!1;return!0}function mn(c,m){for(var p=-1,b=c==null?0:c.length,F=0,z=[];++p<b;){var de=c[p];m(de,p,c)&&(z[F++]=de)}return z}function Ht(c,m){var p=c==null?0:c.length;return!!p&&Un(c,m,0)>-1}function ni(c,m,p){for(var b=-1,F=c==null?0:c.length;++b<F;)if(p(m,c[b]))return!0;return!1}function ne(c,m){for(var p=-1,b=c==null?0:c.length,F=Array(b);++p<b;)F[p]=m(c[p],p,c);return F}function _n(c,m){for(var p=-1,b=m.length,F=c.length;++p<b;)c[F+p]=m[p];return c}function ti(c,m,p,b){var F=-1,z=c==null?0:c.length;for(b&&z&&(p=c[++F]);++F<z;)p=m(p,c[F],F,c);return p}function Pl(c,m,p,b){var F=c==null?0:c.length;for(b&&F&&(p=c[--F]);F--;)p=m(p,c[F],F,c);return p}function ri(c,m){for(var p=-1,b=c==null?0:c.length;++p<b;)if(m(c[p],p,c))return!0;return!1}var Dl=ii("length");function kl(c){return c.split("")}function Wl(c){return c.match(qs)||[]}function $u(c,m,p){var b;return p(c,function(F,z,de){if(m(F,z,de))return b=z,!1}),b}function Vt(c,m,p,b){for(var F=c.length,z=p+(b?1:-1);b?z--:++z<F;)if(m(c[z],z,c))return z;return-1}function Un(c,m,p){return m===m?Zl(c,m,p):Vt(c,zu,p)}function Ul(c,m,p,b){for(var F=p-1,z=c.length;++F<z;)if(b(c[F],m))return F;return-1}function zu(c){return c!==c}function Ku(c,m){var p=c==null?0:c.length;return p?oi(c,m)/p:Bt}function ii(c){return function(m){return m==null?u:m[c]}}function ui(c){return function(m){return c==null?u:c[m]}}function qu(c,m,p,b,F){return F(c,function(z,de,Z){p=b?(b=!1,z):m(p,z,de,Z)}),p}function Gl(c,m){var p=c.length;for(c.sort(m);p--;)c[p]=c[p].value;return c}function oi(c,m){for(var p,b=-1,F=c.length;++b<F;){var z=m(c[b]);z!==u&&(p=p===u?z:p+z)}return p}function ai(c,m){for(var p=-1,b=Array(c);++p<c;)b[p]=m(p);return b}function Hl(c,m){return ne(m,function(p){return[p,c[p]]})}function ju(c){return c&&c.slice(0,Ju(c)+1).replace(qr,"")}function Le(c){return function(m){return c(m)}}function si(c,m){return ne(m,function(p){return c[p]})}function st(c,m){return c.has(m)}function Xu(c,m){for(var p=-1,b=c.length;++p<b&&Un(m,c[p],0)>-1;);return p}function Yu(c,m){for(var p=c.length;p--&&Un(m,c[p],0)>-1;);return p}function Vl(c,m){for(var p=c.length,b=0;p--;)c[p]===m&&++b;return b}var $l=ui(El),zl=ui(Tl);function Kl(c){return"\\"+Nl[c]}function ql(c,m){return c==null?u:c[m]}function Gn(c){return Rl.test(c)}function jl(c){return Al.test(c)}function Xl(c){for(var m,p=[];!(m=c.next()).done;)p.push(m.value);return p}function li(c){var m=-1,p=Array(c.size);return c.forEach(function(b,F){p[++m]=[F,b]}),p}function Zu(c,m){return function(p){return c(m(p))}}function xn(c,m){for(var p=-1,b=c.length,F=0,z=[];++p<b;){var de=c[p];(de===m||de===P)&&(c[p]=P,z[F++]=p)}return z}function $t(c){var m=-1,p=Array(c.size);return c.forEach(function(b){p[++m]=b}),p}function Yl(c){var m=-1,p=Array(c.size);return c.forEach(function(b){p[++m]=[b,b]}),p}function Zl(c,m,p){for(var b=p-1,F=c.length;++b<F;)if(c[b]===m)return b;return-1}function Jl(c,m,p){for(var b=p+1;b--;)if(c[b]===m)return b;return b}function Hn(c){return Gn(c)?ef(c):Dl(c)}function je(c){return Gn(c)?nf(c):kl(c)}function Ju(c){for(var m=c.length;m--&&Vs.test(c.charAt(m)););return m}var Ql=ui(yl);function ef(c){for(var m=Jr.lastIndex=0;Jr.test(c);)++m;return m}function nf(c){return c.match(Jr)||[]}function tf(c){return c.match(Cl)||[]}var rf=function c(m){m=m==null?me:Vn.defaults(me.Object(),m,Vn.pick(me,bl));var p=m.Array,b=m.Date,F=m.Error,z=m.Function,de=m.Math,Z=m.Object,fi=m.RegExp,uf=m.String,Ue=m.TypeError,zt=p.prototype,of=z.prototype,$n=Z.prototype,Kt=m["__core-js_shared__"],qt=of.toString,j=$n.hasOwnProperty,af=0,Qu=function(){var e=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jt=$n.toString,sf=qt.call(Z),lf=me._,ff=fi("^"+qt.call(j).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=Pu?m.Buffer:u,wn=m.Symbol,Yt=m.Uint8Array,eo=Xt?Xt.allocUnsafe:u,Zt=Zu(Z.getPrototypeOf,Z),no=Z.create,to=$n.propertyIsEnumerable,Jt=zt.splice,ro=wn?wn.isConcatSpreadable:u,lt=wn?wn.iterator:u,En=wn?wn.toStringTag:u,Qt=function(){try{var e=On(Z,"defineProperty");return e({},"",{}),e}catch{}}(),cf=m.clearTimeout!==me.clearTimeout&&m.clearTimeout,df=b&&b.now!==me.Date.now&&b.now,hf=m.setTimeout!==me.setTimeout&&m.setTimeout,er=de.ceil,nr=de.floor,ci=Z.getOwnPropertySymbols,pf=Xt?Xt.isBuffer:u,io=m.isFinite,gf=zt.join,vf=Zu(Z.keys,Z),he=de.max,we=de.min,mf=b.now,_f=m.parseInt,uo=de.random,xf=zt.reverse,di=On(m,"DataView"),ft=On(m,"Map"),hi=On(m,"Promise"),zn=On(m,"Set"),ct=On(m,"WeakMap"),dt=On(Z,"create"),tr=ct&&new ct,Kn={},wf=Fn(di),Sf=Fn(ft),Cf=Fn(hi),Rf=Fn(zn),Af=Fn(ct),rr=wn?wn.prototype:u,ht=rr?rr.valueOf:u,oo=rr?rr.toString:u;function o(e){if(ie(e)&&!B(e)&&!(e instanceof U)){if(e instanceof Ge)return e;if(j.call(e,"__wrapped__"))return sa(e)}return new Ge(e)}var qn=function(){function e(){}return function(n){if(!te(n))return{};if(no)return no(n);e.prototype=n;var t=new e;return e.prototype=u,t}}();function ir(){}function Ge(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=u}o.templateSettings={escape:Ds,evaluate:ks,interpolate:gu,variable:"",imports:{_:o}},o.prototype=ir.prototype,o.prototype.constructor=o,Ge.prototype=qn(ir.prototype),Ge.prototype.constructor=Ge;function U(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Je,this.__views__=[]}function bf(){var e=new U(this.__wrapped__);return e.__actions__=Ie(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ie(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ie(this.__views__),e}function If(){if(this.__filtered__){var e=new U(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ef(){var e=this.__wrapped__.value(),n=this.__dir__,t=B(e),r=n<0,i=t?e.length:0,a=Wc(0,i,this.__views__),l=a.start,f=a.end,d=f-l,_=r?f:l-1,x=this.__iteratees__,w=x.length,A=0,T=we(d,this.__takeCount__);if(!t||!r&&i==d&&T==d)return Lo(e,this.__actions__);var L=[];e:for(;d--&&A<T;){_+=n;for(var D=-1,O=e[_];++D<w;){var W=x[D],G=W.iteratee,Be=W.type,Ae=G(O);if(Be==ws)O=Ae;else if(!Ae){if(Be==fu)continue e;break e}}L[A++]=O}return L}U.prototype=qn(ir.prototype),U.prototype.constructor=U;function Tn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Tf(){this.__data__=dt?dt(null):{},this.size=0}function yf(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Nf(e){var n=this.__data__;if(dt){var t=n[e];return t===y?u:t}return j.call(n,e)?n[e]:u}function Lf(e){var n=this.__data__;return dt?n[e]!==u:j.call(n,e)}function Of(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=dt&&n===u?y:n,this}Tn.prototype.clear=Tf,Tn.prototype.delete=yf,Tn.prototype.get=Nf,Tn.prototype.has=Lf,Tn.prototype.set=Of;function un(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Ff(){this.__data__=[],this.size=0}function Bf(e){var n=this.__data__,t=ur(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Jt.call(n,t,1),--this.size,!0}function Mf(e){var n=this.__data__,t=ur(n,e);return t<0?u:n[t][1]}function Pf(e){return ur(this.__data__,e)>-1}function Df(e,n){var t=this.__data__,r=ur(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}un.prototype.clear=Ff,un.prototype.delete=Bf,un.prototype.get=Mf,un.prototype.has=Pf,un.prototype.set=Df;function on(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function kf(){this.size=0,this.__data__={hash:new Tn,map:new(ft||un),string:new Tn}}function Wf(e){var n=mr(this,e).delete(e);return this.size-=n?1:0,n}function Uf(e){return mr(this,e).get(e)}function Gf(e){return mr(this,e).has(e)}function Hf(e,n){var t=mr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}on.prototype.clear=kf,on.prototype.delete=Wf,on.prototype.get=Uf,on.prototype.has=Gf,on.prototype.set=Hf;function yn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new on;++n<t;)this.add(e[n])}function Vf(e){return this.__data__.set(e,y),this}function $f(e){return this.__data__.has(e)}yn.prototype.add=yn.prototype.push=Vf,yn.prototype.has=$f;function Xe(e){var n=this.__data__=new un(e);this.size=n.size}function zf(){this.__data__=new un,this.size=0}function Kf(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function qf(e){return this.__data__.get(e)}function jf(e){return this.__data__.has(e)}function Xf(e,n){var t=this.__data__;if(t instanceof un){var r=t.__data__;if(!ft||r.length<S-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new on(r)}return t.set(e,n),this.size=t.size,this}Xe.prototype.clear=zf,Xe.prototype.delete=Kf,Xe.prototype.get=qf,Xe.prototype.has=jf,Xe.prototype.set=Xf;function ao(e,n){var t=B(e),r=!t&&Bn(e),i=!t&&!r&&bn(e),a=!t&&!r&&!i&&Zn(e),l=t||r||i||a,f=l?ai(e.length,uf):[],d=f.length;for(var _ in e)(n||j.call(e,_))&&!(l&&(_=="length"||i&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||fn(_,d)))&&f.push(_);return f}function so(e){var n=e.length;return n?e[Ai(0,n-1)]:u}function Yf(e,n){return _r(Ie(e),Nn(n,0,e.length))}function Zf(e){return _r(Ie(e))}function pi(e,n,t){(t!==u&&!Ye(e[n],t)||t===u&&!(n in e))&&an(e,n,t)}function pt(e,n,t){var r=e[n];(!(j.call(e,n)&&Ye(r,t))||t===u&&!(n in e))&&an(e,n,t)}function ur(e,n){for(var t=e.length;t--;)if(Ye(e[t][0],n))return t;return-1}function Jf(e,n,t,r){return Sn(e,function(i,a,l){n(r,i,t(i),l)}),r}function lo(e,n){return e&&en(n,pe(n),e)}function Qf(e,n){return e&&en(n,Te(n),e)}function an(e,n,t){n=="__proto__"&&Qt?Qt(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function gi(e,n){for(var t=-1,r=n.length,i=p(r),a=e==null;++t<r;)i[t]=a?u:Xi(e,n[t]);return i}function Nn(e,n,t){return e===e&&(t!==u&&(e=e<=t?e:t),n!==u&&(e=e>=n?e:n)),e}function He(e,n,t,r,i,a){var l,f=n&H,d=n&K,_=n&le;if(t&&(l=i?t(e,r,i,a):t(e)),l!==u)return l;if(!te(e))return e;var x=B(e);if(x){if(l=Gc(e),!f)return Ie(e,l)}else{var w=Se(e),A=w==Dt||w==cu;if(bn(e))return Bo(e,f);if(w==rn||w==Dn||A&&!i){if(l=d||A?{}:Qo(e),!f)return d?Nc(e,Qf(l,e)):yc(e,lo(l,e))}else{if(!J[w])return i?e:{};l=Hc(e,w,f)}}a||(a=new Xe);var T=a.get(e);if(T)return T;a.set(e,l),Ta(e)?e.forEach(function(O){l.add(He(O,n,t,O,e,a))}):Ia(e)&&e.forEach(function(O,W){l.set(W,He(O,n,t,W,e,a))});var L=_?d?Mi:Bi:d?Te:pe,D=x?u:L(e);return We(D||e,function(O,W){D&&(W=O,O=e[W]),pt(l,W,He(O,n,t,W,e,a))}),l}function ec(e){var n=pe(e);return function(t){return fo(t,e,n)}}function fo(e,n,t){var r=t.length;if(e==null)return!r;for(e=Z(e);r--;){var i=t[r],a=n[i],l=e[i];if(l===u&&!(i in e)||!a(l))return!1}return!0}function co(e,n,t){if(typeof e!="function")throw new Ue(I);return St(function(){e.apply(u,t)},n)}function gt(e,n,t,r){var i=-1,a=Ht,l=!0,f=e.length,d=[],_=n.length;if(!f)return d;t&&(n=ne(n,Le(t))),r?(a=ni,l=!1):n.length>=S&&(a=st,l=!1,n=new yn(n));e:for(;++i<f;){var x=e[i],w=t==null?x:t(x);if(x=r||x!==0?x:0,l&&w===w){for(var A=_;A--;)if(n[A]===w)continue e;d.push(x)}else a(n,w,r)||d.push(x)}return d}var Sn=Wo(Qe),ho=Wo(mi,!0);function nc(e,n){var t=!0;return Sn(e,function(r,i,a){return t=!!n(r,i,a),t}),t}function or(e,n,t){for(var r=-1,i=e.length;++r<i;){var a=e[r],l=n(a);if(l!=null&&(f===u?l===l&&!Fe(l):t(l,f)))var f=l,d=a}return d}function tc(e,n,t,r){var i=e.length;for(t=M(t),t<0&&(t=-t>i?0:i+t),r=r===u||r>i?i:M(r),r<0&&(r+=i),r=t>r?0:Na(r);t<r;)e[t++]=n;return e}function po(e,n){var t=[];return Sn(e,function(r,i,a){n(r,i,a)&&t.push(r)}),t}function _e(e,n,t,r,i){var a=-1,l=e.length;for(t||(t=$c),i||(i=[]);++a<l;){var f=e[a];n>0&&t(f)?n>1?_e(f,n-1,t,r,i):_n(i,f):r||(i[i.length]=f)}return i}var vi=Uo(),go=Uo(!0);function Qe(e,n){return e&&vi(e,n,pe)}function mi(e,n){return e&&go(e,n,pe)}function ar(e,n){return mn(n,function(t){return cn(e[t])})}function Ln(e,n){n=Rn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[nn(n[t++])];return t&&t==r?e:u}function vo(e,n,t){var r=n(e);return B(e)?r:_n(r,t(e))}function Ce(e){return e==null?e===u?Ns:Ts:En&&En in Z(e)?kc(e):Zc(e)}function _i(e,n){return e>n}function rc(e,n){return e!=null&&j.call(e,n)}function ic(e,n){return e!=null&&n in Z(e)}function uc(e,n,t){return e>=we(n,t)&&e<he(n,t)}function xi(e,n,t){for(var r=t?ni:Ht,i=e[0].length,a=e.length,l=a,f=p(a),d=1/0,_=[];l--;){var x=e[l];l&&n&&(x=ne(x,Le(n))),d=we(x.length,d),f[l]=!t&&(n||i>=120&&x.length>=120)?new yn(l&&x):u}x=e[0];var w=-1,A=f[0];e:for(;++w<i&&_.length<d;){var T=x[w],L=n?n(T):T;if(T=t||T!==0?T:0,!(A?st(A,L):r(_,L,t))){for(l=a;--l;){var D=f[l];if(!(D?st(D,L):r(e[l],L,t)))continue e}A&&A.push(L),_.push(T)}}return _}function oc(e,n,t,r){return Qe(e,function(i,a,l){n(r,t(i),a,l)}),r}function vt(e,n,t){n=Rn(n,e),e=ra(e,n);var r=e==null?e:e[nn($e(n))];return r==null?u:Ne(r,e,t)}function mo(e){return ie(e)&&Ce(e)==Dn}function ac(e){return ie(e)&&Ce(e)==at}function sc(e){return ie(e)&&Ce(e)==tt}function mt(e,n,t,r,i){return e===n?!0:e==null||n==null||!ie(e)&&!ie(n)?e!==e&&n!==n:lc(e,n,t,r,mt,i)}function lc(e,n,t,r,i,a){var l=B(e),f=B(n),d=l?Mt:Se(e),_=f?Mt:Se(n);d=d==Dn?rn:d,_=_==Dn?rn:_;var x=d==rn,w=_==rn,A=d==_;if(A&&bn(e)){if(!bn(n))return!1;l=!0,x=!1}if(A&&!x)return a||(a=new Xe),l||Zn(e)?Yo(e,n,t,r,i,a):Pc(e,n,d,t,r,i,a);if(!(t&Y)){var T=x&&j.call(e,"__wrapped__"),L=w&&j.call(n,"__wrapped__");if(T||L){var D=T?e.value():e,O=L?n.value():n;return a||(a=new Xe),i(D,O,t,r,a)}}return A?(a||(a=new Xe),Dc(e,n,t,r,i,a)):!1}function fc(e){return ie(e)&&Se(e)==Ke}function wi(e,n,t,r){var i=t.length,a=i,l=!r;if(e==null)return!a;for(e=Z(e);i--;){var f=t[i];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++i<a;){f=t[i];var d=f[0],_=e[d],x=f[1];if(l&&f[2]){if(_===u&&!(d in e))return!1}else{var w=new Xe;if(r)var A=r(_,x,d,e,n,w);if(!(A===u?mt(x,_,Y|fe,r,w):A))return!1}}return!0}function _o(e){if(!te(e)||Kc(e))return!1;var n=cn(e)?ff:Qs;return n.test(Fn(e))}function cc(e){return ie(e)&&Ce(e)==it}function dc(e){return ie(e)&&Se(e)==qe}function hc(e){return ie(e)&&Ar(e.length)&&!!ee[Ce(e)]}function xo(e){return typeof e=="function"?e:e==null?ye:typeof e=="object"?B(e)?Co(e[0],e[1]):So(e):Ga(e)}function Si(e){if(!wt(e))return vf(e);var n=[];for(var t in Z(e))j.call(e,t)&&t!="constructor"&&n.push(t);return n}function pc(e){if(!te(e))return Yc(e);var n=wt(e),t=[];for(var r in e)r=="constructor"&&(n||!j.call(e,r))||t.push(r);return t}function Ci(e,n){return e<n}function wo(e,n){var t=-1,r=Ee(e)?p(e.length):[];return Sn(e,function(i,a,l){r[++t]=n(i,a,l)}),r}function So(e){var n=Di(e);return n.length==1&&n[0][2]?na(n[0][0],n[0][1]):function(t){return t===e||wi(t,e,n)}}function Co(e,n){return Wi(e)&&ea(n)?na(nn(e),n):function(t){var r=Xi(t,e);return r===u&&r===n?Yi(t,e):mt(n,r,Y|fe)}}function sr(e,n,t,r,i){e!==n&&vi(n,function(a,l){if(i||(i=new Xe),te(a))gc(e,n,l,t,sr,r,i);else{var f=r?r(Gi(e,l),a,l+"",e,n,i):u;f===u&&(f=a),pi(e,l,f)}},Te)}function gc(e,n,t,r,i,a,l){var f=Gi(e,t),d=Gi(n,t),_=l.get(d);if(_){pi(e,t,_);return}var x=a?a(f,d,t+"",e,n,l):u,w=x===u;if(w){var A=B(d),T=!A&&bn(d),L=!A&&!T&&Zn(d);x=d,A||T||L?B(f)?x=f:ae(f)?x=Ie(f):T?(w=!1,x=Bo(d,!0)):L?(w=!1,x=Mo(d,!0)):x=[]:Ct(d)||Bn(d)?(x=f,Bn(f)?x=La(f):(!te(f)||cn(f))&&(x=Qo(d))):w=!1}w&&(l.set(d,x),i(x,d,r,a,l),l.delete(d)),pi(e,t,x)}function Ro(e,n){var t=e.length;if(t)return n+=n<0?t:0,fn(n,t)?e[n]:u}function Ao(e,n,t){n.length?n=ne(n,function(a){return B(a)?function(l){return Ln(l,a.length===1?a[0]:a)}:a}):n=[ye];var r=-1;n=ne(n,Le(N()));var i=wo(e,function(a,l,f){var d=ne(n,function(_){return _(a)});return{criteria:d,index:++r,value:a}});return Gl(i,function(a,l){return Tc(a,l,t)})}function vc(e,n){return bo(e,n,function(t,r){return Yi(e,r)})}function bo(e,n,t){for(var r=-1,i=n.length,a={};++r<i;){var l=n[r],f=Ln(e,l);t(f,l)&&_t(a,Rn(l,e),f)}return a}function mc(e){return function(n){return Ln(n,e)}}function Ri(e,n,t,r){var i=r?Ul:Un,a=-1,l=n.length,f=e;for(e===n&&(n=Ie(n)),t&&(f=ne(e,Le(t)));++a<l;)for(var d=0,_=n[a],x=t?t(_):_;(d=i(f,x,d,r))>-1;)f!==e&&Jt.call(f,d,1),Jt.call(e,d,1);return e}function Io(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==a){var a=i;fn(i)?Jt.call(e,i,1):Ei(e,i)}}return e}function Ai(e,n){return e+nr(uo()*(n-e+1))}function _c(e,n,t,r){for(var i=-1,a=he(er((n-e)/(t||1)),0),l=p(a);a--;)l[r?a:++i]=e,e+=t;return l}function bi(e,n){var t="";if(!e||n<1||n>Pn)return t;do n%2&&(t+=e),n=nr(n/2),n&&(e+=e);while(n);return t}function k(e,n){return Hi(ta(e,n,ye),e+"")}function xc(e){return so(Jn(e))}function wc(e,n){var t=Jn(e);return _r(t,Nn(n,0,t.length))}function _t(e,n,t,r){if(!te(e))return e;n=Rn(n,e);for(var i=-1,a=n.length,l=a-1,f=e;f!=null&&++i<a;){var d=nn(n[i]),_=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=l){var x=f[d];_=r?r(x,d,f):u,_===u&&(_=te(x)?x:fn(n[i+1])?[]:{})}pt(f,d,_),f=f[d]}return e}var Eo=tr?function(e,n){return tr.set(e,n),e}:ye,Sc=Qt?function(e,n){return Qt(e,"toString",{configurable:!0,enumerable:!1,value:Ji(n),writable:!0})}:ye;function Cc(e){return _r(Jn(e))}function Ve(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var a=p(i);++r<i;)a[r]=e[r+n];return a}function Rc(e,n){var t;return Sn(e,function(r,i,a){return t=n(r,i,a),!t}),!!t}function lr(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=As){for(;r<i;){var a=r+i>>>1,l=e[a];l!==null&&!Fe(l)&&(t?l<=n:l<n)?r=a+1:i=a}return i}return Ii(e,n,ye,t)}function Ii(e,n,t,r){var i=0,a=e==null?0:e.length;if(a===0)return 0;n=t(n);for(var l=n!==n,f=n===null,d=Fe(n),_=n===u;i<a;){var x=nr((i+a)/2),w=t(e[x]),A=w!==u,T=w===null,L=w===w,D=Fe(w);if(l)var O=r||L;else _?O=L&&(r||A):f?O=L&&A&&(r||!T):d?O=L&&A&&!T&&(r||!D):T||D?O=!1:O=r?w<=n:w<n;O?i=x+1:a=x}return we(a,Rs)}function To(e,n){for(var t=-1,r=e.length,i=0,a=[];++t<r;){var l=e[t],f=n?n(l):l;if(!t||!Ye(f,d)){var d=f;a[i++]=l===0?0:l}}return a}function yo(e){return typeof e=="number"?e:Fe(e)?Bt:+e}function Oe(e){if(typeof e=="string")return e;if(B(e))return ne(e,Oe)+"";if(Fe(e))return oo?oo.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function Cn(e,n,t){var r=-1,i=Ht,a=e.length,l=!0,f=[],d=f;if(t)l=!1,i=ni;else if(a>=S){var _=n?null:Bc(e);if(_)return $t(_);l=!1,i=st,d=new yn}else d=n?[]:f;e:for(;++r<a;){var x=e[r],w=n?n(x):x;if(x=t||x!==0?x:0,l&&w===w){for(var A=d.length;A--;)if(d[A]===w)continue e;n&&d.push(w),f.push(x)}else i(d,w,t)||(d!==f&&d.push(w),f.push(x))}return f}function Ei(e,n){return n=Rn(n,e),e=ra(e,n),e==null||delete e[nn($e(n))]}function No(e,n,t,r){return _t(e,n,t(Ln(e,n)),r)}function fr(e,n,t,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&n(e[a],a,e););return t?Ve(e,r?0:a,r?a+1:i):Ve(e,r?a+1:0,r?i:a)}function Lo(e,n){var t=e;return t instanceof U&&(t=t.value()),ti(n,function(r,i){return i.func.apply(i.thisArg,_n([r],i.args))},t)}function Ti(e,n,t){var r=e.length;if(r<2)return r?Cn(e[0]):[];for(var i=-1,a=p(r);++i<r;)for(var l=e[i],f=-1;++f<r;)f!=i&&(a[i]=gt(a[i]||l,e[f],n,t));return Cn(_e(a,1),n,t)}function Oo(e,n,t){for(var r=-1,i=e.length,a=n.length,l={};++r<i;){var f=r<a?n[r]:u;t(l,e[r],f)}return l}function yi(e){return ae(e)?e:[]}function Ni(e){return typeof e=="function"?e:ye}function Rn(e,n){return B(e)?e:Wi(e,n)?[e]:aa(q(e))}var Ac=k;function An(e,n,t){var r=e.length;return t=t===u?r:t,!n&&t>=r?e:Ve(e,n,t)}var Fo=cf||function(e){return me.clearTimeout(e)};function Bo(e,n){if(n)return e.slice();var t=e.length,r=eo?eo(t):new e.constructor(t);return e.copy(r),r}function Li(e){var n=new e.constructor(e.byteLength);return new Yt(n).set(new Yt(e)),n}function bc(e,n){var t=n?Li(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Ic(e){var n=new e.constructor(e.source,vu.exec(e));return n.lastIndex=e.lastIndex,n}function Ec(e){return ht?Z(ht.call(e)):{}}function Mo(e,n){var t=n?Li(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Po(e,n){if(e!==n){var t=e!==u,r=e===null,i=e===e,a=Fe(e),l=n!==u,f=n===null,d=n===n,_=Fe(n);if(!f&&!_&&!a&&e>n||a&&l&&d&&!f&&!_||r&&l&&d||!t&&d||!i)return 1;if(!r&&!a&&!_&&e<n||_&&t&&i&&!r&&!a||f&&t&&i||!l&&i||!d)return-1}return 0}function Tc(e,n,t){for(var r=-1,i=e.criteria,a=n.criteria,l=i.length,f=t.length;++r<l;){var d=Po(i[r],a[r]);if(d){if(r>=f)return d;var _=t[r];return d*(_=="desc"?-1:1)}}return e.index-n.index}function Do(e,n,t,r){for(var i=-1,a=e.length,l=t.length,f=-1,d=n.length,_=he(a-l,0),x=p(d+_),w=!r;++f<d;)x[f]=n[f];for(;++i<l;)(w||i<a)&&(x[t[i]]=e[i]);for(;_--;)x[f++]=e[i++];return x}function ko(e,n,t,r){for(var i=-1,a=e.length,l=-1,f=t.length,d=-1,_=n.length,x=he(a-f,0),w=p(x+_),A=!r;++i<x;)w[i]=e[i];for(var T=i;++d<_;)w[T+d]=n[d];for(;++l<f;)(A||i<a)&&(w[T+t[l]]=e[i++]);return w}function Ie(e,n){var t=-1,r=e.length;for(n||(n=p(r));++t<r;)n[t]=e[t];return n}function en(e,n,t,r){var i=!t;t||(t={});for(var a=-1,l=n.length;++a<l;){var f=n[a],d=r?r(t[f],e[f],f,t,e):u;d===u&&(d=e[f]),i?an(t,f,d):pt(t,f,d)}return t}function yc(e,n){return en(e,ki(e),n)}function Nc(e,n){return en(e,Zo(e),n)}function cr(e,n){return function(t,r){var i=B(t)?Bl:Jf,a=n?n():{};return i(t,e,N(r,2),a)}}function jn(e){return k(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:u,l=i>2?t[2]:u;for(a=e.length>3&&typeof a=="function"?(i--,a):u,l&&Re(t[0],t[1],l)&&(a=i<3?u:a,i=1),n=Z(n);++r<i;){var f=t[r];f&&e(n,f,r,a)}return n})}function Wo(e,n){return function(t,r){if(t==null)return t;if(!Ee(t))return e(t,r);for(var i=t.length,a=n?i:-1,l=Z(t);(n?a--:++a<i)&&r(l[a],a,l)!==!1;);return t}}function Uo(e){return function(n,t,r){for(var i=-1,a=Z(n),l=r(n),f=l.length;f--;){var d=l[e?f:++i];if(t(a[d],d,a)===!1)break}return n}}function Lc(e,n,t){var r=n&X,i=xt(e);function a(){var l=this&&this!==me&&this instanceof a?i:e;return l.apply(r?t:this,arguments)}return a}function Go(e){return function(n){n=q(n);var t=Gn(n)?je(n):u,r=t?t[0]:n.charAt(0),i=t?An(t,1).join(""):n.slice(1);return r[e]()+i}}function Xn(e){return function(n){return ti(Wa(ka(n).replace(wl,"")),e,"")}}function xt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=qn(e.prototype),r=e.apply(t,n);return te(r)?r:t}}function Oc(e,n,t){var r=xt(e);function i(){for(var a=arguments.length,l=p(a),f=a,d=Yn(i);f--;)l[f]=arguments[f];var _=a<3&&l[0]!==d&&l[a-1]!==d?[]:xn(l,d);if(a-=_.length,a<t)return Ko(e,n,dr,i.placeholder,u,l,_,u,u,t-a);var x=this&&this!==me&&this instanceof i?r:e;return Ne(x,this,l)}return i}function Ho(e){return function(n,t,r){var i=Z(n);if(!Ee(n)){var a=N(t,3);n=pe(n),t=function(f){return a(i[f],f,i)}}var l=e(n,t,r);return l>-1?i[a?n[l]:l]:u}}function Vo(e){return ln(function(n){var t=n.length,r=t,i=Ge.prototype.thru;for(e&&n.reverse();r--;){var a=n[r];if(typeof a!="function")throw new Ue(I);if(i&&!l&&vr(a)=="wrapper")var l=new Ge([],!0)}for(r=l?r:t;++r<t;){a=n[r];var f=vr(a),d=f=="wrapper"?Pi(a):u;d&&Ui(d[0])&&d[1]==(De|ce|be|vn)&&!d[4].length&&d[9]==1?l=l[vr(d[0])].apply(l,d[3]):l=a.length==1&&Ui(a)?l[f]():l.thru(a)}return function(){var _=arguments,x=_[0];if(l&&_.length==1&&B(x))return l.plant(x).value();for(var w=0,A=t?n[w].apply(this,_):x;++w<t;)A=n[w].call(this,A);return A}})}function dr(e,n,t,r,i,a,l,f,d,_){var x=n&De,w=n&X,A=n&Q,T=n&(ce|xe),L=n&Mn,D=A?u:xt(e);function O(){for(var W=arguments.length,G=p(W),Be=W;Be--;)G[Be]=arguments[Be];if(T)var Ae=Yn(O),Me=Vl(G,Ae);if(r&&(G=Do(G,r,i,T)),a&&(G=ko(G,a,l,T)),W-=Me,T&&W<_){var se=xn(G,Ae);return Ko(e,n,dr,O.placeholder,t,G,se,f,d,_-W)}var Ze=w?t:this,hn=A?Ze[e]:e;return W=G.length,f?G=Jc(G,f):L&&W>1&&G.reverse(),x&&d<W&&(G.length=d),this&&this!==me&&this instanceof O&&(hn=D||xt(hn)),hn.apply(Ze,G)}return O}function $o(e,n){return function(t,r){return oc(t,e,n(r),{})}}function hr(e,n){return function(t,r){var i;if(t===u&&r===u)return n;if(t!==u&&(i=t),r!==u){if(i===u)return r;typeof t=="string"||typeof r=="string"?(t=Oe(t),r=Oe(r)):(t=yo(t),r=yo(r)),i=e(t,r)}return i}}function Oi(e){return ln(function(n){return n=ne(n,Le(N())),k(function(t){var r=this;return e(n,function(i){return Ne(i,r,t)})})})}function pr(e,n){n=n===u?" ":Oe(n);var t=n.length;if(t<2)return t?bi(n,e):n;var r=bi(n,er(e/Hn(n)));return Gn(n)?An(je(r),0,e).join(""):r.slice(0,e)}function Fc(e,n,t,r){var i=n&X,a=xt(e);function l(){for(var f=-1,d=arguments.length,_=-1,x=r.length,w=p(x+d),A=this&&this!==me&&this instanceof l?a:e;++_<x;)w[_]=r[_];for(;d--;)w[_++]=arguments[++f];return Ne(A,i?t:this,w)}return l}function zo(e){return function(n,t,r){return r&&typeof r!="number"&&Re(n,t,r)&&(t=r=u),n=dn(n),t===u?(t=n,n=0):t=dn(t),r=r===u?n<t?1:-1:dn(r),_c(n,t,r,e)}}function gr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=ze(n),t=ze(t)),e(n,t)}}function Ko(e,n,t,r,i,a,l,f,d,_){var x=n&ce,w=x?l:u,A=x?u:l,T=x?a:u,L=x?u:a;n|=x?be:re,n&=~(x?re:be),n&ve||(n&=-4);var D=[e,n,i,T,w,L,A,f,d,_],O=t.apply(u,D);return Ui(e)&&ia(O,D),O.placeholder=r,ua(O,e,n)}function Fi(e){var n=de[e];return function(t,r){if(t=ze(t),r=r==null?0:we(M(r),292),r&&io(t)){var i=(q(t)+"e").split("e"),a=n(i[0]+"e"+(+i[1]+r));return i=(q(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var Bc=zn&&1/$t(new zn([,-0]))[1]==Ft?function(e){return new zn(e)}:nu;function qo(e){return function(n){var t=Se(n);return t==Ke?li(n):t==qe?Yl(n):Hl(n,e(n))}}function sn(e,n,t,r,i,a,l,f){var d=n&Q;if(!d&&typeof e!="function")throw new Ue(I);var _=r?r.length:0;if(_||(n&=-97,r=i=u),l=l===u?l:he(M(l),0),f=f===u?f:M(f),_-=i?i.length:0,n&re){var x=r,w=i;r=i=u}var A=d?u:Pi(e),T=[e,n,t,r,i,x,w,a,l,f];if(A&&Xc(T,A),e=T[0],n=T[1],t=T[2],r=T[3],i=T[4],f=T[9]=T[9]===u?d?0:e.length:he(T[9]-_,0),!f&&n&(ce|xe)&&(n&=-25),!n||n==X)var L=Lc(e,n,t);else n==ce||n==xe?L=Oc(e,n,f):(n==be||n==(X|be))&&!i.length?L=Fc(e,n,t,r):L=dr.apply(u,T);var D=A?Eo:ia;return ua(D(L,T),e,n)}function jo(e,n,t,r){return e===u||Ye(e,$n[t])&&!j.call(r,t)?n:e}function Xo(e,n,t,r,i,a){return te(e)&&te(n)&&(a.set(n,e),sr(e,n,u,Xo,a),a.delete(n)),e}function Mc(e){return Ct(e)?u:e}function Yo(e,n,t,r,i,a){var l=t&Y,f=e.length,d=n.length;if(f!=d&&!(l&&d>f))return!1;var _=a.get(e),x=a.get(n);if(_&&x)return _==n&&x==e;var w=-1,A=!0,T=t&fe?new yn:u;for(a.set(e,n),a.set(n,e);++w<f;){var L=e[w],D=n[w];if(r)var O=l?r(D,L,w,n,e,a):r(L,D,w,e,n,a);if(O!==u){if(O)continue;A=!1;break}if(T){if(!ri(n,function(W,G){if(!st(T,G)&&(L===W||i(L,W,t,r,a)))return T.push(G)})){A=!1;break}}else if(!(L===D||i(L,D,t,r,a))){A=!1;break}}return a.delete(e),a.delete(n),A}function Pc(e,n,t,r,i,a,l){switch(t){case kn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case at:return!(e.byteLength!=n.byteLength||!a(new Yt(e),new Yt(n)));case nt:case tt:case rt:return Ye(+e,+n);case Pt:return e.name==n.name&&e.message==n.message;case it:case ut:return e==n+"";case Ke:var f=li;case qe:var d=r&Y;if(f||(f=$t),e.size!=n.size&&!d)return!1;var _=l.get(e);if(_)return _==n;r|=fe,l.set(e,n);var x=Yo(f(e),f(n),r,i,a,l);return l.delete(e),x;case kt:if(ht)return ht.call(e)==ht.call(n)}return!1}function Dc(e,n,t,r,i,a){var l=t&Y,f=Bi(e),d=f.length,_=Bi(n),x=_.length;if(d!=x&&!l)return!1;for(var w=d;w--;){var A=f[w];if(!(l?A in n:j.call(n,A)))return!1}var T=a.get(e),L=a.get(n);if(T&&L)return T==n&&L==e;var D=!0;a.set(e,n),a.set(n,e);for(var O=l;++w<d;){A=f[w];var W=e[A],G=n[A];if(r)var Be=l?r(G,W,A,n,e,a):r(W,G,A,e,n,a);if(!(Be===u?W===G||i(W,G,t,r,a):Be)){D=!1;break}O||(O=A=="constructor")}if(D&&!O){var Ae=e.constructor,Me=n.constructor;Ae!=Me&&"constructor"in e&&"constructor"in n&&!(typeof Ae=="function"&&Ae instanceof Ae&&typeof Me=="function"&&Me instanceof Me)&&(D=!1)}return a.delete(e),a.delete(n),D}function ln(e){return Hi(ta(e,u,ca),e+"")}function Bi(e){return vo(e,pe,ki)}function Mi(e){return vo(e,Te,Zo)}var Pi=tr?function(e){return tr.get(e)}:nu;function vr(e){for(var n=e.name+"",t=Kn[n],r=j.call(Kn,n)?t.length:0;r--;){var i=t[r],a=i.func;if(a==null||a==e)return i.name}return n}function Yn(e){var n=j.call(o,"placeholder")?o:e;return n.placeholder}function N(){var e=o.iteratee||Qi;return e=e===Qi?xo:e,arguments.length?e(arguments[0],arguments[1]):e}function mr(e,n){var t=e.__data__;return zc(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Di(e){for(var n=pe(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,ea(i)]}return n}function On(e,n){var t=ql(e,n);return _o(t)?t:u}function kc(e){var n=j.call(e,En),t=e[En];try{e[En]=u;var r=!0}catch{}var i=jt.call(e);return r&&(n?e[En]=t:delete e[En]),i}var ki=ci?function(e){return e==null?[]:(e=Z(e),mn(ci(e),function(n){return to.call(e,n)}))}:tu,Zo=ci?function(e){for(var n=[];e;)_n(n,ki(e)),e=Zt(e);return n}:tu,Se=Ce;(di&&Se(new di(new ArrayBuffer(1)))!=kn||ft&&Se(new ft)!=Ke||hi&&Se(hi.resolve())!=du||zn&&Se(new zn)!=qe||ct&&Se(new ct)!=ot)&&(Se=function(e){var n=Ce(e),t=n==rn?e.constructor:u,r=t?Fn(t):"";if(r)switch(r){case wf:return kn;case Sf:return Ke;case Cf:return du;case Rf:return qe;case Af:return ot}return n});function Wc(e,n,t){for(var r=-1,i=t.length;++r<i;){var a=t[r],l=a.size;switch(a.type){case"drop":e+=l;break;case"dropRight":n-=l;break;case"take":n=we(n,e+l);break;case"takeRight":e=he(e,n-l);break}}return{start:e,end:n}}function Uc(e){var n=e.match(zs);return n?n[1].split(Ks):[]}function Jo(e,n,t){n=Rn(n,e);for(var r=-1,i=n.length,a=!1;++r<i;){var l=nn(n[r]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Ar(i)&&fn(l,i)&&(B(e)||Bn(e)))}function Gc(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&j.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Qo(e){return typeof e.constructor=="function"&&!wt(e)?qn(Zt(e)):{}}function Hc(e,n,t){var r=e.constructor;switch(n){case at:return Li(e);case nt:case tt:return new r(+e);case kn:return bc(e,t);case Dr:case kr:case Wr:case Ur:case Gr:case Hr:case Vr:case $r:case zr:return Mo(e,t);case Ke:return new r;case rt:case ut:return new r(e);case it:return Ic(e);case qe:return new r;case kt:return Ec(e)}}function Vc(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace($s,`{
/* [wrapped with `+n+`] */
`)}function $c(e){return B(e)||Bn(e)||!!(ro&&e&&e[ro])}function fn(e,n){var t=typeof e;return n=n??Pn,!!n&&(t=="number"||t!="symbol"&&nl.test(e))&&e>-1&&e%1==0&&e<n}function Re(e,n,t){if(!te(t))return!1;var r=typeof n;return(r=="number"?Ee(t)&&fn(n,t.length):r=="string"&&n in t)?Ye(t[n],e):!1}function Wi(e,n){if(B(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Fe(e)?!0:Us.test(e)||!Ws.test(e)||n!=null&&e in Z(n)}function zc(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Ui(e){var n=vr(e),t=o[n];if(typeof t!="function"||!(n in U.prototype))return!1;if(e===t)return!0;var r=Pi(t);return!!r&&e===r[0]}function Kc(e){return!!Qu&&Qu in e}var qc=Kt?cn:ru;function wt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||$n;return e===t}function ea(e){return e===e&&!te(e)}function na(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==u||e in Z(t))}}function jc(e){var n=Cr(e,function(r){return t.size===E&&t.clear(),r}),t=n.cache;return n}function Xc(e,n){var t=e[1],r=n[1],i=t|r,a=i<(X|Q|De),l=r==De&&t==ce||r==De&&t==vn&&e[7].length<=n[8]||r==(De|vn)&&n[7].length<=n[8]&&t==ce;if(!(a||l))return e;r&X&&(e[2]=n[2],i|=t&X?0:ve);var f=n[3];if(f){var d=e[3];e[3]=d?Do(d,f,n[4]):f,e[4]=d?xn(e[3],P):n[4]}return f=n[5],f&&(d=e[5],e[5]=d?ko(d,f,n[6]):f,e[6]=d?xn(e[5],P):n[6]),f=n[7],f&&(e[7]=f),r&De&&(e[8]=e[8]==null?n[8]:we(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function Yc(e){var n=[];if(e!=null)for(var t in Z(e))n.push(t);return n}function Zc(e){return jt.call(e)}function ta(e,n,t){return n=he(n===u?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=he(r.length-n,0),l=p(a);++i<a;)l[i]=r[n+i];i=-1;for(var f=p(n+1);++i<n;)f[i]=r[i];return f[n]=t(l),Ne(e,this,f)}}function ra(e,n){return n.length<2?e:Ln(e,Ve(n,0,-1))}function Jc(e,n){for(var t=e.length,r=we(n.length,t),i=Ie(e);r--;){var a=n[r];e[r]=fn(a,t)?i[a]:u}return e}function Gi(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var ia=oa(Eo),St=hf||function(e,n){return me.setTimeout(e,n)},Hi=oa(Sc);function ua(e,n,t){var r=n+"";return Hi(e,Vc(r,Qc(Uc(r),t)))}function oa(e){var n=0,t=0;return function(){var r=mf(),i=xs-(r-t);if(t=r,i>0){if(++n>=_s)return arguments[0]}else n=0;return e.apply(u,arguments)}}function _r(e,n){var t=-1,r=e.length,i=r-1;for(n=n===u?r:n;++t<n;){var a=Ai(t,i),l=e[a];e[a]=e[t],e[t]=l}return e.length=n,e}var aa=jc(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Gs,function(t,r,i,a){n.push(i?a.replace(Xs,"$1"):r||t)}),n});function nn(e){if(typeof e=="string"||Fe(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function Fn(e){if(e!=null){try{return qt.call(e)}catch{}try{return e+""}catch{}}return""}function Qc(e,n){return We(bs,function(t){var r="_."+t[0];n&t[1]&&!Ht(e,r)&&e.push(r)}),e.sort()}function sa(e){if(e instanceof U)return e.clone();var n=new Ge(e.__wrapped__,e.__chain__);return n.__actions__=Ie(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function ed(e,n,t){(t?Re(e,n,t):n===u)?n=1:n=he(M(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,a=0,l=p(er(r/n));i<r;)l[a++]=Ve(e,i,i+=n);return l}function nd(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var a=e[n];a&&(i[r++]=a)}return i}function td(){var e=arguments.length;if(!e)return[];for(var n=p(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return _n(B(t)?Ie(t):[t],_e(n,1))}var rd=k(function(e,n){return ae(e)?gt(e,_e(n,1,ae,!0)):[]}),id=k(function(e,n){var t=$e(n);return ae(t)&&(t=u),ae(e)?gt(e,_e(n,1,ae,!0),N(t,2)):[]}),ud=k(function(e,n){var t=$e(n);return ae(t)&&(t=u),ae(e)?gt(e,_e(n,1,ae,!0),u,t):[]});function od(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:M(n),Ve(e,n<0?0:n,r)):[]}function ad(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:M(n),n=r-n,Ve(e,0,n<0?0:n)):[]}function sd(e,n){return e&&e.length?fr(e,N(n,3),!0,!0):[]}function ld(e,n){return e&&e.length?fr(e,N(n,3),!0):[]}function fd(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&Re(e,n,t)&&(t=0,r=i),tc(e,n,t,r)):[]}function la(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:M(t);return i<0&&(i=he(r+i,0)),Vt(e,N(n,3),i)}function fa(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==u&&(i=M(t),i=t<0?he(r+i,0):we(i,r-1)),Vt(e,N(n,3),i,!0)}function ca(e){var n=e==null?0:e.length;return n?_e(e,1):[]}function cd(e){var n=e==null?0:e.length;return n?_e(e,Ft):[]}function dd(e,n){var t=e==null?0:e.length;return t?(n=n===u?1:M(n),_e(e,n)):[]}function hd(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function da(e){return e&&e.length?e[0]:u}function pd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:M(t);return i<0&&(i=he(r+i,0)),Un(e,n,i)}function gd(e){var n=e==null?0:e.length;return n?Ve(e,0,-1):[]}var vd=k(function(e){var n=ne(e,yi);return n.length&&n[0]===e[0]?xi(n):[]}),md=k(function(e){var n=$e(e),t=ne(e,yi);return n===$e(t)?n=u:t.pop(),t.length&&t[0]===e[0]?xi(t,N(n,2)):[]}),_d=k(function(e){var n=$e(e),t=ne(e,yi);return n=typeof n=="function"?n:u,n&&t.pop(),t.length&&t[0]===e[0]?xi(t,u,n):[]});function xd(e,n){return e==null?"":gf.call(e,n)}function $e(e){var n=e==null?0:e.length;return n?e[n-1]:u}function wd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==u&&(i=M(t),i=i<0?he(r+i,0):we(i,r-1)),n===n?Jl(e,n,i):Vt(e,zu,i,!0)}function Sd(e,n){return e&&e.length?Ro(e,M(n)):u}var Cd=k(ha);function ha(e,n){return e&&e.length&&n&&n.length?Ri(e,n):e}function Rd(e,n,t){return e&&e.length&&n&&n.length?Ri(e,n,N(t,2)):e}function Ad(e,n,t){return e&&e.length&&n&&n.length?Ri(e,n,u,t):e}var bd=ln(function(e,n){var t=e==null?0:e.length,r=gi(e,n);return Io(e,ne(n,function(i){return fn(i,t)?+i:i}).sort(Po)),r});function Id(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],a=e.length;for(n=N(n,3);++r<a;){var l=e[r];n(l,r,e)&&(t.push(l),i.push(r))}return Io(e,i),t}function Vi(e){return e==null?e:xf.call(e)}function Ed(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&Re(e,n,t)?(n=0,t=r):(n=n==null?0:M(n),t=t===u?r:M(t)),Ve(e,n,t)):[]}function Td(e,n){return lr(e,n)}function yd(e,n,t){return Ii(e,n,N(t,2))}function Nd(e,n){var t=e==null?0:e.length;if(t){var r=lr(e,n);if(r<t&&Ye(e[r],n))return r}return-1}function Ld(e,n){return lr(e,n,!0)}function Od(e,n,t){return Ii(e,n,N(t,2),!0)}function Fd(e,n){var t=e==null?0:e.length;if(t){var r=lr(e,n,!0)-1;if(Ye(e[r],n))return r}return-1}function Bd(e){return e&&e.length?To(e):[]}function Md(e,n){return e&&e.length?To(e,N(n,2)):[]}function Pd(e){var n=e==null?0:e.length;return n?Ve(e,1,n):[]}function Dd(e,n,t){return e&&e.length?(n=t||n===u?1:M(n),Ve(e,0,n<0?0:n)):[]}function kd(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===u?1:M(n),n=r-n,Ve(e,n<0?0:n,r)):[]}function Wd(e,n){return e&&e.length?fr(e,N(n,3),!1,!0):[]}function Ud(e,n){return e&&e.length?fr(e,N(n,3)):[]}var Gd=k(function(e){return Cn(_e(e,1,ae,!0))}),Hd=k(function(e){var n=$e(e);return ae(n)&&(n=u),Cn(_e(e,1,ae,!0),N(n,2))}),Vd=k(function(e){var n=$e(e);return n=typeof n=="function"?n:u,Cn(_e(e,1,ae,!0),u,n)});function $d(e){return e&&e.length?Cn(e):[]}function zd(e,n){return e&&e.length?Cn(e,N(n,2)):[]}function Kd(e,n){return n=typeof n=="function"?n:u,e&&e.length?Cn(e,u,n):[]}function $i(e){if(!(e&&e.length))return[];var n=0;return e=mn(e,function(t){if(ae(t))return n=he(t.length,n),!0}),ai(n,function(t){return ne(e,ii(t))})}function pa(e,n){if(!(e&&e.length))return[];var t=$i(e);return n==null?t:ne(t,function(r){return Ne(n,u,r)})}var qd=k(function(e,n){return ae(e)?gt(e,n):[]}),jd=k(function(e){return Ti(mn(e,ae))}),Xd=k(function(e){var n=$e(e);return ae(n)&&(n=u),Ti(mn(e,ae),N(n,2))}),Yd=k(function(e){var n=$e(e);return n=typeof n=="function"?n:u,Ti(mn(e,ae),u,n)}),Zd=k($i);function Jd(e,n){return Oo(e||[],n||[],pt)}function Qd(e,n){return Oo(e||[],n||[],_t)}var eh=k(function(e){var n=e.length,t=n>1?e[n-1]:u;return t=typeof t=="function"?(e.pop(),t):u,pa(e,t)});function ga(e){var n=o(e);return n.__chain__=!0,n}function nh(e,n){return n(e),e}function xr(e,n){return n(e)}var th=ln(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(a){return gi(a,e)};return n>1||this.__actions__.length||!(r instanceof U)||!fn(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:xr,args:[i],thisArg:u}),new Ge(r,this.__chain__).thru(function(a){return n&&!a.length&&a.push(u),a}))});function rh(){return ga(this)}function ih(){return new Ge(this.value(),this.__chain__)}function uh(){this.__values__===u&&(this.__values__=ya(this.value()));var e=this.__index__>=this.__values__.length,n=e?u:this.__values__[this.__index__++];return{done:e,value:n}}function oh(){return this}function ah(e){for(var n,t=this;t instanceof ir;){var r=sa(t);r.__index__=0,r.__values__=u,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function sh(){var e=this.__wrapped__;if(e instanceof U){var n=e;return this.__actions__.length&&(n=new U(this)),n=n.reverse(),n.__actions__.push({func:xr,args:[Vi],thisArg:u}),new Ge(n,this.__chain__)}return this.thru(Vi)}function lh(){return Lo(this.__wrapped__,this.__actions__)}var fh=cr(function(e,n,t){j.call(e,t)?++e[t]:an(e,t,1)});function ch(e,n,t){var r=B(e)?Vu:nc;return t&&Re(e,n,t)&&(n=u),r(e,N(n,3))}function dh(e,n){var t=B(e)?mn:po;return t(e,N(n,3))}var hh=Ho(la),ph=Ho(fa);function gh(e,n){return _e(wr(e,n),1)}function vh(e,n){return _e(wr(e,n),Ft)}function mh(e,n,t){return t=t===u?1:M(t),_e(wr(e,n),t)}function va(e,n){var t=B(e)?We:Sn;return t(e,N(n,3))}function ma(e,n){var t=B(e)?Ml:ho;return t(e,N(n,3))}var _h=cr(function(e,n,t){j.call(e,t)?e[t].push(n):an(e,t,[n])});function xh(e,n,t,r){e=Ee(e)?e:Jn(e),t=t&&!r?M(t):0;var i=e.length;return t<0&&(t=he(i+t,0)),br(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&Un(e,n,t)>-1}var wh=k(function(e,n,t){var r=-1,i=typeof n=="function",a=Ee(e)?p(e.length):[];return Sn(e,function(l){a[++r]=i?Ne(n,l,t):vt(l,n,t)}),a}),Sh=cr(function(e,n,t){an(e,t,n)});function wr(e,n){var t=B(e)?ne:wo;return t(e,N(n,3))}function Ch(e,n,t,r){return e==null?[]:(B(n)||(n=n==null?[]:[n]),t=r?u:t,B(t)||(t=t==null?[]:[t]),Ao(e,n,t))}var Rh=cr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Ah(e,n,t){var r=B(e)?ti:qu,i=arguments.length<3;return r(e,N(n,4),t,i,Sn)}function bh(e,n,t){var r=B(e)?Pl:qu,i=arguments.length<3;return r(e,N(n,4),t,i,ho)}function Ih(e,n){var t=B(e)?mn:po;return t(e,Rr(N(n,3)))}function Eh(e){var n=B(e)?so:xc;return n(e)}function Th(e,n,t){(t?Re(e,n,t):n===u)?n=1:n=M(n);var r=B(e)?Yf:wc;return r(e,n)}function yh(e){var n=B(e)?Zf:Cc;return n(e)}function Nh(e){if(e==null)return 0;if(Ee(e))return br(e)?Hn(e):e.length;var n=Se(e);return n==Ke||n==qe?e.size:Si(e).length}function Lh(e,n,t){var r=B(e)?ri:Rc;return t&&Re(e,n,t)&&(n=u),r(e,N(n,3))}var Oh=k(function(e,n){if(e==null)return[];var t=n.length;return t>1&&Re(e,n[0],n[1])?n=[]:t>2&&Re(n[0],n[1],n[2])&&(n=[n[0]]),Ao(e,_e(n,1),[])}),Sr=df||function(){return me.Date.now()};function Fh(e,n){if(typeof n!="function")throw new Ue(I);return e=M(e),function(){if(--e<1)return n.apply(this,arguments)}}function _a(e,n,t){return n=t?u:n,n=e&&n==null?e.length:n,sn(e,De,u,u,u,u,n)}function xa(e,n){var t;if(typeof n!="function")throw new Ue(I);return e=M(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=u),t}}var zi=k(function(e,n,t){var r=X;if(t.length){var i=xn(t,Yn(zi));r|=be}return sn(e,r,n,t,i)}),wa=k(function(e,n,t){var r=X|Q;if(t.length){var i=xn(t,Yn(wa));r|=be}return sn(n,r,e,t,i)});function Sa(e,n,t){n=t?u:n;var r=sn(e,ce,u,u,u,u,u,n);return r.placeholder=Sa.placeholder,r}function Ca(e,n,t){n=t?u:n;var r=sn(e,xe,u,u,u,u,u,n);return r.placeholder=Ca.placeholder,r}function Ra(e,n,t){var r,i,a,l,f,d,_=0,x=!1,w=!1,A=!0;if(typeof e!="function")throw new Ue(I);n=ze(n)||0,te(t)&&(x=!!t.leading,w="maxWait"in t,a=w?he(ze(t.maxWait)||0,n):a,A="trailing"in t?!!t.trailing:A);function T(se){var Ze=r,hn=i;return r=i=u,_=se,l=e.apply(hn,Ze),l}function L(se){return _=se,f=St(W,n),x?T(se):l}function D(se){var Ze=se-d,hn=se-_,Ha=n-Ze;return w?we(Ha,a-hn):Ha}function O(se){var Ze=se-d,hn=se-_;return d===u||Ze>=n||Ze<0||w&&hn>=a}function W(){var se=Sr();if(O(se))return G(se);f=St(W,D(se))}function G(se){return f=u,A&&r?T(se):(r=i=u,l)}function Be(){f!==u&&Fo(f),_=0,r=d=i=f=u}function Ae(){return f===u?l:G(Sr())}function Me(){var se=Sr(),Ze=O(se);if(r=arguments,i=this,d=se,Ze){if(f===u)return L(d);if(w)return Fo(f),f=St(W,n),T(d)}return f===u&&(f=St(W,n)),l}return Me.cancel=Be,Me.flush=Ae,Me}var Bh=k(function(e,n){return co(e,1,n)}),Mh=k(function(e,n,t){return co(e,ze(n)||0,t)});function Ph(e){return sn(e,Mn)}function Cr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Ue(I);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var l=e.apply(this,r);return t.cache=a.set(i,l)||a,l};return t.cache=new(Cr.Cache||on),t}Cr.Cache=on;function Rr(e){if(typeof e!="function")throw new Ue(I);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Dh(e){return xa(2,e)}var kh=Ac(function(e,n){n=n.length==1&&B(n[0])?ne(n[0],Le(N())):ne(_e(n,1),Le(N()));var t=n.length;return k(function(r){for(var i=-1,a=we(r.length,t);++i<a;)r[i]=n[i].call(this,r[i]);return Ne(e,this,r)})}),Ki=k(function(e,n){var t=xn(n,Yn(Ki));return sn(e,be,u,n,t)}),Aa=k(function(e,n){var t=xn(n,Yn(Aa));return sn(e,re,u,n,t)}),Wh=ln(function(e,n){return sn(e,vn,u,u,u,n)});function Uh(e,n){if(typeof e!="function")throw new Ue(I);return n=n===u?n:M(n),k(e,n)}function Gh(e,n){if(typeof e!="function")throw new Ue(I);return n=n==null?0:he(M(n),0),k(function(t){var r=t[n],i=An(t,0,n);return r&&_n(i,r),Ne(e,this,i)})}function Hh(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new Ue(I);return te(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Ra(e,n,{leading:r,maxWait:n,trailing:i})}function Vh(e){return _a(e,1)}function $h(e,n){return Ki(Ni(n),e)}function zh(){if(!arguments.length)return[];var e=arguments[0];return B(e)?e:[e]}function Kh(e){return He(e,le)}function qh(e,n){return n=typeof n=="function"?n:u,He(e,le,n)}function jh(e){return He(e,H|le)}function Xh(e,n){return n=typeof n=="function"?n:u,He(e,H|le,n)}function Yh(e,n){return n==null||fo(e,n,pe(n))}function Ye(e,n){return e===n||e!==e&&n!==n}var Zh=gr(_i),Jh=gr(function(e,n){return e>=n}),Bn=mo(function(){return arguments}())?mo:function(e){return ie(e)&&j.call(e,"callee")&&!to.call(e,"callee")},B=p.isArray,Qh=Du?Le(Du):ac;function Ee(e){return e!=null&&Ar(e.length)&&!cn(e)}function ae(e){return ie(e)&&Ee(e)}function ep(e){return e===!0||e===!1||ie(e)&&Ce(e)==nt}var bn=pf||ru,np=ku?Le(ku):sc;function tp(e){return ie(e)&&e.nodeType===1&&!Ct(e)}function rp(e){if(e==null)return!0;if(Ee(e)&&(B(e)||typeof e=="string"||typeof e.splice=="function"||bn(e)||Zn(e)||Bn(e)))return!e.length;var n=Se(e);if(n==Ke||n==qe)return!e.size;if(wt(e))return!Si(e).length;for(var t in e)if(j.call(e,t))return!1;return!0}function ip(e,n){return mt(e,n)}function up(e,n,t){t=typeof t=="function"?t:u;var r=t?t(e,n):u;return r===u?mt(e,n,u,t):!!r}function qi(e){if(!ie(e))return!1;var n=Ce(e);return n==Pt||n==Es||typeof e.message=="string"&&typeof e.name=="string"&&!Ct(e)}function op(e){return typeof e=="number"&&io(e)}function cn(e){if(!te(e))return!1;var n=Ce(e);return n==Dt||n==cu||n==Is||n==ys}function ba(e){return typeof e=="number"&&e==M(e)}function Ar(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Pn}function te(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ie(e){return e!=null&&typeof e=="object"}var Ia=Wu?Le(Wu):fc;function ap(e,n){return e===n||wi(e,n,Di(n))}function sp(e,n,t){return t=typeof t=="function"?t:u,wi(e,n,Di(n),t)}function lp(e){return Ea(e)&&e!=+e}function fp(e){if(qc(e))throw new F(R);return _o(e)}function cp(e){return e===null}function dp(e){return e==null}function Ea(e){return typeof e=="number"||ie(e)&&Ce(e)==rt}function Ct(e){if(!ie(e)||Ce(e)!=rn)return!1;var n=Zt(e);if(n===null)return!0;var t=j.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&qt.call(t)==sf}var ji=Uu?Le(Uu):cc;function hp(e){return ba(e)&&e>=-9007199254740991&&e<=Pn}var Ta=Gu?Le(Gu):dc;function br(e){return typeof e=="string"||!B(e)&&ie(e)&&Ce(e)==ut}function Fe(e){return typeof e=="symbol"||ie(e)&&Ce(e)==kt}var Zn=Hu?Le(Hu):hc;function pp(e){return e===u}function gp(e){return ie(e)&&Se(e)==ot}function vp(e){return ie(e)&&Ce(e)==Ls}var mp=gr(Ci),_p=gr(function(e,n){return e<=n});function ya(e){if(!e)return[];if(Ee(e))return br(e)?je(e):Ie(e);if(lt&&e[lt])return Xl(e[lt]());var n=Se(e),t=n==Ke?li:n==qe?$t:Jn;return t(e)}function dn(e){if(!e)return e===0?e:0;if(e=ze(e),e===Ft||e===-1/0){var n=e<0?-1:1;return n*Cs}return e===e?e:0}function M(e){var n=dn(e),t=n%1;return n===n?t?n-t:n:0}function Na(e){return e?Nn(M(e),0,Je):0}function ze(e){if(typeof e=="number")return e;if(Fe(e))return Bt;if(te(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=te(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ju(e);var t=Js.test(e);return t||el.test(e)?Ol(e.slice(2),t?2:8):Zs.test(e)?Bt:+e}function La(e){return en(e,Te(e))}function xp(e){return e?Nn(M(e),-9007199254740991,Pn):e===0?e:0}function q(e){return e==null?"":Oe(e)}var wp=jn(function(e,n){if(wt(n)||Ee(n)){en(n,pe(n),e);return}for(var t in n)j.call(n,t)&&pt(e,t,n[t])}),Oa=jn(function(e,n){en(n,Te(n),e)}),Ir=jn(function(e,n,t,r){en(n,Te(n),e,r)}),Sp=jn(function(e,n,t,r){en(n,pe(n),e,r)}),Cp=ln(gi);function Rp(e,n){var t=qn(e);return n==null?t:lo(t,n)}var Ap=k(function(e,n){e=Z(e);var t=-1,r=n.length,i=r>2?n[2]:u;for(i&&Re(n[0],n[1],i)&&(r=1);++t<r;)for(var a=n[t],l=Te(a),f=-1,d=l.length;++f<d;){var _=l[f],x=e[_];(x===u||Ye(x,$n[_])&&!j.call(e,_))&&(e[_]=a[_])}return e}),bp=k(function(e){return e.push(u,Xo),Ne(Fa,u,e)});function Ip(e,n){return $u(e,N(n,3),Qe)}function Ep(e,n){return $u(e,N(n,3),mi)}function Tp(e,n){return e==null?e:vi(e,N(n,3),Te)}function yp(e,n){return e==null?e:go(e,N(n,3),Te)}function Np(e,n){return e&&Qe(e,N(n,3))}function Lp(e,n){return e&&mi(e,N(n,3))}function Op(e){return e==null?[]:ar(e,pe(e))}function Fp(e){return e==null?[]:ar(e,Te(e))}function Xi(e,n,t){var r=e==null?u:Ln(e,n);return r===u?t:r}function Bp(e,n){return e!=null&&Jo(e,n,rc)}function Yi(e,n){return e!=null&&Jo(e,n,ic)}var Mp=$o(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=jt.call(n)),e[n]=t},Ji(ye)),Pp=$o(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=jt.call(n)),j.call(e,n)?e[n].push(t):e[n]=[t]},N),Dp=k(vt);function pe(e){return Ee(e)?ao(e):Si(e)}function Te(e){return Ee(e)?ao(e,!0):pc(e)}function kp(e,n){var t={};return n=N(n,3),Qe(e,function(r,i,a){an(t,n(r,i,a),r)}),t}function Wp(e,n){var t={};return n=N(n,3),Qe(e,function(r,i,a){an(t,i,n(r,i,a))}),t}var Up=jn(function(e,n,t){sr(e,n,t)}),Fa=jn(function(e,n,t,r){sr(e,n,t,r)}),Gp=ln(function(e,n){var t={};if(e==null)return t;var r=!1;n=ne(n,function(a){return a=Rn(a,e),r||(r=a.length>1),a}),en(e,Mi(e),t),r&&(t=He(t,H|K|le,Mc));for(var i=n.length;i--;)Ei(t,n[i]);return t});function Hp(e,n){return Ba(e,Rr(N(n)))}var Vp=ln(function(e,n){return e==null?{}:vc(e,n)});function Ba(e,n){if(e==null)return{};var t=ne(Mi(e),function(r){return[r]});return n=N(n),bo(e,t,function(r,i){return n(r,i[0])})}function $p(e,n,t){n=Rn(n,e);var r=-1,i=n.length;for(i||(i=1,e=u);++r<i;){var a=e==null?u:e[nn(n[r])];a===u&&(r=i,a=t),e=cn(a)?a.call(e):a}return e}function zp(e,n,t){return e==null?e:_t(e,n,t)}function Kp(e,n,t,r){return r=typeof r=="function"?r:u,e==null?e:_t(e,n,t,r)}var Ma=qo(pe),Pa=qo(Te);function qp(e,n,t){var r=B(e),i=r||bn(e)||Zn(e);if(n=N(n,4),t==null){var a=e&&e.constructor;i?t=r?new a:[]:te(e)?t=cn(a)?qn(Zt(e)):{}:t={}}return(i?We:Qe)(e,function(l,f,d){return n(t,l,f,d)}),t}function jp(e,n){return e==null?!0:Ei(e,n)}function Xp(e,n,t){return e==null?e:No(e,n,Ni(t))}function Yp(e,n,t,r){return r=typeof r=="function"?r:u,e==null?e:No(e,n,Ni(t),r)}function Jn(e){return e==null?[]:si(e,pe(e))}function Zp(e){return e==null?[]:si(e,Te(e))}function Jp(e,n,t){return t===u&&(t=n,n=u),t!==u&&(t=ze(t),t=t===t?t:0),n!==u&&(n=ze(n),n=n===n?n:0),Nn(ze(e),n,t)}function Qp(e,n,t){return n=dn(n),t===u?(t=n,n=0):t=dn(t),e=ze(e),uc(e,n,t)}function eg(e,n,t){if(t&&typeof t!="boolean"&&Re(e,n,t)&&(n=t=u),t===u&&(typeof n=="boolean"?(t=n,n=u):typeof e=="boolean"&&(t=e,e=u)),e===u&&n===u?(e=0,n=1):(e=dn(e),n===u?(n=e,e=0):n=dn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=uo();return we(e+i*(n-e+Ll("1e-"+((i+"").length-1))),n)}return Ai(e,n)}var ng=Xn(function(e,n,t){return n=n.toLowerCase(),e+(t?Da(n):n)});function Da(e){return Zi(q(e).toLowerCase())}function ka(e){return e=q(e),e&&e.replace(tl,$l).replace(Sl,"")}function tg(e,n,t){e=q(e),n=Oe(n);var r=e.length;t=t===u?r:Nn(M(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function rg(e){return e=q(e),e&&Ps.test(e)?e.replace(pu,zl):e}function ig(e){return e=q(e),e&&Hs.test(e)?e.replace(Kr,"\\$&"):e}var ug=Xn(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),og=Xn(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),ag=Go("toLowerCase");function sg(e,n,t){e=q(e),n=M(n);var r=n?Hn(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return pr(nr(i),t)+e+pr(er(i),t)}function lg(e,n,t){e=q(e),n=M(n);var r=n?Hn(e):0;return n&&r<n?e+pr(n-r,t):e}function fg(e,n,t){e=q(e),n=M(n);var r=n?Hn(e):0;return n&&r<n?pr(n-r,t)+e:e}function cg(e,n,t){return t||n==null?n=0:n&&(n=+n),_f(q(e).replace(qr,""),n||0)}function dg(e,n,t){return(t?Re(e,n,t):n===u)?n=1:n=M(n),bi(q(e),n)}function hg(){var e=arguments,n=q(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var pg=Xn(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function gg(e,n,t){return t&&typeof t!="number"&&Re(e,n,t)&&(n=t=u),t=t===u?Je:t>>>0,t?(e=q(e),e&&(typeof n=="string"||n!=null&&!ji(n))&&(n=Oe(n),!n&&Gn(e))?An(je(e),0,t):e.split(n,t)):[]}var vg=Xn(function(e,n,t){return e+(t?" ":"")+Zi(n)});function mg(e,n,t){return e=q(e),t=t==null?0:Nn(M(t),0,e.length),n=Oe(n),e.slice(t,t+n.length)==n}function _g(e,n,t){var r=o.templateSettings;t&&Re(e,n,t)&&(n=u),e=q(e),n=Ir({},n,r,jo);var i=Ir({},n.imports,r.imports,jo),a=pe(i),l=si(i,a),f,d,_=0,x=n.interpolate||Wt,w="__p += '",A=fi((n.escape||Wt).source+"|"+x.source+"|"+(x===gu?Ys:Wt).source+"|"+(n.evaluate||Wt).source+"|$","g"),T="//# sourceURL="+(j.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Il+"]")+`
`;e.replace(A,function(O,W,G,Be,Ae,Me){return G||(G=Be),w+=e.slice(_,Me).replace(rl,Kl),W&&(f=!0,w+=`' +
__e(`+W+`) +
'`),Ae&&(d=!0,w+=`';
`+Ae+`;
__p += '`),G&&(w+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),_=Me+O.length,O}),w+=`';
`;var L=j.call(n,"variable")&&n.variable;if(!L)w=`with (obj) {
`+w+`
}
`;else if(js.test(L))throw new F(C);w=(d?w.replace(Os,""):w).replace(Fs,"$1").replace(Bs,"$1;"),w="function("+(L||"obj")+`) {
`+(L?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var D=Ua(function(){return z(a,T+"return "+w).apply(u,l)});if(D.source=w,qi(D))throw D;return D}function xg(e){return q(e).toLowerCase()}function wg(e){return q(e).toUpperCase()}function Sg(e,n,t){if(e=q(e),e&&(t||n===u))return ju(e);if(!e||!(n=Oe(n)))return e;var r=je(e),i=je(n),a=Xu(r,i),l=Yu(r,i)+1;return An(r,a,l).join("")}function Cg(e,n,t){if(e=q(e),e&&(t||n===u))return e.slice(0,Ju(e)+1);if(!e||!(n=Oe(n)))return e;var r=je(e),i=Yu(r,je(n))+1;return An(r,0,i).join("")}function Rg(e,n,t){if(e=q(e),e&&(t||n===u))return e.replace(qr,"");if(!e||!(n=Oe(n)))return e;var r=je(e),i=Xu(r,je(n));return An(r,i).join("")}function Ag(e,n){var t=Lt,r=Ot;if(te(n)){var i="separator"in n?n.separator:i;t="length"in n?M(n.length):t,r="omission"in n?Oe(n.omission):r}e=q(e);var a=e.length;if(Gn(e)){var l=je(e);a=l.length}if(t>=a)return e;var f=t-Hn(r);if(f<1)return r;var d=l?An(l,0,f).join(""):e.slice(0,f);if(i===u)return d+r;if(l&&(f+=d.length-f),ji(i)){if(e.slice(f).search(i)){var _,x=d;for(i.global||(i=fi(i.source,q(vu.exec(i))+"g")),i.lastIndex=0;_=i.exec(x);)var w=_.index;d=d.slice(0,w===u?f:w)}}else if(e.indexOf(Oe(i),f)!=f){var A=d.lastIndexOf(i);A>-1&&(d=d.slice(0,A))}return d+r}function bg(e){return e=q(e),e&&Ms.test(e)?e.replace(hu,Ql):e}var Ig=Xn(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Zi=Go("toUpperCase");function Wa(e,n,t){return e=q(e),n=t?u:n,n===u?jl(e)?tf(e):Wl(e):e.match(n)||[]}var Ua=k(function(e,n){try{return Ne(e,u,n)}catch(t){return qi(t)?t:new F(t)}}),Eg=ln(function(e,n){return We(n,function(t){t=nn(t),an(e,t,zi(e[t],e))}),e});function Tg(e){var n=e==null?0:e.length,t=N();return e=n?ne(e,function(r){if(typeof r[1]!="function")throw new Ue(I);return[t(r[0]),r[1]]}):[],k(function(r){for(var i=-1;++i<n;){var a=e[i];if(Ne(a[0],this,r))return Ne(a[1],this,r)}})}function yg(e){return ec(He(e,H))}function Ji(e){return function(){return e}}function Ng(e,n){return e==null||e!==e?n:e}var Lg=Vo(),Og=Vo(!0);function ye(e){return e}function Qi(e){return xo(typeof e=="function"?e:He(e,H))}function Fg(e){return So(He(e,H))}function Bg(e,n){return Co(e,He(n,H))}var Mg=k(function(e,n){return function(t){return vt(t,e,n)}}),Pg=k(function(e,n){return function(t){return vt(e,t,n)}});function eu(e,n,t){var r=pe(n),i=ar(n,r);t==null&&!(te(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=ar(n,pe(n)));var a=!(te(t)&&"chain"in t)||!!t.chain,l=cn(e);return We(i,function(f){var d=n[f];e[f]=d,l&&(e.prototype[f]=function(){var _=this.__chain__;if(a||_){var x=e(this.__wrapped__),w=x.__actions__=Ie(this.__actions__);return w.push({func:d,args:arguments,thisArg:e}),x.__chain__=_,x}return d.apply(e,_n([this.value()],arguments))})}),e}function Dg(){return me._===this&&(me._=lf),this}function nu(){}function kg(e){return e=M(e),k(function(n){return Ro(n,e)})}var Wg=Oi(ne),Ug=Oi(Vu),Gg=Oi(ri);function Ga(e){return Wi(e)?ii(nn(e)):mc(e)}function Hg(e){return function(n){return e==null?u:Ln(e,n)}}var Vg=zo(),$g=zo(!0);function tu(){return[]}function ru(){return!1}function zg(){return{}}function Kg(){return""}function qg(){return!0}function jg(e,n){if(e=M(e),e<1||e>Pn)return[];var t=Je,r=we(e,Je);n=N(n),e-=Je;for(var i=ai(r,n);++t<e;)n(t);return i}function Xg(e){return B(e)?ne(e,nn):Fe(e)?[e]:Ie(aa(q(e)))}function Yg(e){var n=++af;return q(e)+n}var Zg=hr(function(e,n){return e+n},0),Jg=Fi("ceil"),Qg=hr(function(e,n){return e/n},1),ev=Fi("floor");function nv(e){return e&&e.length?or(e,ye,_i):u}function tv(e,n){return e&&e.length?or(e,N(n,2),_i):u}function rv(e){return Ku(e,ye)}function iv(e,n){return Ku(e,N(n,2))}function uv(e){return e&&e.length?or(e,ye,Ci):u}function ov(e,n){return e&&e.length?or(e,N(n,2),Ci):u}var av=hr(function(e,n){return e*n},1),sv=Fi("round"),lv=hr(function(e,n){return e-n},0);function fv(e){return e&&e.length?oi(e,ye):0}function cv(e,n){return e&&e.length?oi(e,N(n,2)):0}return o.after=Fh,o.ary=_a,o.assign=wp,o.assignIn=Oa,o.assignInWith=Ir,o.assignWith=Sp,o.at=Cp,o.before=xa,o.bind=zi,o.bindAll=Eg,o.bindKey=wa,o.castArray=zh,o.chain=ga,o.chunk=ed,o.compact=nd,o.concat=td,o.cond=Tg,o.conforms=yg,o.constant=Ji,o.countBy=fh,o.create=Rp,o.curry=Sa,o.curryRight=Ca,o.debounce=Ra,o.defaults=Ap,o.defaultsDeep=bp,o.defer=Bh,o.delay=Mh,o.difference=rd,o.differenceBy=id,o.differenceWith=ud,o.drop=od,o.dropRight=ad,o.dropRightWhile=sd,o.dropWhile=ld,o.fill=fd,o.filter=dh,o.flatMap=gh,o.flatMapDeep=vh,o.flatMapDepth=mh,o.flatten=ca,o.flattenDeep=cd,o.flattenDepth=dd,o.flip=Ph,o.flow=Lg,o.flowRight=Og,o.fromPairs=hd,o.functions=Op,o.functionsIn=Fp,o.groupBy=_h,o.initial=gd,o.intersection=vd,o.intersectionBy=md,o.intersectionWith=_d,o.invert=Mp,o.invertBy=Pp,o.invokeMap=wh,o.iteratee=Qi,o.keyBy=Sh,o.keys=pe,o.keysIn=Te,o.map=wr,o.mapKeys=kp,o.mapValues=Wp,o.matches=Fg,o.matchesProperty=Bg,o.memoize=Cr,o.merge=Up,o.mergeWith=Fa,o.method=Mg,o.methodOf=Pg,o.mixin=eu,o.negate=Rr,o.nthArg=kg,o.omit=Gp,o.omitBy=Hp,o.once=Dh,o.orderBy=Ch,o.over=Wg,o.overArgs=kh,o.overEvery=Ug,o.overSome=Gg,o.partial=Ki,o.partialRight=Aa,o.partition=Rh,o.pick=Vp,o.pickBy=Ba,o.property=Ga,o.propertyOf=Hg,o.pull=Cd,o.pullAll=ha,o.pullAllBy=Rd,o.pullAllWith=Ad,o.pullAt=bd,o.range=Vg,o.rangeRight=$g,o.rearg=Wh,o.reject=Ih,o.remove=Id,o.rest=Uh,o.reverse=Vi,o.sampleSize=Th,o.set=zp,o.setWith=Kp,o.shuffle=yh,o.slice=Ed,o.sortBy=Oh,o.sortedUniq=Bd,o.sortedUniqBy=Md,o.split=gg,o.spread=Gh,o.tail=Pd,o.take=Dd,o.takeRight=kd,o.takeRightWhile=Wd,o.takeWhile=Ud,o.tap=nh,o.throttle=Hh,o.thru=xr,o.toArray=ya,o.toPairs=Ma,o.toPairsIn=Pa,o.toPath=Xg,o.toPlainObject=La,o.transform=qp,o.unary=Vh,o.union=Gd,o.unionBy=Hd,o.unionWith=Vd,o.uniq=$d,o.uniqBy=zd,o.uniqWith=Kd,o.unset=jp,o.unzip=$i,o.unzipWith=pa,o.update=Xp,o.updateWith=Yp,o.values=Jn,o.valuesIn=Zp,o.without=qd,o.words=Wa,o.wrap=$h,o.xor=jd,o.xorBy=Xd,o.xorWith=Yd,o.zip=Zd,o.zipObject=Jd,o.zipObjectDeep=Qd,o.zipWith=eh,o.entries=Ma,o.entriesIn=Pa,o.extend=Oa,o.extendWith=Ir,eu(o,o),o.add=Zg,o.attempt=Ua,o.camelCase=ng,o.capitalize=Da,o.ceil=Jg,o.clamp=Jp,o.clone=Kh,o.cloneDeep=jh,o.cloneDeepWith=Xh,o.cloneWith=qh,o.conformsTo=Yh,o.deburr=ka,o.defaultTo=Ng,o.divide=Qg,o.endsWith=tg,o.eq=Ye,o.escape=rg,o.escapeRegExp=ig,o.every=ch,o.find=hh,o.findIndex=la,o.findKey=Ip,o.findLast=ph,o.findLastIndex=fa,o.findLastKey=Ep,o.floor=ev,o.forEach=va,o.forEachRight=ma,o.forIn=Tp,o.forInRight=yp,o.forOwn=Np,o.forOwnRight=Lp,o.get=Xi,o.gt=Zh,o.gte=Jh,o.has=Bp,o.hasIn=Yi,o.head=da,o.identity=ye,o.includes=xh,o.indexOf=pd,o.inRange=Qp,o.invoke=Dp,o.isArguments=Bn,o.isArray=B,o.isArrayBuffer=Qh,o.isArrayLike=Ee,o.isArrayLikeObject=ae,o.isBoolean=ep,o.isBuffer=bn,o.isDate=np,o.isElement=tp,o.isEmpty=rp,o.isEqual=ip,o.isEqualWith=up,o.isError=qi,o.isFinite=op,o.isFunction=cn,o.isInteger=ba,o.isLength=Ar,o.isMap=Ia,o.isMatch=ap,o.isMatchWith=sp,o.isNaN=lp,o.isNative=fp,o.isNil=dp,o.isNull=cp,o.isNumber=Ea,o.isObject=te,o.isObjectLike=ie,o.isPlainObject=Ct,o.isRegExp=ji,o.isSafeInteger=hp,o.isSet=Ta,o.isString=br,o.isSymbol=Fe,o.isTypedArray=Zn,o.isUndefined=pp,o.isWeakMap=gp,o.isWeakSet=vp,o.join=xd,o.kebabCase=ug,o.last=$e,o.lastIndexOf=wd,o.lowerCase=og,o.lowerFirst=ag,o.lt=mp,o.lte=_p,o.max=nv,o.maxBy=tv,o.mean=rv,o.meanBy=iv,o.min=uv,o.minBy=ov,o.stubArray=tu,o.stubFalse=ru,o.stubObject=zg,o.stubString=Kg,o.stubTrue=qg,o.multiply=av,o.nth=Sd,o.noConflict=Dg,o.noop=nu,o.now=Sr,o.pad=sg,o.padEnd=lg,o.padStart=fg,o.parseInt=cg,o.random=eg,o.reduce=Ah,o.reduceRight=bh,o.repeat=dg,o.replace=hg,o.result=$p,o.round=sv,o.runInContext=c,o.sample=Eh,o.size=Nh,o.snakeCase=pg,o.some=Lh,o.sortedIndex=Td,o.sortedIndexBy=yd,o.sortedIndexOf=Nd,o.sortedLastIndex=Ld,o.sortedLastIndexBy=Od,o.sortedLastIndexOf=Fd,o.startCase=vg,o.startsWith=mg,o.subtract=lv,o.sum=fv,o.sumBy=cv,o.template=_g,o.times=jg,o.toFinite=dn,o.toInteger=M,o.toLength=Na,o.toLower=xg,o.toNumber=ze,o.toSafeInteger=xp,o.toString=q,o.toUpper=wg,o.trim=Sg,o.trimEnd=Cg,o.trimStart=Rg,o.truncate=Ag,o.unescape=bg,o.uniqueId=Yg,o.upperCase=Ig,o.upperFirst=Zi,o.each=va,o.eachRight=ma,o.first=da,eu(o,function(){var e={};return Qe(o,function(n,t){j.call(o.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),o.VERSION=v,We(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),We(["drop","take"],function(e,n){U.prototype[e]=function(t){t=t===u?1:he(M(t),0);var r=this.__filtered__&&!n?new U(this):this.clone();return r.__filtered__?r.__takeCount__=we(t,r.__takeCount__):r.__views__.push({size:we(t,Je),type:e+(r.__dir__<0?"Right":"")}),r},U.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),We(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==fu||t==Ss;U.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:N(i,3),type:t}),a.__filtered__=a.__filtered__||r,a}}),We(["head","last"],function(e,n){var t="take"+(n?"Right":"");U.prototype[e]=function(){return this[t](1).value()[0]}}),We(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");U.prototype[e]=function(){return this.__filtered__?new U(this):this[t](1)}}),U.prototype.compact=function(){return this.filter(ye)},U.prototype.find=function(e){return this.filter(e).head()},U.prototype.findLast=function(e){return this.reverse().find(e)},U.prototype.invokeMap=k(function(e,n){return typeof e=="function"?new U(this):this.map(function(t){return vt(t,e,n)})}),U.prototype.reject=function(e){return this.filter(Rr(N(e)))},U.prototype.slice=function(e,n){e=M(e);var t=this;return t.__filtered__&&(e>0||n<0)?new U(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==u&&(n=M(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},U.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},U.prototype.toArray=function(){return this.take(Je)},Qe(U.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=o[r?"take"+(n=="last"?"Right":""):n],a=r||/^find/.test(n);i&&(o.prototype[n]=function(){var l=this.__wrapped__,f=r?[1]:arguments,d=l instanceof U,_=f[0],x=d||B(l),w=function(W){var G=i.apply(o,_n([W],f));return r&&A?G[0]:G};x&&t&&typeof _=="function"&&_.length!=1&&(d=x=!1);var A=this.__chain__,T=!!this.__actions__.length,L=a&&!A,D=d&&!T;if(!a&&x){l=D?l:new U(this);var O=e.apply(l,f);return O.__actions__.push({func:xr,args:[w],thisArg:u}),new Ge(O,A)}return L&&D?e.apply(this,f):(O=this.thru(w),L?r?O.value()[0]:O.value():O)})}),We(["pop","push","shift","sort","splice","unshift"],function(e){var n=zt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var a=this.value();return n.apply(B(a)?a:[],i)}return this[t](function(l){return n.apply(B(l)?l:[],i)})}}),Qe(U.prototype,function(e,n){var t=o[n];if(t){var r=t.name+"";j.call(Kn,r)||(Kn[r]=[]),Kn[r].push({name:n,func:t})}}),Kn[dr(u,Q).name]=[{name:"wrapper",func:u}],U.prototype.clone=bf,U.prototype.reverse=If,U.prototype.value=Ef,o.prototype.at=th,o.prototype.chain=rh,o.prototype.commit=ih,o.prototype.next=uh,o.prototype.plant=ah,o.prototype.reverse=sh,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=lh,o.prototype.first=o.prototype.head,lt&&(o.prototype[lt]=oh),o},Vn=rf();In?((In.exports=Vn)._=Vn,Qr._=Vn):me._=Vn}).call(i_)}(At,At.exports)),At.exports}var o_=u_();const a_=dv(o_);function s_({section:s,header:h}){var fe,X;const{displayHints:u}=gn(),{fitToScale:v}=u,S=s.metadata.itemSize,R=s.itemsInView,I=oe(R)&&R<2,C=I?R+.3:void 0,y=Nt(),{isMobile:E}=_m(),P=(fe=u.experimentalOptions)==null?void 0:fe.includes(Pv.PANCAKE_STACK_VERTICAL),H=V.useMemo(()=>{if(I)return"exact";if(y&&S===ge.M)return"agentWide";if(S===ge.XS)return"extraNarrow";if(S===ge.S)return"narrow";if(S===ge.L)return"large";if(S===ge.XL)return"xlarge"},[I,y,S]),K=V.useMemo(()=>{var Q,ve;return((ve=(Q=s.items)==null?void 0:Q.nodes)==null?void 0:ve.filter(oe))??[]},[(X=s.items)==null?void 0:X.nodes]),le=V.useMemo(()=>P?a_.chunk(K,Dv):[],[P,K]);if(!K.length)return null;const Y=P?le.map((Q,ve)=>g.jsx("div",{"data-testid":"pancake-stack-vertical",className:"flex flex-col gap-space-16 gap-x-space-8 ",children:Q.map((ce,xe)=>g.jsx("div",{className:$("flex flex-1 flex-col",ce.__typename==="ProductCard"&&ce.product.reviewAnalytics==null?"mb-space-16":""),children:g.jsx(It,{index:xe,item:ce,size:S})},`${ce.__typename}-${ve}-${xe}`))},`${ve}`)):K.map((Q,ve)=>g.jsx(It,{index:ve,item:Q,size:S},ve));return g.jsx(mm,{"data-test-id":"shelf-section",autoWidth:y&&!R,headerClassName:$("md:pr-space-20",gs.ShowsArrowButtons),swiperClassName:$(v?"items-stretch":"",y?"md:-mx-space-20 md:px-space-20 -mx-space-20 px-space-20":"-mx-space-16 px-space-16 md:mx-space-0 md:px-space-0"),wrapperClassName:$("pb-space-8"),slideClassName:$(v?"flex flex-col h-auto min-h-0 min-w-0":""),title:g.jsx("div",{className:"mb-space-8 w-full",children:h}),itemType:H,exactItemsInView:C,containerBasedBreakpoint:!!y,showFloatingNavArrows:!!y,swiperProps:E?{slidesPerView:"auto",freeMode:{enabled:!0,sticky:!1},resistance:!1}:void 0,children:Y})}function l_({section:s}){const h=Nt();return s.item?g.jsx("div",{className:$(h?"":"mx-space-6 px-space-20 pt-space-16 md:mx-space-8"),"data-testid":"SingleSection",children:g.jsx(It,{item:s.item,size:s.metadata.itemSize})}):null}const f_="#00000026",c_=180,d_=70,h_=({reviews:{averageRating:s,totalProductRatings:h}})=>{const u=s.toPrecision(2),v=ue.language;return g.jsxs("div",{className:"m-space-8 inline-flex flex-row items-center justify-center gap-space-4 rounded-radius-8 bg-bg-overlay-fixed-light-40 p-space-8 backdrop-blur","aria-label":ue.t("ProductDetails.AverageRating",{rating:Number(u),count:h}),children:[g.jsx(Pe,{variant:"caption",children:u}),g.jsx(Et,{name:"star-filled",size:"s",className:"text-text"}),g.jsx(Pe,{variant:"caption",children:ue.t("ProductDetails.ReviewsCount",{totalReviews:cs(h,v)})})]})},Qa=({wordmark:s,reviews:h,above:u})=>{const v=oe(h)?d_:c_;return g.jsxs("div",{className:$("z-10 mx-space-64 my-space-48 flex flex-col content-center items-center justify-items-center gap-space-8 self-center",u?"md:hidden":"hidden w-[40%] md:flex"),children:[g.jsx(wm,{src:s.url,alt:s.altText??void 0,className:$("object-contain"),style:{maxHeight:u?v:void 0}}),oe(h)?g.jsx(h_,{reviews:h}):null]})},p_=({underlay:s})=>{const h=Rm(),u=V.useMemo(()=>rs(s.incentive),[s.incentive]),v=V.useMemo(()=>{if(!u)return null;const{badgeText:I,accessibilityLabel:C,afterBadgeText:y}=u.boosted?um({...u.boosted,formattedMinimumOrderValue:u.boosted.formattedMinimumOrderValue}):om({percent:u.cashback.ratePercentage.toFixed(),formattedMaxApplicableOrderAmount:Sm(u.cashback.maxApplicableOrderAmount,Cm(u.cashback.maxApplicableOrderAmount)),eligibleShopCashBackRate:h.eligibleShopCashBackRate}),E=u.boosted?"boostedLarge":"cashBackLarge";return{badgeText:I,accessibilityLabel:C,afterBadgeText:y,badgeVariant:E}},[u,h]),{badge:S,afterBadgeText:R}=V.useMemo(()=>v?{badge:{text:v.badgeText,variant:v.badgeVariant,iconAccessibilityLabel:v.accessibilityLabel},afterBadgeText:v.afterBadgeText}:{badge:null,afterBadgeText:""},[v]);return!v||!S?null:g.jsx("div",{"data-testid":"feed-section-container-underlay",className:$("z-15 relative my-space-8 flex items-center justify-center px-space-8"),children:g.jsx(am,{badge:S,afterBadgeText:R,variant:"storeBanner",noAction:!0})})},ms=({underlay:s})=>kv(s)?g.jsx(p_,{underlay:s}):null,g_="_ImageFeedSection_q4axl_1",v_="_VideoFeedSection_q4axl_6",m_="_VideoWrapper_q4axl_12",__="_VideoBackground_q4axl_22",x_="_VideoGradientOverlay_q4axl_28",w_="_ImageFeedSectionFullContainer_q4axl_95",S_="_VideoFeedSectionFullContainer_q4axl_113",C_="_VideoWrapperFullContainer_q4axl_119",R_="_VideoGradientOverlayFullContainer_q4axl_126",yr={ImageFeedSection:g_,VideoFeedSection:v_,VideoWrapper:m_,VideoBackground:__,VideoGradientOverlay:x_,ImageFeedSectionFullContainer:w_,VideoFeedSectionFullContainer:S_,VideoWrapperFullContainer:C_,VideoGradientOverlayFullContainer:R_},A_={...mv,"bg-fill-tertiary":"#FFFFFF40"},b_=({children:s,sectionDecoration:h,backgroundVideo:u,underlay:v,backgroundMediaStyle:S})=>{const R=Nt(),I=oe(v),C=(()=>{if(S)return R?S.classKey==="ImageFeedSection"?"ImageFeedSectionFullContainer":"VideoFeedSectionFullContainer":S.classKey})(),y=(()=>{if(oe(u))return R?"VideoWrapperFullContainer":"VideoWrapper"})(),E=(()=>{if(oe(u))return R?"VideoGradientOverlayFullContainer":"VideoGradientOverlay"})();return g.jsxs(Am,{override:A_,children:[g.jsxs("div",{"data-testid":"feed-section-background-media-container",className:$("relative flex flex-col rounded-radius-20 p-space-20 md:flex-row",I?"shadow-m":void 0,C?yr[C]:void 0),style:S==null?void 0:S.style,children:[oe(u)&&y&&E&&g.jsxs("div",{className:$(yr[y]),children:[g.jsx(xm,{className:yr.VideoBackground,previewImageSource:u.previewImage??void 0,sources:{default:u.url}}),g.jsx("div",{className:yr[E]})]}),oe(h)&&g.jsxs(g.Fragment,{children:[g.jsx(Qa,{...h,above:!0},"above"),g.jsx(Qa,{...h,beside:!0},"beside")]}),g.jsx("div",{"data-testid":"feed-section-container-content",className:$("z-10 flex max-w-full flex-col",oe(h)?"md:max-w-[60%]":null),children:s})]}),I?g.jsx(ms,{underlay:v}):null]})},I_=({elevated:s,action:h,children:u})=>{const v=bm(),S=oe(h)&&is(h)?h:null,R=et(),I=su(),{trackingValues:{subject:C}}=gn(),y=V.useCallback(()=>{I&&(S!=null&&S.url.includes("/m/")||S!=null&&S.url.includes("shopapp://store/"))&&I.navigateToShop({url:S.url,shopId:C&&yt(C)?C.shop.id:void 0}),R.sectionPressed()},[I,S==null?void 0:S.url,C,R]);return g.jsx(Tt,{testId:"clickable-feed-section",to:s&&v&&!I?S==null?void 0:S.url:void 0,onClick:y,children:u})};function E_({displayHints:s,subject:h}){const u=s!=null&&s.options.includes(pn.WORDMARK)?s.wordmark:null;if(!oe(u)||u.sensitive)return null;const v=s!=null&&s.options.includes(pn.REVIEWS)&&oe(h)?T_(h.shop.productReviewAnalytics):null;return{wordmark:u,reviews:v}}function T_(s){if(!oe(s))return null;const{averageRating:h,totalProductRatings:u}=s;return oe(h)?{averageRating:h,totalProductRatings:u}:null}function y_(s,h){return`rgb(from ${s} r g b / ${h})`}function N_(s){switch(s==null?void 0:s.__typename){case"Image":return L_(s);case"Video":case"":case void 0:return null}}function L_(s){return s!=null&&s.sensitive?null:(s==null?void 0:s.url)??null}function O_(s){const h={backgroundMediaStyle:null,backgroundVideo:null};if(!oe(s))return h;const{options:u,backgroundMedia:v,overlayColor:S,dominantCoverColor:R}=s;if(!u.includes(pn.ELEVATED))return h;if(u.includes(pn.IMAGE)){const I=N_(v==null?void 0:v.source),[C,y]=es(S,R);oe(I)&&(h.backgroundMediaStyle={classKey:"ImageFeedSection",style:{"--image-feed-section-first-color":C,"--image-feed-section-second-color":y,"--image-feed-section-image":`url(${I})`},brandedBackgroundColor:"black"})}if(u.includes(pn.VIDEO)){(v==null?void 0:v.source.__typename)==="Video"&&(h.backgroundVideo=v.source);const[I,C]=es(S,R);oe(h.backgroundVideo)&&(h.backgroundMediaStyle={classKey:"VideoFeedSection",style:{"--video-feed-section-first-color":I,"--video-feed-section-second-color":C},brandedBackgroundColor:"black"})}return h}function es(s,h){const u=s??f_,v=h??y_(u,1);return[u,v]}const F_=({children:s,displayHints:h,underlay:u,subject:v,action:S})=>{const{theme:R}=gv(),I=Nt(),y=!!ns(),{backgroundMediaStyle:E,backgroundVideo:P}=V.useMemo(()=>O_(h),[h]),H=h==null?void 0:h.options.includes(pn.ELEVATED),K=H&&oe(u),le=V.useMemo(()=>E_({subject:oe(v)&&yt(v)?v:null,displayHints:h}),[v,h]),Y=oe(E),fe=V.useMemo(()=>{if(Y&&K)return E==null?void 0:E.brandedBackgroundColor;if(h!=null&&h.backgroundColorHsl)return h==null?void 0:h.backgroundColorHsl;if(R!=null&&R.sectionCardBackgroundColor)return R==null?void 0:R.sectionCardBackgroundColor},[Y,K,h==null?void 0:h.backgroundColorHsl,E==null?void 0:E.brandedBackgroundColor,R==null?void 0:R.sectionCardBackgroundColor]),X=V.useMemo(()=>h&&h.backgroundColorHsl?as(h.backgroundColorHsl):!1,[h]);let Q;return h!=null&&h.grouped?Q=void 0:I?Q="mb-space-0":Q=y?"gap-y-space-24":"mb-space-12 md:mb-space-24",g.jsx(I_,{elevated:H,action:S,children:g.jsx("div",{"data-testid":"feed-section-container",className:$("relative flex flex-col",Q,H?"rounded-radius-28":void 0,H&&X?"shadow-m":void 0,H&&!X?"border-[1px] border-border-secondary shadow-xs":void 0,H?"mx-space-16 md:mx-space-20":void 0,Y&&K?"bg-bg-fill-inverse":void 0,X?"dark":void 0),style:{...E==null?void 0:E.style,backgroundColor:fe??void 0,"--section-bg-color":fe??void 0},children:Y?g.jsx(b_,{sectionDecoration:le,underlay:u,backgroundVideo:P,backgroundMediaStyle:E,children:s}):g.jsxs(g.Fragment,{children:[g.jsx("div",{"data-testid":"feed-section-container-content",className:$("px-space-16 md:px-space-20",H?"py-space-16 md:py-space-20":void 0,K?"rounded-radius-20 py-space-16 shadow-m md:py-space-20":void 0),children:s}),K?g.jsx(ms,{underlay:u}):null]})})})};function B_({section:s}){return us(s)?g.jsx(s_,{section:s,header:s.header?g.jsx(vs,{header:s.header}):void 0}):Wv(s)?g.jsx(l_,{section:s}):Uv(s)?g.jsx(Mm,{section:s}):null}const M_=V.memo(({section:s})=>{var v;const h=et(),u=((v=s.metadata)==null?void 0:v.itemSize)===ge.XXS;return g.jsx(vv,{onImpression:h.sectionViewed,triggerOnce:!0,children:g.jsxs(F_,{displayHints:s.displayHints,subject:s.subject,underlay:s.underlay,action:s.action,children:[!us(s)&&s.header?g.jsx("div",{className:$(u?"mb-space-12":"mb-space-16 md:mb-space-24"),children:g.jsx(vs,{header:s.header})}):null,g.jsx(B_,{section:s}),s.footer?g.jsx(Gm,{footer:s.footer}):null]})})});M_.displayName="Section";export{Rt as M,M_ as S};
//# sourceMappingURL=Section-Bikh_H8y.js.map
