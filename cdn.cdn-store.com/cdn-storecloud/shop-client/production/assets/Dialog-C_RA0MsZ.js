import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as c}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{u as V,a as Ne,c as Re,b as w,d as O,P as U,D as Oe,e as je}from"./index-CHX9azb7.js";import{u as F,P as R,c as Te}from"./index-OFK5GZI1.js";import{P as _e,a as Fe,h as Ie,C as Pe,S as Ae}from"./index-sfFT87ua.js";import{c as N}from"./cn-yu2yf51J.js";import{I as q}from"./Icon-Vc_yr2r6.js";import{T as B}from"./Text-BrMatKQv.js";import{u as Se}from"./useTranslation-DjeLP5O7.js";var M="focusScope.autoFocusOnMount",L="focusScope.autoFocusOnUnmount",Y={bubbles:!1,cancelable:!0},we="FocusScope",oe=c.forwardRef((e,t)=>{const{loop:o=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:r,...u}=e,[i,m]=c.useState(null),f=V(a),b=V(r),h=c.useRef(null),P=F(t,l=>m(l)),x=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let l=function(g){if(x.paused||!i)return;const p=g.target;i.contains(p)?h.current=p:y(h.current,{select:!0})},D=function(g){if(x.paused||!i)return;const p=g.relatedTarget;p!==null&&(i.contains(p)||y(h.current,{select:!0}))},d=function(g){if(document.activeElement===document.body)for(const j of g)j.removedNodes.length>0&&y(i)};document.addEventListener("focusin",l),document.addEventListener("focusout",D);const E=new MutationObserver(d);return i&&E.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",D),E.disconnect()}}},[n,i,x.paused]),c.useEffect(()=>{if(i){J.add(x);const l=document.activeElement;if(!i.contains(l)){const d=new CustomEvent(M,Y);i.addEventListener(M,f),i.dispatchEvent(d),d.defaultPrevented||(Me(Ge(ne(i)),{select:!0}),document.activeElement===l&&y(i))}return()=>{i.removeEventListener(M,f),setTimeout(()=>{const d=new CustomEvent(L,Y);i.addEventListener(L,b),i.dispatchEvent(d),d.defaultPrevented||y(l??document.body,{select:!0}),i.removeEventListener(L,b),J.remove(x)},0)}}},[i,f,b,x]);const A=c.useCallback(l=>{if(!o&&!n||x.paused)return;const D=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,d=document.activeElement;if(D&&d){const E=l.currentTarget,[g,p]=Le(E);g&&p?!l.shiftKey&&d===p?(l.preventDefault(),o&&y(g,{select:!0})):l.shiftKey&&d===g&&(l.preventDefault(),o&&y(p,{select:!0})):d===E&&l.preventDefault()}},[o,n,x.paused]);return s.jsx(R.div,{tabIndex:-1,...u,ref:P,onKeyDown:A})});oe.displayName=we;function Me(e,{select:t=!1}={}){const o=document.activeElement;for(const n of e)if(y(n,{select:t}),document.activeElement!==o)return}function Le(e){const t=ne(e),o=Z(t,e),n=Z(t.reverse(),e);return[o,n]}function ne(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Z(e,t){for(const o of e)if(!ke(o,{upTo:t}))return o}function ke(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ue(e){return e instanceof HTMLInputElement&&"select"in e}function y(e,{select:t=!1}={}){if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),e!==o&&Ue(e)&&t&&e.select()}}var J=We();function We(){let e=[];return{add(t){const o=e[0];t!==o&&(o==null||o.pause()),e=Q(e,t),e.unshift(t)},remove(t){var o;e=Q(e,t),(o=e[0])==null||o.resume()}}}function Q(e,t){const o=[...e],n=o.indexOf(t);return n!==-1&&o.splice(n,1),o}function Ge(e){return e.filter(t=>t.tagName!=="A")}var k=0;function Ke(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??X()),document.body.insertAdjacentElement("beforeend",e[1]??X()),k++,()=>{k===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),k--}},[])}function X(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var I="Dialog",[se,vt]=Re(I),[ze,v]=se(I),re=e=>{const{__scopeDialog:t,children:o,open:n,defaultOpen:a,onOpenChange:r,modal:u=!0}=e,i=c.useRef(null),m=c.useRef(null),[f,b]=Ne({prop:n,defaultProp:a??!1,onChange:r,caller:I});return s.jsx(ze,{scope:t,triggerRef:i,contentRef:m,contentId:w(),titleId:w(),descriptionId:w(),open:f,onOpenChange:b,onOpenToggle:c.useCallback(()=>b(h=>!h),[b]),modal:u,children:o})};re.displayName=I;var ae="DialogTrigger",ie=c.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,a=v(ae,o),r=F(t,a.triggerRef);return s.jsx(R.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":K(a.open),...n,ref:r,onClick:O(e.onClick,a.onOpenToggle)})});ie.displayName=ae;var W="DialogPortal",[$e,ce]=se(W,{forceMount:void 0}),le=e=>{const{__scopeDialog:t,forceMount:o,children:n,container:a}=e,r=v(W,t);return s.jsx($e,{scope:t,forceMount:o,children:c.Children.map(n,u=>s.jsx(U,{present:o||r.open,children:s.jsx(_e,{asChild:!0,container:a,children:u})}))})};le.displayName=W;var _="DialogOverlay",ue=c.forwardRef((e,t)=>{const o=ce(_,e.__scopeDialog),{forceMount:n=o.forceMount,...a}=e,r=v(_,e.__scopeDialog);return r.modal?s.jsx(U,{present:n||r.open,children:s.jsx(Ve,{...a,ref:t})}):null});ue.displayName=_;var He=Te("DialogOverlay.RemoveScroll"),Ve=c.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,a=v(_,o);return s.jsx(Fe,{as:He,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(R.div,{"data-state":K(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),C="DialogContent",de=c.forwardRef((e,t)=>{const o=ce(C,e.__scopeDialog),{forceMount:n=o.forceMount,...a}=e,r=v(C,e.__scopeDialog);return s.jsx(U,{present:n||r.open,children:r.modal?s.jsx(qe,{...a,ref:t}):s.jsx(Be,{...a,ref:t})})});de.displayName=C;var qe=c.forwardRef((e,t)=>{const o=v(C,e.__scopeDialog),n=c.useRef(null),a=F(t,o.contentRef,n);return c.useEffect(()=>{const r=n.current;if(r)return Ie(r)},[]),s.jsx(fe,{...e,ref:a,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:O(e.onCloseAutoFocus,r=>{var u;r.preventDefault(),(u=o.triggerRef.current)==null||u.focus()}),onPointerDownOutside:O(e.onPointerDownOutside,r=>{const u=r.detail.originalEvent,i=u.button===0&&u.ctrlKey===!0;(u.button===2||i)&&r.preventDefault()}),onFocusOutside:O(e.onFocusOutside,r=>r.preventDefault())})}),Be=c.forwardRef((e,t)=>{const o=v(C,e.__scopeDialog),n=c.useRef(!1),a=c.useRef(!1);return s.jsx(fe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var u,i;(u=e.onCloseAutoFocus)==null||u.call(e,r),r.defaultPrevented||(n.current||(i=o.triggerRef.current)==null||i.focus(),r.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:r=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,r),r.defaultPrevented||(n.current=!0,r.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=r.target;((f=o.triggerRef.current)==null?void 0:f.contains(u))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&a.current&&r.preventDefault()}})}),fe=c.forwardRef((e,t)=>{const{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:r,...u}=e,i=v(C,o),m=c.useRef(null),f=F(t,m);return Ke(),s.jsxs(s.Fragment,{children:[s.jsx(oe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:r,children:s.jsx(Oe,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":K(i.open),...u,ref:f,onDismiss:()=>i.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ze,{titleId:i.titleId}),s.jsx(Qe,{contentRef:m,descriptionId:i.descriptionId})]})]})}),G="DialogTitle",me=c.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,a=v(G,o);return s.jsx(R.h2,{id:a.titleId,...n,ref:t})});me.displayName=G;var pe="DialogDescription",Ye=c.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,a=v(pe,o);return s.jsx(R.p,{id:a.descriptionId,...n,ref:t})});Ye.displayName=pe;var ge="DialogClose",ve=c.forwardRef((e,t)=>{const{__scopeDialog:o,...n}=e,a=v(ge,o);return s.jsx(R.button,{type:"button",...n,ref:t,onClick:O(e.onClick,()=>a.onOpenChange(!1))})});ve.displayName=ge;function K(e){return e?"open":"closed"}var xe="DialogTitleWarning",[xt,be]=je(xe,{contentName:C,titleName:G,docsSlug:"dialog"}),Ze=({titleId:e})=>{const t=be(xe),o=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(o))},[o,e]),null},Je="DialogDescriptionWarning",Qe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${be(Je).contentName}}.`;return c.useEffect(()=>{var r;const a=(r=e.current)==null?void 0:r.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Xe=re,et=ie,tt=le,ot=ue,nt=de,ee=me,st=ve;const rt="focus-visible:outline-none focus-visible:ring focus-visible:ring-border-input-active focus-visible:ring-offset-2",te="dialog-overlay";function bt({children:e}){const t=c.useContext(he);if(!t)throw new Error("DialogFooter must be used within a Dialog");return c.useEffect(()=>(t.setFooter(e),()=>t.setFooter(null)),[e,t]),null}const he=c.createContext(null),at=c.forwardRef(({className:e,trigger:t,triggerAsChild:o=!1,title:n,titleElement:a,subtitle:r,stickyHeader:u,content:i,defaultOpen:m=!1,open:f,onOpenChange:b,autoHeight:h=!1,size:P="m",contentWrapperClassName:x,headerContentClassName:A,floating:l,backgroundStyle:D,closeIcon:d,onBack:E,hideCloseButton:g=!1,overlayClassName:p,outerWrapperClassName:j},Ee)=>{const{t:ye}=Se(),[z,De]=c.useState(null),Ce=c.useCallback($=>{var H;const S=(H=$.detail)==null?void 0:H.originalEvent,T=S==null?void 0:S.target;(!T||(T==null?void 0:T.id)!==te)&&$.preventDefault()},[]);return s.jsx(Pe,{children:()=>s.jsxs(Xe,{defaultOpen:m,onOpenChange:b,open:f,children:[t&&s.jsx(et,{asChild:o,className:"focus-visible:outline-none",children:t}),s.jsxs(tt,{children:[s.jsx(ot,{id:te,className:N("fixed inset-0 z-[60] animate-fadeIn bg-bg-overlay-fixed-dark-40",p)}),s.jsx(nt,{"aria-describedby":void 0,className:N("fixed z-[60] focus:outline-none",l?"inset-x-space-16 bottom-space-16 md:inset-x-[0px]":"inset-x-[0px]",h?"bottom-0":"top-0","md:left-[50%] md:translate-x-[-50%]",l?"md:bottom-[50%] md:translate-y-[50%]":"md:top-[50%] md:translate-y-[-50%]",P==="m"?"md:w-[640px] ":"md:w-[400px]",j),ref:Ee,onInteractOutside:Ce,children:s.jsx(he.Provider,{value:{setFooter:De},children:s.jsx("div",{className:N("animation-dialog-enter relative flex h-[100vh] max-h-[100dvh] overflow-hidden shadow-md focus:outline-none md:h-[auto] md:rounded-radius-28",h?"h-auto rounded-b-radius-none rounded-t-radius-28":"md:max-h-[75vh] md:min-h-[400px]",l&&"rounded-radius-28","top-[1px] md:top-[auto]",e),children:s.jsxs("div",{className:"flex w-full flex-col bg-bg-fill",style:{background:D},children:[s.jsxs("div",{className:N(n?"px-screen-margin pb-space-12 pt-space-20":"p-space-16","flex items-center justify-between gap-space-16",A),children:[E?s.jsx("div",{className:"flex size-space-32 cursor-pointer items-center justify-center rounded-radius-max border-[.5px] border-border-image bg-bg-fill-secondary text-text hover:bg-bg-fill-secondary-hover",onClick:E,"data-testid":"dialog-back-button",children:s.jsx(q,{name:"left-chevron",size:"m",className:"size-space-20"})}):null,a!=null&&s.jsx(ee,{asChild:!0,children:a}),a==null&&n!=null&&s.jsx(ee,{className:"flex-1",children:s.jsx(B,{variant:"subtitle",as:"span",className:"md:text-headerBold",children:n})}),!g&&s.jsx(st,{className:N(rt,"z-10 -mr-space-2 ml-auto inline-flex appearance-none items-center justify-center rounded-radius-max focus-visible:outline-none focus-visible:ring focus-visible:ring-border-input-active focus-visible:ring-offset-2 md:top-space-10"),"aria-label":ye("Dialog.Close"),"data-testid":"dialog-close-button",children:d||s.jsx("div",{className:"relative flex items-center justify-center rounded-radius-max border-[.5px] border-border-image bg-bg-fill p-space-12 text-text shadow-md transition hover:bg-bg-fill-hover focus-visible:outline-none focus-visible:ring focus-visible:ring-border-input-active focus-visible:ring-offset-2 active:scale-[0.96] active:opacity-60",children:s.jsx(q,{name:"cross",size:"m",className:"size-space-20"})})})]}),r&&s.jsx("div",{className:"px-screen-margin",children:s.jsx(B,{variant:"bodyTitleSmall",className:"text-text-tertiary",children:r})}),u,s.jsx("div",{className:N("flex-1 overflow-y-auto px-screen-margin md:pt-space-8",x),children:i}),z?s.jsx("div",{className:"bg-bg-fill","data-testid":"dialog-footer",children:z}):null]})})})})]}),s.jsx(Ae,{disable:f,id:"dialog"})]})})});at.displayName="Dialog";export{st as C,at as D,rt as F,ot as O,tt as P,Xe as R,ee as T,bt as a,nt as b};
//# sourceMappingURL=Dialog-C_RA0MsZ.js.map
