import{i,G as c}from"./isApolloError-PA2thp9P.js";import{f as l,r as d}from"./chunk-DQRVZFIR-mrH3D8v7.js";import{A as f}from"./ApolloLink-BKKu2zAy.js";const r="Invalid product ID",R=s=>{var a;const t=s instanceof Error&&i(s)?s:null;return!!((a=t==null?void 0:t.graphQLErrors)==null?void 0:a.some(o=>{var u;return o.message===r||c.includes((u=o.extensions)==null?void 0:u.code)}))},C=s=>{var e;return(((e=s==null?void 0:s.networkError)==null?void 0:e.statusCode)||(s==null?void 0:s.statusCode))===429};let n;const F=()=>{const{flags:s}=l("root")||{};return d.useEffect(()=>{if(s)return n=s.sessionConsistentFeatures,()=>{n=void 0}},[s]),null},_=new f((s,t)=>(s.setContext(e=>{const a={...e.headers??{}};return n!==void 0&&(a["X-Features"]=n),{...e,headers:a}}),t(s)));export{F,R as a,_ as f,C as i};
//# sourceMappingURL=featureFlagLink-C-V4rBse.js.map
