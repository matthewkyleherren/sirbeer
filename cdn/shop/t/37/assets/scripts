$(".js-marquee-slick").not(".slick-initialized").slick({speed:4e3,autoplay:!0,autoplaySpeed:0,centerMode:!0,cssEase:"linear",slidesToShow:1,slidesToScroll:1,variableWidth:!0,infinite:!0,initialSlide:1,arrows:!1,buttons:!1}),$(window).on("load resize orientationchange",function(){$(".top-bar__info").each(function(){var $carousel=$(this);$(window).width()>1199?$carousel.hasClass("slick-initialized")&&$carousel.slick("unslick"):$carousel.hasClass("slick-initialized")||$carousel.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,fade:!0,cssEase:"linear",autoplay:7e3,dots:!1,arrows:!1})})});var app=document.getElementById("open-text");if(app){let config=$(app).parents("[data-header_cta-animation]");var typewriter=new Typewriter(app,{loop:!1,delay:35});$(config).data("header_cta-animation")=="sequence"?typewriter.typeString($(config).data("header_cta-body")).deleteAll(10).pauseFor(1e3).typeString($(config).data("header_cta-title")).pauseFor(1e3).start():typewriter.typeString($(config).data("header_cta-body")+"<br/>"+$(config).data("header_cta-title")).pauseFor(1e3).callFunction(function(){$("#open-text .Typewriter__wrapper").html($(config).data("header_cta-title"))}).start()}$(window).scroll(function(){var scroll=$(window).scrollTop();scroll>=1?($(".go-to-page").addClass("scroll"),$(".page-header__menu").addClass("hide")):($(".go-to-page").removeClass("scroll"),$(".page-header__menu").removeClass("hide"))});async function typeSentence(sentence,eleRef,delay=100){if(sentence){const letters=sentence.split("");let i=0;for(;i<letters.length;)await waitForMs(delay),$(eleRef).append(letters[i]),i++;return}}async function deleteSentence(eleRef){const sentence=$(eleRef).html();if(sentence){const letters=sentence.split("");let i=0;for(;letters.length>0;)await waitForMs(100),letters.pop(),$(eleRef).html(letters.join(""))}}async function carousel(carouselList,eleRef){var i=0;if(carouselList.length>0)for(;;)updateFontColor(eleRef,carouselList[i].color),await typeSentence(carouselList[i].text,eleRef),await waitForMs(1500),await deleteSentence(eleRef),await waitForMs(500),i++,i>=carouselList.length&&(i=0)}function updateFontColor(eleRef,color){$(eleRef).css("color",color)}function waitForMs(ms){return new Promise(resolve=>setTimeout(resolve,ms))}$(window).on("load resize orientationchange",function(){$(".product-carousel").each(function(){var $carousel=$(this);function markLastVisibleSlide(){$carousel.find(".slick-slide").removeClass("last-visible"),$carousel.find(".slick-slide.slick-active").last().addClass("last-visible")}$(window).width()<767?$carousel.hasClass("slick-initialized")&&$carousel.slick("unslick"):$carousel.hasClass("slick-initialized")?markLastVisibleSlide():($carousel.slick({dots:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:1,adaptiveHeight:!0}),$carousel.on("init reInit afterChange",function(){markLastVisibleSlide()}),$carousel.on("setPosition",function(){markLastVisibleSlide()}))}),$(".js-community-blocks").each(function(){var $community=$(this);$(window).width()<767?$community.hasClass("slick-initialized")&&$community.slick("unslick"):$community.hasClass("slick-initialized")||$community.slick({dots:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:1,adaptiveHeight:!0})})}),$(".js-video-2").length>0&&(AOS.init(),$(".aos-init").addClass("animation-done"),$(".js-video-2").each(function(){this.controls=!1}),$(".js-video-2").each(function(){$(this).closest(".aos-init").hasClass("animation-done")&&($(this).get(0).play(),$(this).removeClass("js-video-2"))})),document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger);let currentMode=null;initAllAnimations(),window.addEventListener("resize",debounce(()=>{(window.innerWidth>=1200&&currentMode!=="desktop"||window.innerWidth<1200&&currentMode!=="mobile")&&(ScrollTrigger.getAll().forEach(t=>t.kill()),resetDisplayStates(),initAllAnimations())},300));function initAllAnimations(){initProductShowcaseAnimations(),initMoodBoostingBlendAnimations(),initContentStageAnimations()}function initProductShowcaseAnimations(){if(window.innerWidth>=1200){if(currentMode="desktop",!document.querySelector(".product-showcase"))return;const tab1=document.querySelector(".animate-tab-1"),tab2=document.querySelector(".animate-tab-2"),itemsTab1=tab1.querySelectorAll(".animate-item"),itemsTab2=tab2.querySelectorAll(".animate-item"),progressTl=gsap.timeline({scrollTrigger:{trigger:".product-showcase",start:"top top",end:"25% top",scrub:!0,ease:"linear"}});gsap.timeline({scrollTrigger:{trigger:".product-showcase",start:"25% top",toggleActions:"play pause resume reverse"},defaults:{ease:"power1.in",duration:.25}}).to(itemsTab1,{opacity:0,x:"2rem",y:"1.5rem",stagger:{amount:.25,from:"end"}},"<").set(tab1,{display:"none"}).set(tab2,{display:"flex"},"<").from(itemsTab2,{opacity:0,x:"2rem",y:"1rem",ease:"power1.out",stagger:{amount:.35,from:"end"}},"<").add(()=>{animateNumber(".js-percentage-customers",73,1.5),animateNumber(".js-clinical-count",35,1.5)},"<")}else{currentMode="mobile";const mobileCards=document.querySelector(".js-mobile-cards");if(!mobileCards)return;ScrollTrigger.create({trigger:mobileCards,start:"top bottom",onEnter:()=>{resetNumbers(".js-mobile-percentage-customers",".js-mobile-clinical-count"),animateNumber(".js-mobile-percentage-customers",73,1.5),animateNumber(".js-mobile-clinical-count",35,1.5)},onEnterBack:()=>{resetNumbers(".js-mobile-percentage-customers",".js-mobile-clinical-count"),animateNumber(".js-mobile-percentage-customers",73,1.5),animateNumber(".js-mobile-clinical-count",35,1.5)}})}}function initMoodBoostingBlendAnimations(){const blendSection=document.querySelector(".mood-boosting-blend");blendSection&&ScrollTrigger.create({trigger:blendSection,start:"top bottom",onEnter:()=>{resetNumbers(".js-percentage-customers",".js-clinical-count"),animateNumber(".js-percentage-customers",73,1.5),animateNumber(".js-clinical-count",35,1.5)},onEnterBack:()=>{resetNumbers(".js-percentage-customers",".js-clinical-count"),animateNumber(".js-percentage-customers",73,1.5),animateNumber(".js-clinical-count",35,1.5)}})}function initContentStageAnimations(){if(window.innerWidth<1200)return;const sections=document.querySelectorAll(".js-content-stage");sections.length&&sections.forEach(section=>{const image=section.querySelector(".js-content-stage-image"),slides=Array.prototype.slice.call(section.querySelectorAll(".js-content-stage-slide"));if(!image||!slides.length)return;const scrollDistance=.8;gsap.to(image,{yPercent:-66.6667,ease:"none",scrollTrigger:{trigger:section,start:"top top",end:"+="+scrollDistance*100+"%",scrub:!0}}),ScrollTrigger.create({trigger:section,start:"top top",end:"+="+scrollDistance*100+"%",scrub:!0,onUpdate:function(self){const steps=slides.length;let index=Math.floor(self.progress*steps);index>=steps&&(index=steps-1),slides.forEach((slide,i)=>{slide.classList.toggle("is-active",i===index)})}});const scrollLabel=section.querySelector(".js-scroll-label");if(scrollLabel){const fullText=scrollLabel.textContent.trim();scrollLabel.textContent="";const obj={length:0},typingTween=gsap.to(obj,{length:fullText.length,duration:.8,ease:"power1.inOut",paused:!0,onStart(){scrollLabel.style.opacity=1},onUpdate(){const current=fullText.slice(0,Math.floor(obj.length));scrollLabel.textContent=current}});typingTween.eventCallback("onReverseComplete",()=>{scrollLabel.textContent="",scrollLabel.style.opacity=0}),ScrollTrigger.create({trigger:section,start:"top top",end:"+="+scrollDistance*100+"%",onEnter:()=>{typingTween.play(0)},onEnterBack:()=>{typingTween.play(0)},onLeave:()=>{typingTween.reverse()},onLeaveBack:()=>{typingTween.reverse()}})}})}function resetNumbers(...selectors){selectors.forEach(sel=>{const el=document.querySelector(sel);el&&(el.textContent="0")})}function animateNumber(selector,target,duration){const el=document.querySelector(selector);if(!el)return;let obj={value:0};gsap.to(obj,{value:target,duration,ease:"power1.out",onUpdate:function(){el.textContent=Math.floor(obj.value)}})}function debounce(func,wait){let timeout;return function(){clearTimeout(timeout),timeout=setTimeout(()=>func.apply(this,arguments),wait)}}function resetDisplayStates(){const tab1=document.querySelector(".animate-tab-1"),tab2=document.querySelector(".animate-tab-2");tab1&&tab2&&(tab1.style.display="flex",tab2.style.display="none")}}),$(".js-scroll-to-add-to-cart").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},600)}),$(".js-open-mobile-variants").on("click",function(e){$(this).siblings(".product-item__variants").addClass("open")}),$(document).on("click",function(e){!$(e.target).closest(".product-item__variants").length&&!$(e.target).closest(".js-open-mobile-variants").length&&$(".product-item__variants").removeClass("open")}),$(".js-variant-collection-product").on("click",function(e){const $this=$(this),variantId=$this.data("variant-id"),variantPrice=$this.data("variant-price"),$productItem=$this.closest(".js-product-item");$productItem.find(".js-variant-collection-product").removeClass("active"),$this.addClass("active"),$productItem.find(".js-add-to-cart-variant-collection-product").data("variant_id",variantId);const $priceDisplay=$productItem.find(".product-item__variant-price");$priceDisplay.attr("data-variant-id",variantId),$priceDisplay.text(variantPrice)}),$(".js-open-tooltip").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(this).closest(".tooltip-container").find(".js-custom-tooltip").toggleClass("active")}),$(".js-close-tooltip").on("click",function(e){e.preventDefault();const $tooltip=$(this).siblings(".js-custom-tooltip"),$openTooltip=$(this).closest(".tooltip-container").find(".js-open-tooltip");$tooltip.removeClass("active"),$openTooltip.removeClass("active")}),$(".js-tab-link").on("click",function(event){event.preventDefault();var tab_id=$(this).attr("data-tab"),tab=$(".js-tab-content[data-id='"+tab_id+"']");$(".js-tab-link").removeClass("active"),$(".js-tab-content").removeClass("current"),tab.addClass("current"),$(this).addClass("active")}),$(".dropdown-item").click(function(e){$(this).toggleClass("active")}),$(".sticky-filters .nav-link").click(function(e){$(this).toggleClass("active")}),$(".reset").click(function(e){$(".dropdown-item").removeClass("active"),$(".sticky-filters .nav-link").removeClass("active")}),$(".open-form").click(function(e){$(".addresses-form").toggleClass("hide")}),$(".dropdown-menu label, .dropdown-menu input").click(function(e){e.stopPropagation()}),$(".progress").on("click",function(){var targetWidth=parseFloat($(".progress-bar").css("width")),parentWidth=parseFloat($(".progress-bar").parent().css("width"));$(".progress-bar").css("width",100*targetWidth/parentWidth+50+"%"),targetWidth/parentWidth>=1?$(".progress").addClass("progress-bar-success"):$(".progress").removeClass("progress-bar-success")}),$(".js-category-title").bind("mousemove",function(e){var positionLeft=$(this).offset().left,positionTop=$(this).offset().top,mousePositionLeft=e.pageX,mousePositionTop=e.pageY,top=mousePositionTop-positionTop,left=mousePositionLeft-positionLeft;$(this).closest(".js-category").find(".js-category-image").css("top",top).css("left",left)});function initNavButtons(){console.log("initNavButtons");const fabElement=document.getElementById("nav");function reactToOverlap(entries){entries.forEach(entry=>{entry.isIntersecting?fabElement.classList.add("triggered"):fabElement.classList.remove("triggered")})}const observerOptions={rootMargin:getDistanceToEdge(fabElement).map(val=>`-${val}px`).join(" ")},observerInstance=new IntersectionObserver(reactToOverlap,observerOptions);document.querySelectorAll(".dark").forEach(el=>observerInstance.observe(el));function getDistanceToEdge(element){const elementBounds=element.getBoundingClientRect(),top=elementBounds.top,left=elementBounds.left,bottom=window.innerHeight-elementBounds.bottom,right=window.innerWidth-elementBounds.right;return[bottom,left,top,right]}let stickyObserverElements=null;function updateStickyObserverElementsState(){stickyObserverElements&&stickyObserverElements.forEach(function(element){const parentTop=element.parentElement.getBoundingClientRect().top,top=Math.round(element.getBoundingClientRect().top-parentTop);element.style.position="static",element.toggleAttribute("stuck",top!==Math.round(element.getBoundingClientRect().top-parentTop)),element.style.position="",element.dataset.prevClientTop=String(top)})}window.addEventListener("load",()=>{stickyObserverElements=document.querySelectorAll('[data-component~="sticky-observer"]'),updateStickyObserverElementsState()}),window.addEventListener("resize",()=>updateStickyObserverElementsState()),window.addEventListener("scroll",()=>{stickyObserverElements&&stickyObserverElements.forEach(function(element){const top=Math.round(element.getBoundingClientRect().top-element.parentElement.getBoundingClientRect().top);element.toggleAttribute("stuck",Number(element.dataset.prevClientTop)!==top),element.dataset.prevClientTop=String(top)})})}document.getElementById("nav")?initNavButtons():$("body").on("initNavButtons",function(){initNavButtons()});const scrollText=document.querySelector(".scroll-text"),scrollTextContent=document.querySelector(".scroll-text_content"),observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{entry.isIntersecting?scrollText.classList.add("opacity"):scrollText.classList.remove("opacity")})});
//# sourceMappingURL=/cdn/shop/t/37/assets/scripts.js.map?v=146569038072684207361764878028
